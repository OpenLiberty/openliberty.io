<!DOCTYPE html>
<html lang="zh-Hans">

  





<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>
    
      Creating asynchronous Java microservices using MicroProfile Reactive Messaging
    
  </title>
  <meta name="description" content="A getting started reactive programming tutorial with examples on how to send and receive messages between asynchronous Java microservices using Eclipse MicroProfile Reactive Messaging and Apache Kafka.">

  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
  

  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  
  <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/openliberty.css">
  <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/coderay-custom.css">

  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/header.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/header-dark.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/toc-multipane-static.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/end-of-guide.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/guide-card.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/tabs.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/guide-common.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/guide-multipane.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/guide-multipane-static.css">
  

  

  

  <link rel="canonical" href="https://openliberty.io/zh-Hans/guides/microprofile-reactive-messaging">
  <link rel="alternate" type="application/rss+xml" title="Open Liberty" href="/zh-Hans/feed.xml">
  <link href="https://fonts.googleapis.com/css?family=Asap:400,500" rel="stylesheet">
    
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@OpenLibertyIO" />
  <meta name="twitter:title" content="Creating asynchronous Java microservices using MicroProfile Reactive Messaging" />
  <meta name="twitter:description" content="A getting started reactive programming tutorial with examples on how to send and receive messages between asynchronous Java microservices using Eclipse MicroProfile Reactive Messaging and Apache Kafka." />

  <meta property='og:title' content="Creating asynchronous Java microservices using MicroProfile Reactive Messaging" />
  <meta property='og:image' content="https://openliberty.io/img/twitter_card.jpg" />
  <meta property='og:image:alt' content="Open Liberty Logo" />
  <meta property='og:description' content="A getting started reactive programming tutorial with examples on how to send and receive messages between asynchronous Java microservices using Eclipse MicroProfile Reactive Messaging and Apache Kafka." />
  <meta property='og:url' content="https://openliberty.io/zh-Hans/guides/microprofile-reactive-messaging" />
  <meta property='og:type' content="website" />
  
  <meta name="google-site-verification" content="h2P030H9b66CyL1nEmWfrZB8Fr14h9LmVMG7Ur0caBs" />

  
      <meta name="robots" content="noindex" />
  

  <script async defer src="https://buttons.github.io/buttons.js"></script>
</head>


  <body>
    
    

    


<!--  -->

<header>
    <nav id="nav_bar">
        <div id="nav_header">
            <a id="home_link" href="/" aria-label="Open Liberty Home">
                <img id="ol_logo" src="/img/docs_openliberty_logo.png" alt="Open Liberty Logo">
            </a>
            <button id="hamburger_toggle_button" onclick="$('#nav_bar').toggleClass('responsive');">
                <span id="hamburger_toggle_icon"></span>
            </button>
        </div>
        <div id="hamburger_menu">
            <ul class="nav_list">
                <li class="nav_link">
                    <a href="/start/">入门</a>
                </li>
                <li class="nav_link">
                    <a href="/guides/">指南</a>
                </li>
                <li class="nav_link">
                    <a href="/docs/">文档</a>
                </li>
                <li class="nav_link">
                    <a href="/support/">支持</a>
                </li>
                <li class="nav_link">
                    <a href="/blog/">博客</a>
                </li>
            </ul>
            <div id="header_round_links_container"> 
                <a id="header_twitter_link" class="header_round_button" href="https://twitter.com/OpenLibertyIO" target="_blank" rel="noopener noreferrer" aria-label="Twitter"></a>
                <a id="header_stackoverflow_link" class="header_round_button" href="https://stackoverflow.com/questions/tagged/open-liberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty questions on Stack Overflow"></a>
                <a id="header_groupsio_link" class="header_round_button" href="https://groups.io/g/openliberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty Groups.io"></a>
                <a id="header_gitter_link" class="header_round_button" href="https://app.gitter.im/#/room/#OpenLiberty_development:gitter.im" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty Gitter"></a>
            </div>
        </div>

    </nav>
</header>


    <main aria-label="Content">

      <!-- Build a list of all the documents in the guides code base -->
  
 

<!-- Remove any documents deemed private (archived, templates, etc) -->


<!-- Count number of guides from past 30 days-->
<!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
 

<!-- Sort list of guides by date with most recent first -->


<div id="background_container">
  <div id="toc_hotspot"></div>
  <!-- Guide's table of contents section -->
  <div id="toc_column" class="collapse inline open">
    <div id="toc_inner">
       
      <div id="close_container">
        <img id="toc_close_white" src="/img/toc_close_white.svg" alt="Close the table of contents" tabindex="0">
      </div>
      <h3 id="toc_title">Contents</h3>
      <div id="toc_container"><ul class="sectlevel1">
<li><a href="#what-youll-learn">What you’ll learn</a></li>
<li><a href="#additional-prerequisites">Additional prerequisites</a></li>
<li><a href="#getting-started">Getting started</a></li>
<li><a href="#creating-the-producer-in-the-system-microservice">Creating the producer in the system microservice</a></li>
<li><a href="#creating-the-consumer-in-the-inventory-microservice">Creating the consumer in the inventory microservice</a></li>
<li><a href="#configuring-the-microprofile-reactive-messaging-connectors-for-kafka">Configuring the MicroProfile Reactive Messaging connectors for Kafka</a></li>
<li><a href="#configuring-the-server">Configuring the server</a></li>
<li><a href="#building-and-running-the-application">Building and running the application</a></li>
<li><a href="#testing-the-application">Testing the application</a></li>
<li><a href="#tearing-down-the-environment">Tearing down the environment</a></li>
<li><a href="#great-work-youre-done">Great work! You’re done!</a></li>
<li><a href="#guide-attribution">Guide Attribution</a></li>
</ul></div>
      <div id="toc_separator"></div>
      
      <h3 id="tag_title">标签</h3>
      <div id="tags_container"></div>
    </div>
  </div>
  <div id="toc_indicator" tabindex="0" aria-label="Open the table of contents" class="hidden">
    <img src="/img/arrow_white.svg" alt="arrow">
  </div>
  <div id="toc_line" class="open"></div>
  <!-- Entire guide section -->
  <div id="guide_column" class="position_relative open">
    <div id="guide_content">
      <!-- Guide header section -->
      <div id="guide_meta" class="sect1" tabindex="0">
        <h1 id="guide_title">Creating reactive Java microservices</h1>
        <div id="duration_container">
          <img src="/img/guide_duration_clock_icon_large.svg" alt="duration">
          <span id="guide_duration">20 minutes</span>

          <!-- Add New flag to guides from the past 30 days or 4 most recent posts. -->
          <!-- If new posts count is less than 4, use 4 most recent posts -->
           
          <!-- If new posts count is >= 4, use posts from last 30 days-->
          
          <!-- Add Updated flag to guides if the last major update is within last 12 weeks. -->
          <!-- Count number of guides from past last 12 weeks that is 84 days-->
          <!-- 7257600 is 84 days in seconds (84 days * 24 hours * 60 minutes * 60 seconds) -->
          
        </div>
        <div id="mobile_prereqs_section">
          <p id="mobile_prereqs_title">Prerequisites:</p>
          <div class="prereqs_list"></div>
          <div class="skills_network_container">
            <div class="skills_network_description"></div>
          </div>
        </div>
      </div>

      <div class="scroller_anchor"></div>
      <div id="mobile_toc_accordion_container" data-toggle="collapse" data-target="#toc_column" aria-expanded="false" aria-controls="toc_column" role="button">
        <div role="menuitem" id="mobile_toc_accordion">
          <button class="breadcrumb_hamburger toc-toggle collapsed" type="button" tabindex="0">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <img src="/img/toc_close_green.svg" class="TOC_Close_SVG hidden img-responsive" alt="Table of contents close button">
          </button>
          <span>Table of contents</span>
        </div>
      </div>

      <!-- Guide content section -->
      <div id="preamble">
<div class="sectionbody">
<div class="admonitionblock note hidden">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This repository contains the guide documentation source. To view the guide in published form, view it on the <a href="https://openliberty.io/guides/microprofile-reactive-messaging.html">Open Liberty website</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Learn how to write reactive Java microservices using MicroProfile Reactive Messaging.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what-youll-learn">What you’ll learn</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You will learn how to build reactive microservices that can send requests to other microservices, and asynchronously receive and process the responses. You will use an external messaging system to handle the asynchronous messages that are sent and received between the microservices as streams of events. MicroProfile Reactive Messaging makes it easy to write and configure your application to send, receive, and process the events efficiently.</p>
</div>
<div class="paragraph">
<p><strong>Asynchronous messaging between microservices</strong></p>
</div>
<div class="paragraph">
<p>Asynchronous communication between microservices can be used to build reactive and responsive applications. By decoupling the requests sent by a microservice from the responses that it receives, the microservice is not blocked from performing other tasks while waiting for the requested data to become available. Imagine asynchronous communication as a restaurant. A waiter might come to your table and take your order. While you are waiting for your food to be prepared, that waiter serves other tables and takes their orders too. When your food is ready, the waiter brings your food to the table and then continues to serve the other tables. If the waiter were to operate synchronously, they must take your order and then wait until they deliver your food before serving any other tables. In microservices, a request call from a REST client to another microservice can be time-consuming because the network might be slow, or the other service might be overwhelmed with requests and can’t respond quickly. But in an asynchronous system, the microservice sends a request to another microservice and continues to send other calls and to receive and process other responses until it receives a response to the original request.</p>
</div>
<div class="paragraph">
<p><strong>What is MicroProfile Reactive Messaging?</strong></p>
</div>
<div class="paragraph">
<p>MicroProfile Reactive Messaging provides an easy way to asynchronously send, receive, and process messages that are received as continuous streams of events. You simply annotate application beans' methods and Open Liberty converts the annotated methods to reactive streams-compatible publishers, subscribers, and processors and connects them up to each other. MicroProfile Reactive Messaging provides a Connector API so that your methods can be connected to external messaging systems that produce and consume the streams of events, such as <a href="https://kafka.apache.org/" target="_blank" rel="noopener noreferrer">Apache Kafka</a>.</p>
</div>
<div class="paragraph">
<p>The application in this guide consists of two microservices, <code>system</code> and <code>inventory</code>. Every 15 seconds, the <code>system</code> microservice calculates and publishes an event that contains its current average system load. The <code>inventory</code> microservice subscribes to that information so that it can keep an updated list of all the systems and their current system loads. The current inventory of systems can be accessed via the <code>/systems</code> REST endpoint. You’ll create the <code>system</code> and <code>inventory</code> microservices using MicroProfile Reactive Messaging.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="/img/guide/microprofile-reactive-messaging/reactive-messaging-system-inventory.png" alt="Reactive system inventory">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="additional-prerequisites">Additional prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You need to have Docker installed. For installation instructions, refer to the official <a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">Docker documentation</a>. You will build and run the microservices in Docker containers. An installation of Apache Kafka is provided in another Docker container.</p>
</div>
</div>
</div>
<div class="sect1 command">
<h2 id="getting-started">Getting started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The fastest way to work through this guide is to clone the <a href="https://github.com/openliberty/guide-microprofile-reactive-messaging.git" target="_blank" rel="noopener noreferrer">Git repository</a> and use the projects that are provided inside:</p>
</div>
<div id="git_clone" class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>git clone https://github.com/openliberty/guide-microprofile-reactive-messaging.git
cd guide-microprofile-reactive-messaging</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>start</code> directory contains the starting project that you will build upon.</p>
</div>
<div class="paragraph">
<p>The <code>finish</code> directory contains the finished project that you will build.</p>
</div>
<div class="paragraph">
<p>Before you begin, make sure you have all the necessary <span class="prerequisites">prerequisites</span>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-the-producer-in-the-system-microservice">Creating the producer in the system microservice</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Navigate to the <code>start</code> directory to begin.</p>
</div>
<div class="paragraph">
<p>The <code>system</code> microservice is the producer of the messages that are published to the Kafka messaging system as a stream of events. Every 15 seconds, the <code>system</code> microservice publishes an event that contains its calculation of the average system load (its CPU usage) for the last minute.</p>
</div>
<div class="listingblock code_command hotspot file=0">
<div class="content">
<pre><mark>Create the <code>SystemService</code> class.</mark>
<code>system/src/main/java/io/openliberty/guides/system/SystemService.java</code></pre>
</div>
</div>
<div class="paragraph">
<p>SystemService.java</p>
</div>
<div class="listingblock code_column hide_tags=copyright">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="Java"><span class="line-numbers"> 1</span><span class="comment">// tag::copyright[]</span>
<span class="line-numbers"> 2</span><span class="comment">/*******************************************************************************</span>
<span class="line-numbers"> 3</span><span class="comment"> * Copyright (c) 2020 IBM Corporation and others.</span>
<span class="line-numbers"> 4</span><span class="comment"> * All rights reserved. This program and the accompanying materials</span>
<span class="line-numbers"> 5</span><span class="comment"> * are made available under the terms of the Eclipse Public License v1.0</span>
<span class="line-numbers"> 6</span><span class="comment"> * which accompanies this distribution, and is available at</span>
<span class="line-numbers"> 7</span><span class="comment"> * http://www.eclipse.org/legal/epl-v10.html</span>
<span class="line-numbers"> 8</span><span class="comment"> *</span>
<span class="line-numbers"> 9</span><span class="comment"> * Contributors:</span>
<span class="line-numbers">10</span><span class="comment"> *     IBM Corporation - Initial implementation</span>
<span class="line-numbers">11</span><span class="comment"> *******************************************************************************/</span>
<span class="line-numbers">12</span><span class="comment">// end::copyright[]</span>
<span class="line-numbers">13</span><span class="keyword">package</span> <span class="namespace">io.openliberty.guides.system</span>;
<span class="line-numbers">14</span>
<span class="line-numbers">15</span><span class="keyword">import</span> <span class="include">java.lang.management.ManagementFactory</span>;
<span class="line-numbers">16</span><span class="keyword">import</span> <span class="include">java.lang.management.OperatingSystemMXBean</span>;
<span class="line-numbers">17</span><span class="keyword">import</span> <span class="include">java.net.InetAddress</span>;
<span class="line-numbers">18</span><span class="keyword">import</span> <span class="include">java.net.UnknownHostException</span>;
<span class="line-numbers">19</span><span class="keyword">import</span> <span class="include">java.util.concurrent.TimeUnit</span>;
<span class="line-numbers">20</span>
<span class="line-numbers">21</span><span class="keyword">import</span> <span class="include">javax.enterprise.context.ApplicationScoped</span>;
<span class="line-numbers">22</span>
<span class="line-numbers">23</span><span class="keyword">import</span> <span class="include">org.eclipse.microprofile.reactive.messaging.Outgoing</span>;
<span class="line-numbers">24</span><span class="keyword">import</span> <span class="include">org.reactivestreams.Publisher</span>;
<span class="line-numbers">25</span>
<span class="line-numbers">26</span><span class="keyword">import</span> <span class="include">io.openliberty.guides.models.SystemLoad</span>;
<span class="line-numbers">27</span><span class="keyword">import</span> <span class="include">io.reactivex.rxjava3.core.Flowable</span>;
<span class="line-numbers">28</span>
<span class="line-numbers">29</span><span class="annotation">@ApplicationScoped</span>
<span class="line-numbers">30</span><span class="directive">public</span> <span class="type">class</span> <span class="class">SystemService</span> {
<span class="line-numbers">31</span>
<span class="line-numbers">32</span>    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">OperatingSystemMXBean</span> osMean = 
<span class="line-numbers">33</span>            <span class="predefined-type">ManagementFactory</span>.getOperatingSystemMXBean();
<span class="line-numbers">34</span>    <span class="directive">private</span> <span class="directive">static</span> <span class="predefined-type">String</span> hostname = <span class="predefined-constant">null</span>;
<span class="line-numbers">35</span>
<span class="line-numbers">36</span>    <span class="directive">private</span> <span class="directive">static</span> <span class="predefined-type">String</span> getHostname() {
<span class="line-numbers">37</span>        <span class="keyword">if</span> (hostname == <span class="predefined-constant">null</span>) {
<span class="line-numbers">38</span>            <span class="keyword">try</span> {
<span class="line-numbers">39</span>                <span class="keyword">return</span> <span class="predefined-type">InetAddress</span>.getLocalHost().getHostName();
<span class="line-numbers">40</span>            } <span class="keyword">catch</span> (<span class="exception">UnknownHostException</span> e) {
<span class="line-numbers">41</span>                <span class="keyword">return</span> <span class="predefined-type">System</span>.getenv(<span class="string"><span class="delimiter">"</span><span class="content">HOSTNAME</span><span class="delimiter">"</span></span>);
<span class="line-numbers">42</span>            }
<span class="line-numbers">43</span>        }
<span class="line-numbers">44</span>        <span class="keyword">return</span> hostname;
<span class="line-numbers">45</span>    }
<span class="line-numbers">46</span>
<span class="line-numbers">47</span>    <span class="comment">// tag::sendSystemLoad[]</span>
<span class="line-numbers">48</span>    <span class="comment">// tag::publishSystemLoad[]</span>
<span class="line-numbers">49</span>    <span class="annotation">@Outgoing</span>(<span class="string"><span class="delimiter">"</span><span class="content">systemLoad</span><span class="delimiter">"</span></span>)
<span class="line-numbers">50</span>    <span class="comment">// end::publishSystemLoad[]</span>
<span class="line-numbers">51</span>    <span class="directive">public</span> Publisher&lt;SystemLoad&gt; sendSystemLoad() {
<span class="line-numbers">52</span>        <span class="comment">// tag::flowableInterval[]</span>
<span class="line-numbers">53</span>        <span class="keyword">return</span> Flowable.interval(<span class="integer">15</span>, <span class="predefined-type">TimeUnit</span>.SECONDS)
<span class="line-numbers">54</span>                .map((interval -&gt; <span class="keyword">new</span> SystemLoad(getHostname(),
<span class="line-numbers">55</span>                        <span class="keyword">new</span> <span class="predefined-type">Double</span>(osMean.getSystemLoadAverage()))));
<span class="line-numbers">56</span>        <span class="comment">// end::flowableInterval[]</span>
<span class="line-numbers">57</span>    }
<span class="line-numbers">58</span>    <span class="comment">// end::sendSystemLoad[]</span>
<span class="line-numbers">59</span>
<span class="line-numbers">60</span>}</code></pre>
</div>
</div>
<div class="paragraph">
<p>system/microprofile-config.properties</p>
</div>
<div class="listingblock code_column hide_tags=copyright">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="Text"><span class="line-numbers"> 1</span># Kafka connection details
<span class="line-numbers"> 2</span># tag::kafkaConfig[]
<span class="line-numbers"> 3</span>mp.messaging.connector.liberty-kafka.bootstrap.servers=localhost:9093
<span class="line-numbers"> 4</span># end::kafkaConfig[]
<span class="line-numbers"> 5</span>
<span class="line-numbers"> 6</span># systemLoad stream
<span class="line-numbers"> 7</span># tag::systemLoad[]
<span class="line-numbers"> 8</span># tag::kafka1[]
<span class="line-numbers"> 9</span>mp.messaging.outgoing.systemLoad.connector=liberty-kafka
<span class="line-numbers">10</span># end::kafka1[]
<span class="line-numbers">11</span># tag::topic1[]
<span class="line-numbers">12</span>mp.messaging.outgoing.systemLoad.topic=system.load
<span class="line-numbers">13</span># end::topic1[]
<span class="line-numbers">14</span># tag::serializer1[]
<span class="line-numbers">15</span>mp.messaging.outgoing.systemLoad.key.serializer=org.apache.kafka.common.serialization.StringSerializer
<span class="line-numbers">16</span># end::serializer1[]
<span class="line-numbers">17</span># tag::serializerVal1[]
<span class="line-numbers">18</span>mp.messaging.outgoing.systemLoad.value.serializer=io.openliberty.guides.models.SystemLoad$SystemLoadSerializer
<span class="line-numbers">19</span># end::serializerVal1[]
<span class="line-numbers">20</span># end::systemLoad[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>SystemService</code> class contains a <code>Publisher</code> method that is called <code class="hotspot=sendSystemLoad file=0">sendSystemLoad()</code>, which calculates and returns the average system load. The <code class="hotspot=publishSystemLoad file=0">@Outgoing</code> annotation on the <code class="hotspot=sendSystemLoad file=0">sendSystemLoad()</code> method indicates that the method publishes its calculation as a message on a topic in the Kafka messaging system. The <code class="hotspot=flowableInterval file=0">Flowable.interval()</code> method from <code>rxJava</code> is used to set the frequency of how often the system service publishes the calculation to the event stream.</p>
</div>
<div class="paragraph">
<p>The messages are transported between the service and the Kafka messaging system through a channel called <code class="hotspot=systemLoad file=1">systemLoad</code>. The name of the channel to use is set in the <code class="hotspot=publishSystemLoad file=0">@Outgoing("systemLoad")</code> annotation. Later in the guide, you will configure the service so that any messages sent by the <code>system</code> service through the <code class="hotspot=systemLoad file=1">systemLoad</code> channel are published on a topic called <code class="hotspot=topic1 file=1">system.load</code>, as shown in the following diagram:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="/img/guide/microprofile-reactive-messaging/reactive-messaging-system-inventory-publisher.png" alt="Reactive system publisher">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-the-consumer-in-the-inventory-microservice">Creating the consumer in the inventory microservice</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>inventory</code> microservice records in its inventory the average system load information that it received from potentially multiple instances of the <code>system</code> service.</p>
</div>
<div class="listingblock code_command hotspot file=0">
<div class="content">
<pre><mark>Create the <code>InventoryResource</code> class.</mark>
<code>inventory/src/main/java/io/openliberty/guides/inventory/InventoryResource.java</code></pre>
</div>
</div>
<div class="paragraph">
<p>InventoryResource.java</p>
</div>
<div class="listingblock code_column hide_tags=copyright">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="Java"><span class="line-numbers">  1</span><span class="comment">// tag::copyright[]</span>
<span class="line-numbers">  2</span><span class="comment">/*******************************************************************************</span>
<span class="line-numbers">  3</span><span class="comment"> * Copyright (c) 2020 IBM Corporation and others.</span>
<span class="line-numbers">  4</span><span class="comment"> * All rights reserved. This program and the accompanying materials</span>
<span class="line-numbers">  5</span><span class="comment"> * are made available under the terms of the Eclipse Public License v1.0</span>
<span class="line-numbers">  6</span><span class="comment"> * which accompanies this distribution, and is available at</span>
<span class="line-numbers">  7</span><span class="comment"> * http://www.eclipse.org/legal/epl-v10.html</span>
<span class="line-numbers">  8</span><span class="comment"> *</span>
<span class="line-numbers">  9</span><span class="comment"> * Contributors:</span>
<span class="line-numbers"> 10</span><span class="comment"> *     IBM Corporation - Initial implementation</span>
<span class="line-numbers"> 11</span><span class="comment"> *******************************************************************************/</span>
<span class="line-numbers"> 12</span><span class="comment">// end::copyright[]</span>
<span class="line-numbers"> 13</span><span class="keyword">package</span> <span class="namespace">io.openliberty.guides.inventory</span>;
<span class="line-numbers"> 14</span>
<span class="line-numbers"> 15</span><span class="keyword">import</span> <span class="include">java.util.List</span>;
<span class="line-numbers"> 16</span><span class="keyword">import</span> <span class="include">java.util.Optional</span>;
<span class="line-numbers"> 17</span><span class="keyword">import</span> <span class="include">java.util.Properties</span>;
<span class="line-numbers"> 18</span><span class="keyword">import</span> <span class="include">java.util.logging.Logger</span>;
<span class="line-numbers"> 19</span><span class="keyword">import</span> <span class="include">java.util.stream.Collectors</span>;
<span class="line-numbers"> 20</span>
<span class="line-numbers"> 21</span><span class="keyword">import</span> <span class="include">javax.enterprise.context.ApplicationScoped</span>;
<span class="line-numbers"> 22</span><span class="keyword">import</span> <span class="include">javax.inject.Inject</span>;
<span class="line-numbers"> 23</span><span class="keyword">import</span> <span class="include">javax.ws.rs.DELETE</span>;
<span class="line-numbers"> 24</span><span class="keyword">import</span> <span class="include">javax.ws.rs.GET</span>;
<span class="line-numbers"> 25</span><span class="keyword">import</span> <span class="include">javax.ws.rs.Path</span>;
<span class="line-numbers"> 26</span><span class="keyword">import</span> <span class="include">javax.ws.rs.PathParam</span>;
<span class="line-numbers"> 27</span><span class="keyword">import</span> <span class="include">javax.ws.rs.Produces</span>;
<span class="line-numbers"> 28</span><span class="keyword">import</span> <span class="include">javax.ws.rs.core.MediaType</span>;
<span class="line-numbers"> 29</span><span class="keyword">import</span> <span class="include">javax.ws.rs.core.Response</span>;
<span class="line-numbers"> 30</span>
<span class="line-numbers"> 31</span><span class="keyword">import</span> <span class="include">org.eclipse.microprofile.reactive.messaging.Incoming</span>;
<span class="line-numbers"> 32</span>
<span class="line-numbers"> 33</span><span class="keyword">import</span> <span class="include">io.openliberty.guides.models.SystemLoad</span>;
<span class="line-numbers"> 34</span>
<span class="line-numbers"> 35</span><span class="annotation">@ApplicationScoped</span>
<span class="line-numbers"> 36</span><span class="comment">//tag::inventoryEndPoint[]</span>
<span class="line-numbers"> 37</span><span class="annotation">@Path</span>(<span class="string"><span class="delimiter">"</span><span class="content">/inventory</span><span class="delimiter">"</span></span>)
<span class="line-numbers"> 38</span><span class="comment">//end::inventoryEndPoint[]</span>
<span class="line-numbers"> 39</span><span class="directive">public</span> <span class="type">class</span> <span class="class">InventoryResource</span> {
<span class="line-numbers"> 40</span>
<span class="line-numbers"> 41</span>    <span class="directive">private</span> <span class="directive">static</span> <span class="predefined-type">Logger</span> logger = <span class="predefined-type">Logger</span>.getLogger(InventoryResource.class.getName());
<span class="line-numbers"> 42</span>
<span class="line-numbers"> 43</span>    <span class="annotation">@Inject</span>
<span class="line-numbers"> 44</span>    <span class="directive">private</span> InventoryManager manager;
<span class="line-numbers"> 45</span>    
<span class="line-numbers"> 46</span>    <span class="annotation">@GET</span>
<span class="line-numbers"> 47</span>    <span class="annotation">@Path</span>(<span class="string"><span class="delimiter">"</span><span class="content">/systems</span><span class="delimiter">"</span></span>)
<span class="line-numbers"> 48</span>    <span class="annotation">@Produces</span>(MediaType.APPLICATION_JSON)
<span class="line-numbers"> 49</span>    <span class="directive">public</span> Response getSystems() {
<span class="line-numbers"> 50</span>        <span class="predefined-type">List</span>&lt;<span class="predefined-type">Properties</span>&gt; systems = manager.getSystems()
<span class="line-numbers"> 51</span>                .values()
<span class="line-numbers"> 52</span>                .stream()
<span class="line-numbers"> 53</span>                .collect(Collectors.toList());
<span class="line-numbers"> 54</span>        <span class="keyword">return</span> Response
<span class="line-numbers"> 55</span>                .status(Response.Status.OK)
<span class="line-numbers"> 56</span>                .entity(systems)
<span class="line-numbers"> 57</span>                .build();
<span class="line-numbers"> 58</span>    }
<span class="line-numbers"> 59</span>
<span class="line-numbers"> 60</span>    <span class="annotation">@GET</span>
<span class="line-numbers"> 61</span>    <span class="annotation">@Path</span>(<span class="string"><span class="delimiter">"</span><span class="content">/systems/{hostname}</span><span class="delimiter">"</span></span>)
<span class="line-numbers"> 62</span>    <span class="annotation">@Produces</span>(MediaType.APPLICATION_JSON)
<span class="line-numbers"> 63</span>    <span class="directive">public</span> Response getSystem(<span class="annotation">@PathParam</span>(<span class="string"><span class="delimiter">"</span><span class="content">hostname</span><span class="delimiter">"</span></span>) <span class="predefined-type">String</span> hostname) {
<span class="line-numbers"> 64</span>        Optional&lt;<span class="predefined-type">Properties</span>&gt; system = manager.getSystem(hostname);
<span class="line-numbers"> 65</span>        <span class="keyword">if</span> (system.isPresent()) {
<span class="line-numbers"> 66</span>            <span class="keyword">return</span> Response
<span class="line-numbers"> 67</span>                    .status(Response.Status.OK)
<span class="line-numbers"> 68</span>                    .entity(system)
<span class="line-numbers"> 69</span>                    .build();
<span class="line-numbers"> 70</span>        }
<span class="line-numbers"> 71</span>        <span class="keyword">return</span> Response
<span class="line-numbers"> 72</span>                .status(Response.Status.NOT_FOUND)
<span class="line-numbers"> 73</span>                .entity(<span class="string"><span class="delimiter">"</span><span class="content">hostname does not exist.</span><span class="delimiter">"</span></span>)
<span class="line-numbers"> 74</span>                .build();
<span class="line-numbers"> 75</span>    }
<span class="line-numbers"> 76</span>
<span class="line-numbers"> 77</span>    <span class="annotation">@DELETE</span>
<span class="line-numbers"> 78</span>    <span class="annotation">@Produces</span>(MediaType.APPLICATION_JSON)
<span class="line-numbers"> 79</span>    <span class="directive">public</span> Response resetSystems() {
<span class="line-numbers"> 80</span>        manager.resetSystems();
<span class="line-numbers"> 81</span>        <span class="keyword">return</span> Response
<span class="line-numbers"> 82</span>                .status(Response.Status.OK)
<span class="line-numbers"> 83</span>                .build();
<span class="line-numbers"> 84</span>    }
<span class="line-numbers"> 85</span>
<span class="line-numbers"> 86</span>    <span class="comment">// tag::updateStatus[]</span>
<span class="line-numbers"> 87</span>    <span class="comment">// tag::systemLoad[]</span>
<span class="line-numbers"> 88</span>    <span class="annotation">@Incoming</span>(<span class="string"><span class="delimiter">"</span><span class="content">systemLoad</span><span class="delimiter">"</span></span>)
<span class="line-numbers"> 89</span>    <span class="comment">// end::systemLoad[]</span>
<span class="line-numbers"> 90</span>    <span class="directive">public</span> <span class="type">void</span> updateStatus(SystemLoad sl)  {
<span class="line-numbers"> 91</span>        <span class="predefined-type">String</span> hostname = sl.hostname;
<span class="line-numbers"> 92</span>        <span class="keyword">if</span> (manager.getSystem(hostname).isPresent()) {
<span class="line-numbers"> 93</span>            manager.updateCpuStatus(hostname, sl.loadAverage);
<span class="line-numbers"> 94</span>            logger.info(<span class="string"><span class="delimiter">"</span><span class="content">Host </span><span class="delimiter">"</span></span> + hostname + <span class="string"><span class="delimiter">"</span><span class="content"> was updated: </span><span class="delimiter">"</span></span> + sl);
<span class="line-numbers"> 95</span>        } <span class="keyword">else</span> {
<span class="line-numbers"> 96</span>            manager.addSystem(hostname, sl.loadAverage);
<span class="line-numbers"> 97</span>            logger.info(<span class="string"><span class="delimiter">"</span><span class="content">Host </span><span class="delimiter">"</span></span> + hostname + <span class="string"><span class="delimiter">"</span><span class="content"> was added: </span><span class="delimiter">"</span></span> + sl);
<span class="line-numbers"> 98</span>        }
<span class="line-numbers"> 99</span>    }
<span class="line-numbers">100</span>    <span class="comment">// end::updateStatus[]</span>
<span class="line-numbers">101</span>}</code></pre>
</div>
</div>
<div class="paragraph">
<p>inventory/microprofile-config.properties</p>
</div>
<div class="listingblock code_column hide_tags=copyright">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="Text"><span class="line-numbers"> 1</span># Kafka connection details
<span class="line-numbers"> 2</span># tag::kafkaConfig[]
<span class="line-numbers"> 3</span>mp.messaging.connector.liberty-kafka.bootstrap.servers=localhost:9093
<span class="line-numbers"> 4</span># end::kafkaConfig[]
<span class="line-numbers"> 5</span>
<span class="line-numbers"> 6</span># systemLoad stream
<span class="line-numbers"> 7</span># tag::systemLoad[]
<span class="line-numbers"> 8</span># tag::kafka1[]
<span class="line-numbers"> 9</span>mp.messaging.incoming.systemLoad.connector=liberty-kafka
<span class="line-numbers">10</span># end::kafka1[]
<span class="line-numbers">11</span># tag::topic1[]
<span class="line-numbers">12</span>mp.messaging.incoming.systemLoad.topic=system.load
<span class="line-numbers">13</span># end::topic1[]
<span class="line-numbers">14</span># tag::deserializer1[]
<span class="line-numbers">15</span>mp.messaging.incoming.systemLoad.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
<span class="line-numbers">16</span># end::deserializer1[]
<span class="line-numbers">17</span># tag::deserializerVal1[]
<span class="line-numbers">18</span>mp.messaging.incoming.systemLoad.value.deserializer=io.openliberty.guides.models.SystemLoad$SystemLoadDeserializer
<span class="line-numbers">19</span># end::deserializerVal1[]
<span class="line-numbers">20</span># tag::group1[]
<span class="line-numbers">21</span>mp.messaging.incoming.systemLoad.group.id=system-load-status
<span class="line-numbers">22</span># end::group1[]
<span class="line-numbers">23</span># end::systemLoad[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>inventory</code> microservice receives the message from the <code>system</code> microservice over the <code class="hotspot=systemLoad file=0">@Incoming("systemLoad")</code> channel. The properties of this channel are defined in the <code class="hotspot=systemLoad file=1">microprofile-config.properties</code> file. The <code>inventory</code> microservice is also a RESTful service that is served at the <code class="hotspot=inventoryEndPoint file=0">/inventory</code> endpoint.</p>
</div>
<div class="paragraph">
<p>The <code>InventoryResource</code> class contains a method called <code class="hotspot=updateStatus file=0">updateStatus()</code>, which receives the message that contains the average system load and updates its existing inventory of systems and their average system load. The <code class="hotspot=systemLoad file=0">@Incoming("systemLoad")</code> annotation on the <code class="hotspot=updateStatus file=0">updateStatus()</code> method indicates that the method retrieves the average system load information by connecting to the channel called <code class="hotspot=systemLoad file=0">systemLoad</code>. Later in the guide, you will configure the service so that any messages sent by the <code>system</code> service through the <code>systemLoad</code> channel are retrieved from a topic called <code class="hotspot=topic1 file=1">system.load</code>, as shown in the following diagram:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="/img/guide/microprofile-reactive-messaging/reactive-messaging-system-inventory-detail.png" alt="Reactive system inventory detail">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-the-microprofile-reactive-messaging-connectors-for-kafka">Configuring the MicroProfile Reactive Messaging connectors for Kafka</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <code>system</code> and <code>inventory</code> services exchange messages with the external messaging system through a channel. The MicroProfile Reactive Messaging Connector API makes it easy to connect each service to the channel. You just need to add configuration keys in a properties file for each of the services. These configuration keys define properties such as the name of the channel and the topic in the Kafka messaging system. Open Liberty includes the <code>liberty-kafka</code> connector for sending and receiving messages from Apache Kafka.</p>
</div>
<div class="paragraph">
<p>The system and inventory microservices each have a MicroProfile Config properties file to define the properties of their outgoing and incoming streams.</p>
</div>
<div class="listingblock code_command hotspot file=0">
<div class="content">
<pre><mark>Create the system/microprofile-config.properties file.</mark>
<code>system/src/main/resources/META-INF/microprofile-config.properties</code></pre>
</div>
</div>
<div class="paragraph">
<p>system/microprofile-config.properties</p>
</div>
<div class="listingblock code_column">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text"><span class="line-numbers"> 1</span># Kafka connection details
<span class="line-numbers"> 2</span># tag::kafkaConfig[]
<span class="line-numbers"> 3</span>mp.messaging.connector.liberty-kafka.bootstrap.servers=localhost:9093
<span class="line-numbers"> 4</span># end::kafkaConfig[]
<span class="line-numbers"> 5</span>
<span class="line-numbers"> 6</span># systemLoad stream
<span class="line-numbers"> 7</span># tag::systemLoad[]
<span class="line-numbers"> 8</span># tag::kafka1[]
<span class="line-numbers"> 9</span>mp.messaging.outgoing.systemLoad.connector=liberty-kafka
<span class="line-numbers">10</span># end::kafka1[]
<span class="line-numbers">11</span># tag::topic1[]
<span class="line-numbers">12</span>mp.messaging.outgoing.systemLoad.topic=system.load
<span class="line-numbers">13</span># end::topic1[]
<span class="line-numbers">14</span># tag::serializer1[]
<span class="line-numbers">15</span>mp.messaging.outgoing.systemLoad.key.serializer=org.apache.kafka.common.serialization.StringSerializer
<span class="line-numbers">16</span># end::serializer1[]
<span class="line-numbers">17</span># tag::serializerVal1[]
<span class="line-numbers">18</span>mp.messaging.outgoing.systemLoad.value.serializer=io.openliberty.guides.models.SystemLoad$SystemLoadSerializer
<span class="line-numbers">19</span># end::serializerVal1[]
<span class="line-numbers">20</span># end::systemLoad[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code class="hotspot=kafkaConfig file=0">mp.messaging.connector.liberty-kafka.bootstrap.servers</code> property configures the hostname and port for connecting to the Kafka server. The <code>system</code> microservice uses an outgoing connector to send messages through the <code class="hotspot=systemLoad file=0">systemLoad</code> channel to the <code class="hotspot=topic1 file=0">system.load</code> topic in the Kafka message broker so that the <code>inventory</code> microservices can consume the messages. The <code class="hotspot=serializer1 file=0">key.serializer</code> and <code class="hotspot=serializerVal1 file=0">value.serializer</code> properties characterize how to serialize the messages. The <code>SystemLoadSerializer</code> class implements the logic for turning a <code>SystemLoad</code> object into JSON and is configured as the <code class="hotspot=serializerVal1 file=0">value.serializer</code>.</p>
</div>
<div class="paragraph">
<p>The <code>inventory</code> microservice uses a similar <code>microprofile-config.properties</code> configuration to define its required incoming stream.</p>
</div>
<div class="listingblock code_command hotspot file=1">
<div class="content">
<pre><mark>Create the inventory/microprofile-config.properties file.</mark>
<code>inventory/src/main/resources/META-INF/microprofile-config.properties</code></pre>
</div>
</div>
<div class="paragraph">
<p>inventory/microprofile-config.properties</p>
</div>
<div class="listingblock code_column">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="text"><span class="line-numbers"> 1</span># Kafka connection details
<span class="line-numbers"> 2</span># tag::kafkaConfig[]
<span class="line-numbers"> 3</span>mp.messaging.connector.liberty-kafka.bootstrap.servers=localhost:9093
<span class="line-numbers"> 4</span># end::kafkaConfig[]
<span class="line-numbers"> 5</span>
<span class="line-numbers"> 6</span># systemLoad stream
<span class="line-numbers"> 7</span># tag::systemLoad[]
<span class="line-numbers"> 8</span># tag::kafka1[]
<span class="line-numbers"> 9</span>mp.messaging.incoming.systemLoad.connector=liberty-kafka
<span class="line-numbers">10</span># end::kafka1[]
<span class="line-numbers">11</span># tag::topic1[]
<span class="line-numbers">12</span>mp.messaging.incoming.systemLoad.topic=system.load
<span class="line-numbers">13</span># end::topic1[]
<span class="line-numbers">14</span># tag::deserializer1[]
<span class="line-numbers">15</span>mp.messaging.incoming.systemLoad.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
<span class="line-numbers">16</span># end::deserializer1[]
<span class="line-numbers">17</span># tag::deserializerVal1[]
<span class="line-numbers">18</span>mp.messaging.incoming.systemLoad.value.deserializer=io.openliberty.guides.models.SystemLoad$SystemLoadDeserializer
<span class="line-numbers">19</span># end::deserializerVal1[]
<span class="line-numbers">20</span># tag::group1[]
<span class="line-numbers">21</span>mp.messaging.incoming.systemLoad.group.id=system-load-status
<span class="line-numbers">22</span># end::group1[]
<span class="line-numbers">23</span># end::systemLoad[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>inventory</code> microservice uses an incoming connector to receive messages through the <code class="hotspot=systemLoad file=1">systemLoad</code> channel. The messages were published by the <code>system</code> microservice to the <code class="hotspot=topic1 file=1">system.load</code> topic in the Kafka message broker. The <code class="hotspot=deserializer1 file=1">key.deserializer</code> and <code class="hotspot=deserializerVal1 file=1">value.deserializer</code> properties define how to deserialize the messages. The <code>SystemLoadDeserializer</code> class implements the logic for turning JSON into a <code>SystemLoad</code> object and is configured as the <code class="hotspot=deserializerVal1 file=1">value.deserializer</code>. The <code class="hotspot=group1 file=1">group.id</code> property defines a unique name for the consumer group. A consumer group is a collection of consumers who share a common identifier for the group. You can also view a consumer group as the various machines that ingest from the Kafka topics. All of these properties are required by the <a href="https://kafka.apache.org/documentation/#producerconfigs" target="_blank" rel="noopener noreferrer">Apache Kafka Producer Configs</a> and <a href="https://kafka.apache.org/documentation/#consumerconfigs" target="_blank" rel="noopener noreferrer">Apache Kafka Consumer Configs</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-the-server">Configuring the server</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To run the services, the Open Liberty server on which each service runs needs to be correctly configured. Relevant features, including the <a href="https://openliberty.io/docs/ref/feature/#mpReactiveMessaging-1.0.html" target="_blank" rel="noopener">MicroProfile Reactive Messaging feature</a>, must be enabled for the <code>system</code> and <code>inventory</code> services.</p>
</div>
<div class="listingblock code_command hotspot file=0">
<div class="content">
<pre><mark>Create the system/server.xml configuration file.</mark>
<code>system/src/main/liberty/config/server.xml</code></pre>
</div>
</div>
<div class="paragraph">
<p>server.xml</p>
</div>
<div class="listingblock code_column">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="line-numbers"> 1</span><span class="tag">&lt;server</span> <span class="attribute-name">description</span>=<span class="string"><span class="delimiter">"</span><span class="content">System Service</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers"> 2</span>
<span class="line-numbers"> 3</span>  <span class="tag">&lt;featureManager&gt;</span>
<span class="line-numbers"> 4</span>    <span class="tag">&lt;feature&gt;</span>cdi-2.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 5</span>    <span class="tag">&lt;feature&gt;</span>concurrent-1.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 6</span>    <span class="tag">&lt;feature&gt;</span>jsonb-1.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 7</span>    <span class="tag">&lt;feature&gt;</span>mpHealth-2.2<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 8</span>    <span class="tag">&lt;feature&gt;</span>mpConfig-1.4<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 9</span>    <span class="comment">&lt;!-- tag::featureMP[] --&gt;</span>
<span class="line-numbers">10</span>    <span class="tag">&lt;feature&gt;</span>mpReactiveMessaging-1.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers">11</span>    <span class="comment">&lt;!-- end::featureMP[] --&gt;</span>
<span class="line-numbers">12</span>  <span class="tag">&lt;/featureManager&gt;</span>
<span class="line-numbers">13</span>
<span class="line-numbers">14</span>  <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">default.http.port</span><span class="delimiter">"</span></span> <span class="attribute-name">defaultValue</span>=<span class="string"><span class="delimiter">"</span><span class="content">9083</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">15</span>  <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">default.https.port</span><span class="delimiter">"</span></span> <span class="attribute-name">defaultValue</span>=<span class="string"><span class="delimiter">"</span><span class="content">9446</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">16</span>
<span class="line-numbers">17</span>  <span class="tag">&lt;httpEndpoint</span> <span class="attribute-name">host</span>=<span class="string"><span class="delimiter">"</span><span class="content">*</span><span class="delimiter">"</span></span> <span class="attribute-name">httpPort</span>=<span class="string"><span class="delimiter">"</span><span class="content">${default.http.port}</span><span class="delimiter">"</span></span>
<span class="line-numbers">18</span>      <span class="attribute-name">httpsPort</span>=<span class="string"><span class="delimiter">"</span><span class="content">${default.https.port}</span><span class="delimiter">"</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">defaultHttpEndpoint</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">19</span>
<span class="line-numbers">20</span>  <span class="tag">&lt;webApplication</span> <span class="attribute-name">location</span>=<span class="string"><span class="delimiter">"</span><span class="content">system.war</span><span class="delimiter">"</span></span> <span class="attribute-name">contextRoot</span>=<span class="string"><span class="delimiter">"</span><span class="content">/</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">21</span><span class="tag">&lt;/server&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>server.xml</p>
</div>
<div class="listingblock code_column">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="line-numbers"> 1</span><span class="tag">&lt;server</span> <span class="attribute-name">description</span>=<span class="string"><span class="delimiter">"</span><span class="content">Inventory Service</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers"> 2</span>
<span class="line-numbers"> 3</span>  <span class="tag">&lt;featureManager&gt;</span>
<span class="line-numbers"> 4</span>    <span class="tag">&lt;feature&gt;</span>jaxrs-2.1<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 5</span>    <span class="tag">&lt;feature&gt;</span>cdi-2.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 6</span>    <span class="tag">&lt;feature&gt;</span>concurrent-1.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 7</span>    <span class="tag">&lt;feature&gt;</span>jsonb-1.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 8</span>    <span class="tag">&lt;feature&gt;</span>mpHealth-2.2<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 9</span>    <span class="tag">&lt;feature&gt;</span>mpConfig-1.4<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers">10</span>    <span class="tag">&lt;feature&gt;</span>mpReactiveMessaging-1.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers">11</span>  <span class="tag">&lt;/featureManager&gt;</span>
<span class="line-numbers">12</span>
<span class="line-numbers">13</span>  <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">default.http.port</span><span class="delimiter">"</span></span> <span class="attribute-name">defaultValue</span>=<span class="string"><span class="delimiter">"</span><span class="content">9085</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">14</span>  <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">default.https.port</span><span class="delimiter">"</span></span> <span class="attribute-name">defaultValue</span>=<span class="string"><span class="delimiter">"</span><span class="content">9448</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">15</span>
<span class="line-numbers">16</span>  <span class="tag">&lt;httpEndpoint</span> <span class="attribute-name">host</span>=<span class="string"><span class="delimiter">"</span><span class="content">*</span><span class="delimiter">"</span></span> <span class="attribute-name">httpPort</span>=<span class="string"><span class="delimiter">"</span><span class="content">${default.http.port}</span><span class="delimiter">"</span></span> <span class="attribute-name">httpsPort</span>=<span class="string"><span class="delimiter">"</span><span class="content">${default.https.port}</span><span class="delimiter">"</span></span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">defaultHttpEndpoint</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">17</span>
<span class="line-numbers">18</span>  <span class="tag">&lt;webApplication</span> <span class="attribute-name">location</span>=<span class="string"><span class="delimiter">"</span><span class="content">inventory.war</span><span class="delimiter">"</span></span> <span class="attribute-name">contextRoot</span>=<span class="string"><span class="delimiter">"</span><span class="content">/</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">19</span><span class="tag">&lt;/server&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code class="hotspot file=1">server.xml</code> file is already configured for the <code>inventory</code> microservice.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="building-and-running-the-application">Building and running the application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Build the <code>system</code> and <code>inventory</code> microservices using Maven and then run them in Docker containers.</p>
</div>
<div class="listingblock code_command hotspot file=0">
<div class="content">
<pre><mark>Create the Maven configuration file.</mark>
<code>system/pom.xml</code></pre>
</div>
</div>
<div class="paragraph">
<p>pom.xml</p>
</div>
<div class="listingblock code_column">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="XML"><span class="line-numbers">  1</span><span class="preprocessor">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="line-numbers">  2</span><span class="tag">&lt;project</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0</span><span class="delimiter">"</span></span>
<span class="line-numbers">  3</span>    <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">"</span></span>
<span class="line-numbers">  4</span>    <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers">  5</span>    <span class="tag">&lt;modelVersion&gt;</span>4.0.0<span class="tag">&lt;/modelVersion&gt;</span>
<span class="line-numbers">  6</span>
<span class="line-numbers">  7</span>    <span class="tag">&lt;groupId&gt;</span>io.openliberty.guides<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">  8</span>    <span class="tag">&lt;artifactId&gt;</span>system<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">  9</span>    <span class="tag">&lt;version&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 10</span>    <span class="tag">&lt;packaging&gt;</span>war<span class="tag">&lt;/packaging&gt;</span>
<span class="line-numbers"> 11</span>
<span class="line-numbers"> 12</span>    <span class="tag">&lt;properties&gt;</span>
<span class="line-numbers"> 13</span>        <span class="tag">&lt;maven.compiler.source&gt;</span>1.8<span class="tag">&lt;/maven.compiler.source&gt;</span>
<span class="line-numbers"> 14</span>        <span class="tag">&lt;maven.compiler.target&gt;</span>1.8<span class="tag">&lt;/maven.compiler.target&gt;</span>
<span class="line-numbers"> 15</span>        <span class="tag">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.build.sourceEncoding&gt;</span>
<span class="line-numbers"> 16</span>        <span class="tag">&lt;project.reporting.outputEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.reporting.outputEncoding&gt;</span>
<span class="line-numbers"> 17</span>        <span class="comment">&lt;!-- Liberty configuration --&gt;</span>
<span class="line-numbers"> 18</span>        <span class="tag">&lt;liberty.var.default.http.port&gt;</span>9083<span class="tag">&lt;/liberty.var.default.http.port&gt;</span>
<span class="line-numbers"> 19</span>        <span class="tag">&lt;liberty.var.default.https.port&gt;</span>9446<span class="tag">&lt;/liberty.var.default.https.port&gt;</span>
<span class="line-numbers"> 20</span>    <span class="tag">&lt;/properties&gt;</span>
<span class="line-numbers"> 21</span>
<span class="line-numbers"> 22</span>    <span class="tag">&lt;dependencies&gt;</span>
<span class="line-numbers"> 23</span>        <span class="comment">&lt;!-- Provided dependencies --&gt;</span>
<span class="line-numbers"> 24</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 25</span>            <span class="tag">&lt;groupId&gt;</span>jakarta.platform<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 26</span>            <span class="tag">&lt;artifactId&gt;</span>jakarta.jakartaee-api<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 27</span>            <span class="tag">&lt;version&gt;</span>8.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 28</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 29</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 30</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 31</span>            <span class="tag">&lt;groupId&gt;</span>org.eclipse.microprofile<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 32</span>            <span class="tag">&lt;artifactId&gt;</span>microprofile<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 33</span>            <span class="tag">&lt;version&gt;</span>3.3<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 34</span>            <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
<span class="line-numbers"> 35</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 36</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 37</span>        <span class="comment">&lt;!-- tag::reactiveMessaging[] --&gt;</span>
<span class="line-numbers"> 38</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 39</span>            <span class="tag">&lt;groupId&gt;</span>org.eclipse.microprofile.reactive.messaging<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 40</span>            <span class="tag">&lt;artifactId&gt;</span>microprofile-reactive-messaging-api<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 41</span>            <span class="tag">&lt;version&gt;</span>1.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 42</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 43</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 44</span>        <span class="comment">&lt;!-- end::reactiveMessaging[] --&gt;</span>
<span class="line-numbers"> 45</span>        <span class="comment">&lt;!-- Required dependencies --&gt;</span>
<span class="line-numbers"> 46</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 47</span>            <span class="tag">&lt;groupId&gt;</span>io.openliberty.guides<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 48</span>            <span class="tag">&lt;artifactId&gt;</span>models<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 49</span>            <span class="tag">&lt;version&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 50</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 51</span>        <span class="comment">&lt;!-- tag::kafka[] --&gt;</span>
<span class="line-numbers"> 52</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 53</span>            <span class="tag">&lt;groupId&gt;</span>org.apache.kafka<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 54</span>            <span class="tag">&lt;artifactId&gt;</span>kafka-clients<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 55</span>            <span class="tag">&lt;version&gt;</span>2.8.1<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 56</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 57</span>        <span class="comment">&lt;!-- end::kafka[] --&gt;</span>
<span class="line-numbers"> 58</span>        <span class="comment">&lt;!-- tag::rxjava[] --&gt;</span>
<span class="line-numbers"> 59</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 60</span>            <span class="tag">&lt;groupId&gt;</span>io.reactivex.rxjava3<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 61</span>            <span class="tag">&lt;artifactId&gt;</span>rxjava<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 62</span>            <span class="tag">&lt;version&gt;</span>3.1.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 63</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 64</span>        <span class="comment">&lt;!-- end::rxjava[] --&gt;</span>
<span class="line-numbers"> 65</span>        <span class="comment">&lt;!-- For tests --&gt;</span>
<span class="line-numbers"> 66</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 67</span>            <span class="tag">&lt;groupId&gt;</span>org.microshed<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 68</span>            <span class="tag">&lt;artifactId&gt;</span>microshed-testing-liberty<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 69</span>            <span class="tag">&lt;version&gt;</span>0.9.1<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 70</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 71</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 72</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 73</span>            <span class="tag">&lt;groupId&gt;</span>org.testcontainers<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 74</span>            <span class="tag">&lt;artifactId&gt;</span>kafka<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 75</span>            <span class="tag">&lt;version&gt;</span>1.16.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 76</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 77</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 78</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 79</span>            <span class="tag">&lt;groupId&gt;</span>org.junit.jupiter<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 80</span>            <span class="tag">&lt;artifactId&gt;</span>junit-jupiter<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 81</span>            <span class="tag">&lt;version&gt;</span>5.8.1<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 82</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 83</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 84</span>    <span class="tag">&lt;/dependencies&gt;</span>
<span class="line-numbers"> 85</span>
<span class="line-numbers"> 86</span>    <span class="tag">&lt;build&gt;</span>
<span class="line-numbers"> 87</span>        <span class="tag">&lt;finalName&gt;</span>${project.artifactId}<span class="tag">&lt;/finalName&gt;</span>
<span class="line-numbers"> 88</span>        <span class="tag">&lt;plugins&gt;</span>
<span class="line-numbers"> 89</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 90</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 91</span>                <span class="tag">&lt;artifactId&gt;</span>maven-war-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 92</span>                <span class="tag">&lt;version&gt;</span>3.3.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 93</span>                <span class="tag">&lt;configuration&gt;</span>
<span class="line-numbers"> 94</span>                    <span class="tag">&lt;packagingExcludes&gt;</span>pom.xml<span class="tag">&lt;/packagingExcludes&gt;</span>
<span class="line-numbers"> 95</span>                <span class="tag">&lt;/configuration&gt;</span>
<span class="line-numbers"> 96</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 97</span>
<span class="line-numbers"> 98</span>            <span class="comment">&lt;!-- Liberty plugin --&gt;</span>
<span class="line-numbers"> 99</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">100</span>                <span class="tag">&lt;groupId&gt;</span>io.openliberty.tools<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">101</span>                <span class="tag">&lt;artifactId&gt;</span>liberty-maven-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">102</span>                <span class="tag">&lt;version&gt;</span>3.8.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers">103</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">104</span>
<span class="line-numbers">105</span>            <span class="comment">&lt;!-- Plugin to run unit tests --&gt;</span>
<span class="line-numbers">106</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">107</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">108</span>                <span class="tag">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">109</span>                <span class="tag">&lt;version&gt;</span>2.22.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers">110</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">111</span>
<span class="line-numbers">112</span>            <span class="comment">&lt;!-- Plugin to run integration tests --&gt;</span>
<span class="line-numbers">113</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">114</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">115</span>                <span class="tag">&lt;artifactId&gt;</span>maven-failsafe-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">116</span>                <span class="tag">&lt;version&gt;</span>2.22.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers">117</span>                <span class="tag">&lt;executions&gt;</span>
<span class="line-numbers">118</span>                    <span class="tag">&lt;execution&gt;</span>
<span class="line-numbers">119</span>                        <span class="tag">&lt;id&gt;</span>integration-test<span class="tag">&lt;/id&gt;</span>
<span class="line-numbers">120</span>                        <span class="tag">&lt;goals&gt;</span>
<span class="line-numbers">121</span>                            <span class="tag">&lt;goal&gt;</span>integration-test<span class="tag">&lt;/goal&gt;</span>
<span class="line-numbers">122</span>                        <span class="tag">&lt;/goals&gt;</span>
<span class="line-numbers">123</span>                        <span class="tag">&lt;configuration&gt;</span>
<span class="line-numbers">124</span>                            <span class="tag">&lt;trimStackTrace&gt;</span>false<span class="tag">&lt;/trimStackTrace&gt;</span>
<span class="line-numbers">125</span>                        <span class="tag">&lt;/configuration&gt;</span>
<span class="line-numbers">126</span>                    <span class="tag">&lt;/execution&gt;</span>
<span class="line-numbers">127</span>                    <span class="tag">&lt;execution&gt;</span>
<span class="line-numbers">128</span>                        <span class="tag">&lt;id&gt;</span>verify<span class="tag">&lt;/id&gt;</span>
<span class="line-numbers">129</span>                        <span class="tag">&lt;goals&gt;</span>
<span class="line-numbers">130</span>                            <span class="tag">&lt;goal&gt;</span>verify<span class="tag">&lt;/goal&gt;</span>
<span class="line-numbers">131</span>                        <span class="tag">&lt;/goals&gt;</span>
<span class="line-numbers">132</span>                    <span class="tag">&lt;/execution&gt;</span>
<span class="line-numbers">133</span>                <span class="tag">&lt;/executions&gt;</span>
<span class="line-numbers">134</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">135</span>        <span class="tag">&lt;/plugins&gt;</span>
<span class="line-numbers">136</span>    <span class="tag">&lt;/build&gt;</span>
<span class="line-numbers">137</span><span class="tag">&lt;/project&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code class="hotspot file=0">pom.xml</code> file lists the <code class="hotspot=reactiveMessaging file=0">microprofile-reactive-messaging-api</code>, <code class="hotspot=kafka file=0">kafka-clients</code>, and <code class="hotspot=rxjava file=0">rxjava</code> dependencies.</p>
</div>
<div class="paragraph">
<p>The <code class="hotspot=reactiveMessaging file=0">microprofile-reactive-messaging-api</code> dependency is needed to enable the use of MicroProfile Reactive Messaging API. The <code class="hotspot=kafka file=0">kafka-clients</code> dependency is added because the application needs a Kafka client to connect to the Kafka broker. The <code class="hotspot=rxjava file=0">rxjava</code> dependency is used for creating events at regular intervals.</p>
</div>
<div class="paragraph">
<p>Start your Docker environment. Dockerfiles are provided for you to use.</p>
</div>
<div class="paragraph">
<p>To build the application, run the Maven <code>install</code> and <code>package</code> goals from the command line in the <code>start</code> directory:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>mvn -pl models install
mvn package</code></pre>
</div>
</div>
<div class="paragraph">
<p>Run the following commands to containerize the microservices:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>docker build -t system:1.0-SNAPSHOT system/.
docker build -t inventory:1.0-SNAPSHOT inventory/.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, use the provided script to start the application in Docker containers. The script creates a network for the containers to communicate with each other. It also creates containers for Kafka, Zookeeper, and the microservices in the project. For simplicity, the script starts one instance of the system service.</p>
</div>
<div class="paragraph tab_link windows_link">
<p><code><strong>WINDOWS</strong></code></p>
</div>
<div class="paragraph tab_link mac_link">
<p><code><strong>MAC</strong></code></p>
</div>
<div class="paragraph tab_link linux_link">
<p><code><strong>LINUX</strong></code></p>
</div>
<div class="openblock tab_content windows_section">
<div class="content">
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>.\scripts\startContainers.bat</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock tab_content mac_section linux_section">
<div class="content">
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>./scripts/startContainers.sh</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing-the-application">Testing the application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The application might take some time to become available. After the application is up and running, you can access it by making a GET request to the <code>/systems</code> endpoint of the <code>inventory</code> service.</p>
</div>
<div class="paragraph">
<p>Visit the <a href="http://localhost:9085/health" class="notranslate bare" target="_blank" rel="noopener noreferrer">http://localhost:9085/health</a> URL to confirm that the <code>inventory</code> microservice is up and running.</p>
</div>
<div class="paragraph">
<p>When both the liveness and readiness health checks are up, go to the <a href="http://localhost:9085/inventory/systems" class="notranslate bare" target="_blank" rel="noopener noreferrer">http://localhost:9085/inventory/systems</a> URL to access the <code>inventory</code> microservice.
You see the CPU <code>systemLoad</code> property for all the systems:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre class="CodeRay highlight"><code>{
   "hostname":"30bec2b63a96",
   "systemLoad":2.25927734375
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can revisit the <a href="http://localhost:9085/inventory/systems" class="notranslate bare" target="_blank" rel="noopener noreferrer">http://localhost:9085/inventory/systems</a> URL after a while, and you will notice the CPU <code>systemLoad</code> property for the systems changed.</p>
</div>
<div class="paragraph">
<p>You can use the <code>http://localhost:9085/inventory/systems/{hostname}</code> URL to see the CPU <code>systemLoad</code> property for one particular system.</p>
</div>
<div class="paragraph">
<p>In the following example, the <code>30bec2b63a96</code> value is the <code>hostname</code>. If you go to the <code>http://localhost:9085/inventory/systems/30bec2b63a96</code> URL, you can see the CPU <code>systemLoad</code> property only for the <code>30bec2b63a96</code> <code>hostname</code>:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre class="CodeRay highlight"><code>{
   "hostname":"30bec2b63a96",
   "systemLoad":2.25927734375
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tearing-down-the-environment">Tearing down the environment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Run the following script to stop the application:</p>
</div>
<div class="paragraph tab_link windows_link">
<p><code><strong>WINDOWS</strong></code></p>
</div>
<div class="paragraph tab_link mac_link">
<p><code><strong>MAC</strong></code></p>
</div>
<div class="paragraph tab_link linux_link">
<p><code><strong>LINUX</strong></code></p>
</div>
<div class="openblock tab_content windows_section">
<div class="content">
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>.\scripts\stopContainers.bat</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock tab_content mac_section linux_section">
<div class="content">
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>./scripts/stopContainers.sh</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="great-work-youre-done">Great work! You’re done!</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You just developed a reactive Java application using MicroProfile Reactive Messaging, Open Liberty, and Kafka.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="guide-attribution">Guide Attribution</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Creating reactive Java microservices <span class="licensedClass">by</span> Open Liberty <span class="licensedClass">is licensed under</span> CC BY-ND 4.0</p>
</div>
</div>
</div>
    </div>
  </div>

  <!-- Code section -->
  <div id="code_column" class="position_relative" tabindex="0">
    <div id="code_column_title_container">
      <div id="code_column_tabs_container" class="dimmed">
        <ul id="code_column_tabs" class="nav" role="tablist"></ul>
      </div>
      <div class="copyFileButton" tabindex="0">
        <img src="/img/guides_copy_button.svg" alt="Copy file contents" title="Copy file contents">
        <div id="code_section_copied_confirmation">Copied to clipboard </div>
      </div>
    </div>
    <div id="code_column_content"></div>

    <div id="prereqs_container">
      <p id="prereqs_title">Prerequisites:</p>
      <div class="prereqs_list"></div>
      <div class="skills_network_container">
        <div class="skills_network_description"></div>
      </div>
    </div>

    <button id="dismiss_button" aria-label="Back to text" tabindex="0">
      Back to text
    </button>
  </div>
</div>

<!-- Build a list of all the documents in the guides code base -->






<!-- Remove any documents deemed private (archived, templates, etc) -->


<!-- Count number of guides from past 30 days-->


    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    


<!-- Sort list of guides by date with most recent first -->





<div id="end_of_guide">
        <h2 tabindex="0">Nice work! Where to next?</h2>
        <div id="end_of_guide_left_section">
            <p id="guide_attribution"></p>
            
            <h3 id="feedback_rating_question">What did you think of this guide?</h3>
            <div id="feedback_ratings">
                <img class="guide_rating" id="extreme_dislike" src="/img/1_Extreme_Dislike.png" onclick="$('#dislike_popup').show(); $('.popup_content').focus();" alt="Extreme Dislike" data-guide-rating="1" tabindex="0" aria-label="Rate this guide as extreme dislike">
                <img class="guide_rating" id="dislike" src="/img/2_Dislike.png" onclick="$('#dislike_popup').show(); $('.popup_content').focus();" alt="Dislike" data-guide-rating="2" tabindex="0" aria-label="Rate this guide as dislike">
                <img class="guide_rating" id="like" src="/img/3_Like.png" onclick="$('#like_popup').show(); $('.popup_content').focus();" alt="Like" data-guide-rating="3" tabindex="0" aria-label="Rate this guide as like">
                <img class="guide_rating" id="extreme_like" src="/img/4_Extreme_Like.png" onclick="$('#like_popup').show(); $('.popup_content').focus();" alt="Extreme Like" data-guide-rating="4" tabindex="0" aria-label="Rate this guide as extreme like">
            </div>

            <div id="like_popup" class="popup">
                <div class="popup_content" tabindex="0">
                    <p class="popup_title">Thank you for your feedback!</p>
                    <button id="close_button" class="popup_button" onclick="$('#like_popup').hide();">Close</button>
                </div>
            </div>

            <div id="dislike_popup" class="popup">
                <div class="popup_content" tabindex="0">
                    <p class="popup_title">Thank you for your feedback!</p>
                    <p id="open_issue">Would you like to open an issue in GitHub?</p>
                    
                        <a href="https://github.com/OpenLiberty/guide-microprofile-reactive-messaging/issues/new" target="_blank" id="yes_button" class="popup_button" onclick="$('#dislike_popup').hide();" rel="noopener noreferrer">Yes</a>
                    
                    <button id="no_button" class="popup_button" onclick="$('#dislike_popup').hide();">No, thank you</button>
                </div>
            </div>

            <h3 id="improve_guide_feedback">What could make this guide better?</h3>
            
                <p><a target="_blank" rel="noopener noreferrer" href="https://github.com/OpenLiberty/guide-microprofile-reactive-messaging/issues">Raise an issue</a> to share feedback</p>
                <p><a target="_blank" rel="noopener noreferrer" href="https://github.com/OpenLiberty/guide-microprofile-reactive-messaging/pulls">Create a pull request</a> to contribute to this guide</p>
            

            <h3 id="need_help">Need help?</h3>
            <p><a target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/questions/tagged/open-liberty">Ask a question on Stack Overflow</a></p>

            <h3>Like Open Liberty? Star our repo on GitHub.</h3>
            <a class="github-button" href="https://github.com/OpenLiberty/open-liberty" data-icon="octicon-star" aria-label="Star OpenLiberty/open-liberty on GitHub" target="_blank" rel="noopener noreferrer">Star</a>
        </div>
        <div id="end_of_guide_right_section">
            <h3 id="where_to_next">Where to next?</h3>

            
            

            <!-- Related guides section -->
            
            <div id="related-guides">
                <div id="related-guides-cards" class="row">
                
                    
                    
                    
                        <!-- Only create a card if we find the permalink -->
                        
                        <div class="col-sm-12 col-lg-6">
                            <a href="/zh-Hans/guides/reactive-service-testing.html" class="small_guide_item">
                                <div class="guide_title_container">
                                    <h3 class="guide_title">Testing reactive Java microservices</h3>
                                </div>
                                <img class="duration_clock_icon" src="/img/guide_duration_clock_icon_small.svg" alt="Duration">
                                <span class="guide_duration">20 minutes</span>

                                <!-- Add New flag to guides from the past 30 days or 4 most recent posts. -->
                                <!-- If new posts count is less than 4, use 4 most recent posts -->
                                
                                    
                                <!-- If new posts count is >= 4, use posts from last 30 days-->
                                
                                <!-- Add Updated flag to guides if the last major update is within last 12 weeks. -->
                                <!-- Count number of guides from past last 12 weeks that is 84 days-->
                                <!-- 7257600 is 84 days in seconds (84 days * 24 hours * 60 minutes * 60 seconds) -->
                                
                                
                            </a>
                        </div>
                    
                
                </div>
            </div>
            
        </div>
    </div>



    </main>

    



<footer>
    <div id="footer_gray_background">
        <div id="footer_top_container" class="footer_container container-fluid">
            <div id="footer_project_container">
                <span id="footer_open_liberty"></span>
                <p id="footer_project">IBM 开放式源代码项目</p>
            </div>
            <div id="footer_round_links_container">
                <a id="footer_github_link" class="footer_round_btn" href="https://github.com/OpenLiberty/" target="_blank" rel="noopener noreferrer" aria-label="Github"></a>
                <a id="footer_twitter_link" class="footer_round_btn" href="https://twitter.com/OpenLibertyIO" target="_blank" rel="noopener noreferrer" aria-label="Twitter"></a>
                <a id="footer_stackoverflow_link" class="footer_round_btn" href="https://stackoverflow.com/questions/tagged/open-liberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty questions on Stack Overflow"></a>
                <a id="footer_groupsio_link" class="footer_round_btn" href="https://groups.io/g/openliberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty Groups.io"></a>
                <a id="footer_gitter_link" class="footer_round_btn" href="https://app.gitter.im/#/room/#OpenLiberty_development:gitter.im" target="_blank" rel="noopener" aria-label="Open Liberty Gitter"></a>
            </div>
        </div>         
    </div>

    <div id="footer_bottom_container" class="footer_container container-fluid">
        <div id="footer_bottom_left_section">
            <p id="footer_copyright">© Copyright IBM Corp. 2017, 2023</p>
            <p class="vertical_bar">|</p>
            <a id="footer_privacy_policy_link" href="https://www.ibm.com/privacy/" target="_blank" rel="noopener noreferrer" class="left_footer_link">隐私策略</a>
            <p class="vertical_bar">|</p>
            <a id="footer_license_link" href="https://github.com/OpenLiberty/open-liberty/blob/release/LICENSE" target="_blank" rel="noopener noreferrer" class="left_footer_link">许可证</a>
            <p class="vertical_bar">|</p>
            <a id="footer_logos_link" href="https://github.com/OpenLiberty/logos" target="_blank" rel="noopener noreferrer" class="left_footer_link">洛戈斯</a>
        </div>
        <div id="footer_bottom_right_section">
            <a id="footer_docs_link" href="/docs" aria-label="Open Liberty Docs" class="right_footer_link blue_link_light_background">文档</a>
            <a id="footer_blog_link" href="/blog" aria-label="Open Liberty Blog" class="right_footer_link blue_link_light_background">博客</a>
            <a id="footer_support_link" href="/support" aria-label="Open Liberty Support" class="right_footer_link blue_link_light_background">支持</a>
        </div>
    </div>
</footer>

<!-- PRE-LOADED IMAGES FOR ON HOVER BEHAVIOR -->
<div class="d-none hidden">
    <img src="/img/Footer_GitCat_Hover.svg" alt="OpenLiberty Github link">
    <img src="/img/Footer_TwitterBird_Hover.svg" alt="OpenLibertyIO Twitter link">
    <img src="/img/Footer_StackO_Hover.svg" alt="Open-liberty Stack Overflow link">
    <img src="/img/Footer_GroupsIO_Hover.svg" alt="Openliberty Groups IO link">
    <img src="/img/footer_gitter_hover.svg" alt="Openliberty Gitter link">
</div>

    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js" integrity="sha512-lzilC+JFd6YV8+vQRNRtU7DOqv5Sa9Ek53lXt/k91HZTJpytHS1L6l1mMKR9K6VVoDt4LiEXaa6XBrYk1YhGTQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>


<script type="text/javascript" src="/zh-Hans/assets/devEnvironment.js"></script>




  <script type="text/javascript" src="/zh-Hans/assets/guide-common.js"></script>

  <script type="text/javascript" src="/zh-Hans/assets/toc.js"></script>

  <script type="text/javascript" src="/zh-Hans/assets/tabs.js"></script>

  <script type="text/javascript" src="/zh-Hans/assets/guide-static.js"></script>

  <script type="text/javascript" src="/zh-Hans/assets/guide-multipane-static.js"></script>


<script type="text/javascript" src="/zh-Hans/assets/openliberty.js"></script>

  </body>

</html>
