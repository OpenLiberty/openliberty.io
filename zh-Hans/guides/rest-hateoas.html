<!DOCTYPE html>
<html lang="zh-Hans">

  





<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>
    
      Building a hypermedia-driven RESTful Java microservice using Hypermedia as the Engine of Application State (HATEOAS)
    
  </title>
  <meta name="description" content="A getting started tutorial on how to use Hypermedia as the Engine of Application State (HATEOAS) to drive a RESTful Java microservice. Learn how to define a JSON response with hypermedia links to navigate your microservice to the appropriate resources.">

  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
  

  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  
  <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/openliberty.css">
  <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/coderay-custom.css">

  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/header.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/header-dark.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/toc-multipane-static.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/end-of-guide.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/guide-card.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/tabs.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/guide-common.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/guide-multipane.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/guide-multipane-static.css">
  

  

  

  <link rel="canonical" href="https://openliberty.io/zh-Hans/guides/rest-hateoas">
  <link rel="alternate" type="application/rss+xml" title="Open Liberty" href="/zh-Hans/feed.xml">
  <link href="https://fonts.googleapis.com/css?family=Asap:400,500" rel="stylesheet">
    
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@OpenLibertyIO" />
  <meta name="twitter:title" content="Building a hypermedia-driven RESTful Java microservice using Hypermedia as the Engine of Application State (HATEOAS)" />
  <meta name="twitter:description" content="A getting started tutorial on how to use Hypermedia as the Engine of Application State (HATEOAS) to drive a RESTful Java microservice. Learn how to define a JSON response with hypermedia links to navigate your microservice to the appropriate resources." />

  <meta property='og:title' content="Building a hypermedia-driven RESTful Java microservice using Hypermedia as the Engine of Application State (HATEOAS)" />
  <meta property='og:image' content="https://openliberty.io/img/twitter_card.jpg" />
  <meta property='og:image:alt' content="Open Liberty Logo" />
  <meta property='og:description' content="A getting started tutorial on how to use Hypermedia as the Engine of Application State (HATEOAS) to drive a RESTful Java microservice. Learn how to define a JSON response with hypermedia links to navigate your microservice to the appropriate resources." />
  <meta property='og:url' content="https://openliberty.io/zh-Hans/guides/rest-hateoas" />
  <meta property='og:type' content="website" />
  
  <meta name="google-site-verification" content="h2P030H9b66CyL1nEmWfrZB8Fr14h9LmVMG7Ur0caBs" />

  
      <meta name="robots" content="noindex" />
  

  <script async defer src="https://buttons.github.io/buttons.js"></script>
</head>


  <body>
    
    

    


<!--  -->

<header>
    <nav id="nav_bar">
        <div id="nav_header">
            <a id="home_link" href="/" aria-label="Open Liberty Home">
                <img id="ol_logo" src="/img/docs_openliberty_logo.png" alt="Open Liberty Logo">
            </a>
            <button id="hamburger_toggle_button" onclick="$('#nav_bar').toggleClass('responsive');">
                <span id="hamburger_toggle_icon"></span>
            </button>
        </div>
        <div id="hamburger_menu">
            <ul class="nav_list">
                <li class="nav_link">
                    <a href="/start/">入门</a>
                </li>
                <li class="nav_link">
                    <a href="/guides/">指南</a>
                </li>
                <li class="nav_link">
                    <a href="/docs/">文档</a>
                </li>
                <li class="nav_link">
                    <a href="/support/">支持</a>
                </li>
                <li class="nav_link">
                    <a href="/blog/">博客</a>
                </li>
            </ul>
            <div id="header_round_links_container"> 
                <a id="header_twitter_link" class="header_round_button" href="https://twitter.com/OpenLibertyIO" target="_blank" rel="noopener noreferrer" aria-label="Twitter"></a>
                <a id="header_stackoverflow_link" class="header_round_button" href="https://stackoverflow.com/questions/tagged/open-liberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty questions on Stack Overflow"></a>
                <a id="header_groupsio_link" class="header_round_button" href="https://groups.io/g/openliberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty Groups.io"></a>
                <a id="header_gitter_link" class="header_round_button" href="https://app.gitter.im/#/room/#OpenLiberty_development:gitter.im" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty Gitter"></a>
            </div>
        </div>

    </nav>
</header>


    <main aria-label="Content">

      <!-- Build a list of all the documents in the guides code base -->
  
 

<!-- Remove any documents deemed private (archived, templates, etc) -->


<!-- Count number of guides from past 30 days-->
<!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
 

<!-- Sort list of guides by date with most recent first -->


<div id="background_container">
  <div id="toc_hotspot"></div>
  <!-- Guide's table of contents section -->
  <div id="toc_column" class="collapse inline open">
    <div id="toc_inner">
       
      <div id="close_container">
        <img id="toc_close_white" src="/img/toc_close_white.svg" alt="Close the table of contents" tabindex="0">
      </div>
      <h3 id="toc_title">Contents</h3>
      <div id="toc_container"><ul class="sectlevel1">
<li>
<a href="#what-youll-learn">What you’ll learn</a>
<ul class="sectlevel2">
<li><a href="#what-is-hateoas">What is HATEOAS?</a></li>
<li><a href="#response-json">Response JSON</a></li>
</ul>
</li>
<li>
<a href="#getting-started">Getting started</a>
<ul class="sectlevel2">
<li><a href="#try-what-youll-build">Try what you’ll build</a></li>
</ul>
</li>
<li>
<a href="#creating-the-response-json">Creating the response JSON</a>
<ul class="sectlevel2">
<li><a href="#linking-to-inventory-contents">Linking to inventory contents</a></li>
<li><a href="#linking-to-each-available-resource">Linking to each available resource</a></li>
<li><a href="#linking-to-inactive-services-or-unavailable-resources">Linking to inactive services or unavailable resources</a></li>
</ul>
</li>
<li><a href="#running-the-application">Running the application</a></li>
<li>
<a href="#testing-the-hypermedia-driven-restful-web-service">Testing the hypermedia-driven RESTful web service</a>
<ul class="sectlevel2">
<li><a href="#setting-up-your-tests">Setting up your tests</a></li>
<li><a href="#writing-the-tests">Writing the tests</a></li>
<li><a href="#running-the-tests">Running the tests</a></li>
</ul>
</li>
<li><a href="#great-work-youre-done">Great work! You’re done!</a></li>
<li><a href="#guide-attribution">Guide Attribution</a></li>
</ul></div>
      <div id="toc_separator"></div>
      
      <h3 id="tag_title">标签</h3>
      <div id="tags_container"></div>
    </div>
  </div>
  <div id="toc_indicator" tabindex="0" aria-label="Open the table of contents" class="hidden">
    <img src="/img/arrow_white.svg" alt="arrow">
  </div>
  <div id="toc_line" class="open"></div>
  <!-- Entire guide section -->
  <div id="guide_column" class="position_relative open">
    <div id="guide_content">
      <!-- Guide header section -->
      <div id="guide_meta" class="sect1" tabindex="0">
        <h1 id="guide_title">Creating a hypermedia-driven RESTful web service</h1>
        <div id="duration_container">
          <img src="/img/guide_duration_clock_icon_large.svg" alt="duration">
          <span id="guide_duration">30 minutes</span>

          <!-- Add New flag to guides from the past 30 days or 4 most recent posts. -->
          <!-- If new posts count is less than 4, use 4 most recent posts -->
           
          <!-- If new posts count is >= 4, use posts from last 30 days-->
          
          <!-- Add Updated flag to guides if the last major update is within last 12 weeks. -->
          <!-- Count number of guides from past last 12 weeks that is 84 days-->
          <!-- 7257600 is 84 days in seconds (84 days * 24 hours * 60 minutes * 60 seconds) -->
          
        </div>
        <div id="mobile_prereqs_section">
          <p id="mobile_prereqs_title">Prerequisites:</p>
          <div class="prereqs_list"></div>
          <div class="skills_network_container">
            <div class="skills_network_description"></div>
          </div>
        </div>
      </div>

      <div class="scroller_anchor"></div>
      <div id="mobile_toc_accordion_container" data-toggle="collapse" data-target="#toc_column" aria-expanded="false" aria-controls="toc_column" role="button">
        <div role="menuitem" id="mobile_toc_accordion">
          <button class="breadcrumb_hamburger toc-toggle collapsed" type="button" tabindex="0">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <img src="/img/toc_close_green.svg" class="TOC_Close_SVG hidden img-responsive" alt="Table of contents close button">
          </button>
          <span>Table of contents</span>
        </div>
      </div>

      <!-- Guide content section -->
      <div id="preamble">
<div class="sectionbody">
<div class="admonitionblock note hidden">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This repository contains the guide documentation source. To view the guide in published form, view it on the <a href="https://openliberty.io/guides/rest-hateoas.html">Open Liberty website</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You’ll explore how to use Hypermedia As The Engine Of Application State (HATEOAS) to drive your RESTful web service on Open Liberty.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what-youll-learn">What you’ll learn</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You will learn how to use hypermedia to create a specific style of a response JSON, which has contents that you can use to navigate your REST service. You’ll build on top of a simple inventory REST service that you can develop with MicroProfile technologies. You can find the service at the following URL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>http://localhost:9080/inventory/hosts</code></pre>
</div>
</div>
<div class="paragraph">
<p>The service responds with a JSON file that contains all of the registered hosts. Each host has a collection of HATEOAS links:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">"</span><span class="content">foo</span><span class="delimiter">"</span></span>: [
    {
      <span class="key"><span class="delimiter">"</span><span class="content">href</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">http://localhost:9080/inventory/hosts/foo</span><span class="delimiter">"</span></span>,
      <span class="key"><span class="delimiter">"</span><span class="content">rel</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">self</span><span class="delimiter">"</span></span>
    }
  ],
  <span class="key"><span class="delimiter">"</span><span class="content">bar</span><span class="delimiter">"</span></span>: [
    {
      <span class="key"><span class="delimiter">"</span><span class="content">href</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">http://localhost:9080/inventory/hosts/bar</span><span class="delimiter">"</span></span>,
      <span class="key"><span class="delimiter">"</span><span class="content">rel</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">self</span><span class="delimiter">"</span></span>
    }
  ],
  <span class="key"><span class="delimiter">"</span><span class="content">*</span><span class="delimiter">"</span></span>: [
    {
      <span class="key"><span class="delimiter">"</span><span class="content">href</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">http://localhost:9080/inventory/hosts/*</span><span class="delimiter">"</span></span>,
      <span class="key"><span class="delimiter">"</span><span class="content">rel</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">self</span><span class="delimiter">"</span></span>
    }
  ]
}</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="what-is-hateoas">What is HATEOAS?</h3>
<div class="paragraph">
<p>HATEOAS is a constraint of REST application architectures. With HATEOAS, the client receives information about the available resources from the REST application. The client does not need to be hardcoded to a fixed set of resources, and the application and client can evolve independently. In other words, the application tells the client where it can go and what it can access by providing it with a simple collection of links to other available resources.</p>
</div>
</div>
<div class="sect2">
<h3 id="response-json">Response JSON</h3>
<div class="paragraph">
<p>In the context of HATEOAS, each resource must contain a link reference to itself, which is commonly referred to as <code>self</code>. In this guide, the JSON structure features a mapping between the hostname and its corresponding list of HATEOAS links:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">  <span class="key"><span class="delimiter">"</span><span class="content">*</span><span class="delimiter">"</span></span>: [
    {
      <span class="key"><span class="delimiter">"</span><span class="content">href</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">http://localhost:9080/inventory/hosts/*</span><span class="delimiter">"</span></span>,
      <span class="key"><span class="delimiter">"</span><span class="content">rel</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">self</span><span class="delimiter">"</span></span>
    }
  ]</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="link-types">Link types</h4>
<div class="paragraph">
<p>The following example shows two different links. The first link has a <code>self</code> relationship with the resource object and is generated whenever you register a host. The link points to that host entry in the inventory:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">  {
    <span class="key"><span class="delimiter">"</span><span class="content">href</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">http://localhost:9080/inventory/hosts/&lt;hostname&gt;</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">rel</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">self</span><span class="delimiter">"</span></span>
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>The second link has a <code>properties</code> relationship with the resource object and is generated if the host <code>system</code> service is running. The link points to the properties resource on the host:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">  {
    <span class="key"><span class="delimiter">"</span><span class="content">href</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">http://&lt;hostname&gt;:9080/system/properties</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">rel</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">properties</span><span class="delimiter">"</span></span>
  }</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="other-formats">Other formats</h4>
<div class="paragraph">
<p>Although you should stick to the previous format for the purpose of this guide, another common convention has the link as the value of the relationship:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">  <span class="key"><span class="delimiter">"</span><span class="content">_links</span><span class="delimiter">"</span></span>: {
      <span class="key"><span class="delimiter">"</span><span class="content">self</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">http://localhost:9080/inventory/hosts/&lt;hostname&gt;</span><span class="delimiter">"</span></span>,
      <span class="key"><span class="delimiter">"</span><span class="content">properties</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">http://&lt;hostname&gt;:9080/system/properties</span><span class="delimiter">"</span></span>
  }</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1 command">
<h2 id="getting-started">Getting started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The fastest way to work through this guide is to clone the <a href="https://github.com/openliberty/guide-rest-hateoas.git" target="_blank" rel="noopener noreferrer">Git repository</a> and use the projects that are provided inside:</p>
</div>
<div id="git_clone" class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>git clone https://github.com/openliberty/guide-rest-hateoas.git
cd guide-rest-hateoas</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>start</code> directory contains the starting project that you will build upon.</p>
</div>
<div class="paragraph">
<p>The <code>finish</code> directory contains the finished project that you will build.</p>
</div>
<div class="paragraph">
<p>Before you begin, make sure you have all the necessary <span class="prerequisites">prerequisites</span>.</p>
</div>
<div class="sect2">
<h3 id="try-what-youll-build">Try what you’ll build</h3>
<div class="paragraph">
<p>The <code>finish</code> directory in the root of this guide contains the finished application. Give it a try before you proceed.</p>
</div>
<div class="paragraph">
<p>To try out the application, first go to the <code>finish</code> directory and run the following Maven goal to build the application and deploy it to Open Liberty:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>cd finish
mvn liberty:run</code></pre>
</div>
</div>
<div class="paragraph">
<p>After you see the following message, your Liberty instance is ready:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre>The defaultServer server is ready to run a smarter planet.</pre>
</div>
</div>
<div class="paragraph">
<p>After the Liberty instance runs, you can find your hypermedia-driven <code>inventory</code> service at the following URL:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://localhost:9080/inventory/hosts" class="notranslate bare" target="_blank" rel="noopener noreferrer">http://localhost:9080/inventory/hosts</a></p>
</li>
</ul>
</div>
<div class="paragraph command">
<p>After you are finished checking out the application, stop the Liberty instance by pressing <code>CTRL+C</code> in the command-line session where you ran Liberty. Alternatively, you can run the <code>liberty:stop</code> goal from the <code>finish</code> directory in another shell session:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>mvn liberty:stop</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-the-response-json">Creating the response JSON</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Navigate to the <code>start</code> directory.</p>
</div>
<div class="paragraph command">
<p>When you run Open Liberty in <a href="https://openliberty.io/docs/latest/development-mode.html" target="_blank" rel="noopener">dev mode</a>, dev mode listens for file changes and automatically recompiles and deploys your updates whenever you save a new change. Run the following goal to start Open Liberty in dev mode:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>mvn liberty:dev</code></pre>
</div>
</div>
<div class="paragraph">
<p>After you see the following message, your Liberty instance is ready in dev mode:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre>**************************************************************
*    Liberty is running in dev mode.</pre>
</div>
</div>
<div class="paragraph">
<p>Dev mode holds your command-line session to listen for file changes. Open another command-line session to continue, or open the project in your editor.</p>
</div>
<div class="paragraph">
<p>Begin by building your response JSON, which is composed of the name of the host machine and its list of HATEOAS links.</p>
</div>
<div class="sect2">
<h3 id="linking-to-inventory-contents">Linking to inventory contents</h3>
<div class="paragraph">
<p>As mentioned before, your starting point is an existing simple inventory REST service.</p>
</div>
<div class="paragraph">
<p>Look at the request handlers in the <code class="hotspot file=0">InventoryResource.java</code> file.</p>
</div>
<div class="paragraph">
<p>The <code>…​/inventory/hosts/</code> URL will no longer respond with a JSON representation of your inventory contents, so you can discard the <code>listContents</code> method and integrate it into the <code class="hotspot=PropertiesForHost file=0">getPropertiesForHost</code> method.</p>
</div>
<div class="listingblock code_command hotspot">
<div class="content">
<pre><mark>Replace the <code>InventoryResource</code> class.</mark>
<code>src/main/java/io/openliberty/guides/microprofile/InventoryResource.java</code></pre>
</div>
</div>
<div class="paragraph">
<p>InventoryResource.java</p>
</div>
<div class="listingblock code_column hide_tags=comment,copyright">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="line-numbers"> 1</span><span class="comment">// tag::copyright[]</span>
<span class="line-numbers"> 2</span><span class="comment">/*******************************************************************************</span>
<span class="line-numbers"> 3</span><span class="comment"> * Copyright (c) 2017, 2022 IBM Corporation and others.</span>
<span class="line-numbers"> 4</span><span class="comment"> * All rights reserved. This program and the accompanying materials</span>
<span class="line-numbers"> 5</span><span class="comment"> * are made available under the terms of the Eclipse Public License 2.0</span>
<span class="line-numbers"> 6</span><span class="comment"> * which accompanies this distribution, and is available at</span>
<span class="line-numbers"> 7</span><span class="comment"> * http://www.eclipse.org/legal/epl-2.0/</span>
<span class="line-numbers"> 8</span><span class="comment"> *</span>
<span class="line-numbers"> 9</span><span class="comment"> * SPDX-License-Identifier: EPL-2.0</span>
<span class="line-numbers">10</span><span class="comment"> *******************************************************************************/</span>
<span class="line-numbers">11</span><span class="comment">// end::copyright[]</span>
<span class="line-numbers">12</span><span class="keyword">package</span> <span class="namespace">io.openliberty.guides.microprofile</span>;
<span class="line-numbers">13</span>
<span class="line-numbers">14</span><span class="keyword">import</span> <span class="include">jakarta.enterprise.context.ApplicationScoped</span>;
<span class="line-numbers">15</span><span class="keyword">import</span> <span class="include">jakarta.inject.Inject</span>;
<span class="line-numbers">16</span><span class="keyword">import</span> <span class="include">jakarta.json.JsonArray</span>;
<span class="line-numbers">17</span><span class="keyword">import</span> <span class="include">jakarta.json.JsonObject</span>;
<span class="line-numbers">18</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.GET</span>;
<span class="line-numbers">19</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.Path</span>;
<span class="line-numbers">20</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.PathParam</span>;
<span class="line-numbers">21</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.Produces</span>;
<span class="line-numbers">22</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.core.Context</span>;
<span class="line-numbers">23</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.core.MediaType</span>;
<span class="line-numbers">24</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.core.UriInfo</span>;
<span class="line-numbers">25</span>
<span class="line-numbers">26</span><span class="annotation">@ApplicationScoped</span>
<span class="line-numbers">27</span><span class="annotation">@Path</span>(<span class="string"><span class="delimiter">"</span><span class="content">hosts</span><span class="delimiter">"</span></span>)
<span class="line-numbers">28</span><span class="comment">// tag::InventoryResource[]</span>
<span class="line-numbers">29</span><span class="directive">public</span> <span class="type">class</span> <span class="class">InventoryResource</span> {
<span class="line-numbers">30</span>
<span class="line-numbers">31</span>    <span class="annotation">@Inject</span>
<span class="line-numbers">32</span>    InventoryManager manager;
<span class="line-numbers">33</span>
<span class="line-numbers">34</span>    <span class="comment">// tag::Context[]</span>
<span class="line-numbers">35</span>    <span class="annotation">@Context</span>
<span class="line-numbers">36</span>    <span class="comment">// end::Context[]</span>
<span class="line-numbers">37</span>    <span class="comment">// tag::UriInfo[]</span>
<span class="line-numbers">38</span>    UriInfo uriInfo;
<span class="line-numbers">39</span>    <span class="comment">// end::UriInfo[]</span>
<span class="line-numbers">40</span>
<span class="line-numbers">41</span>    <span class="annotation">@GET</span>
<span class="line-numbers">42</span>    <span class="annotation">@Produces</span>(MediaType.APPLICATION_JSON)
<span class="line-numbers">43</span>    <span class="comment">// tag::handler[]</span>
<span class="line-numbers">44</span>    <span class="directive">public</span> JsonObject handler() {
<span class="line-numbers">45</span>        <span class="keyword">return</span> manager.getSystems(uriInfo.getAbsolutePath().toString());
<span class="line-numbers">46</span>    }
<span class="line-numbers">47</span>    <span class="comment">// end::handler[]</span>
<span class="line-numbers">48</span>
<span class="line-numbers">49</span>    <span class="annotation">@GET</span>
<span class="line-numbers">50</span>    <span class="annotation">@Path</span>(<span class="string"><span class="delimiter">"</span><span class="content">{hostname}</span><span class="delimiter">"</span></span>)
<span class="line-numbers">51</span>    <span class="annotation">@Produces</span>(MediaType.APPLICATION_JSON)
<span class="line-numbers">52</span>    <span class="comment">// tag::PropertiesForHost[]</span>
<span class="line-numbers">53</span>    <span class="directive">public</span> JsonObject getPropertiesForHost(<span class="annotation">@PathParam</span>(<span class="string"><span class="delimiter">"</span><span class="content">hostname</span><span class="delimiter">"</span></span>) <span class="predefined-type">String</span> hostname) {
<span class="line-numbers">54</span>        <span class="keyword">return</span> (hostname.equals(<span class="string"><span class="delimiter">"</span><span class="content">*</span><span class="delimiter">"</span></span>)) ? manager.list() : manager.get(hostname);
<span class="line-numbers">55</span>    }
<span class="line-numbers">56</span>    <span class="comment">// end::PropertiesForHost[]</span>
<span class="line-numbers">57</span>}
<span class="line-numbers">58</span><span class="comment">// end::InventoryResource[]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The contents of your inventory are now under the asterisk (*) wildcard and reside at the <code>http://localhost:9080/inventory/hosts/*</code> URL.</p>
</div>
<div class="paragraph">
<p>The <code class="hotspot=handler file=0">GET</code> request handler is responsible for handling all <code class="hotspot=handler file=0">GET</code> requests that are made to the target URL. This method responds with a JSON that contains HATEOAS links.</p>
</div>
<div class="paragraph">
<p>The <code class="hotspot=UriInfo file=0">UriInfo</code> object is what will be used to build your HATEOAS links.</p>
</div>
<div class="paragraph">
<p>The <code class="hotspot=Context file=0">@Context</code> annotation is a part of CDI and indicates that the <code>UriInfo</code> will be injected when the resource is instantiated.</p>
</div>
<div class="paragraph">
<p>Your new <code class="hotspot=InventoryResource file=0">InventoryResource</code> class is now replaced. Next, you will implement the <code class="hotspot=getSystems file=1">getSystems</code> method and build the response JSON object.</p>
</div>
<div class="paragraph">
<p>InventoryManager.java</p>
</div>
<div class="listingblock code_column hide_tags=comment,copyright">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="line-numbers"> 1</span><span class="comment">// tag::copyright[]</span>
<span class="line-numbers"> 2</span><span class="comment">/*******************************************************************************</span>
<span class="line-numbers"> 3</span><span class="comment"> * Copyright (c) 2017, 2022 IBM Corporation and others.</span>
<span class="line-numbers"> 4</span><span class="comment"> * All rights reserved. This program and the accompanying materials</span>
<span class="line-numbers"> 5</span><span class="comment"> * are made available under the terms of the Eclipse Public License 2.0</span>
<span class="line-numbers"> 6</span><span class="comment"> * which accompanies this distribution, and is available at</span>
<span class="line-numbers"> 7</span><span class="comment"> * http://www.eclipse.org/legal/epl-2.0/</span>
<span class="line-numbers"> 8</span><span class="comment"> *</span>
<span class="line-numbers"> 9</span><span class="comment"> * SPDX-License-Identifier: EPL-2.0</span>
<span class="line-numbers">10</span><span class="comment"> *******************************************************************************/</span>
<span class="line-numbers">11</span><span class="comment">// end::copyright[]</span>
<span class="line-numbers">12</span><span class="keyword">package</span> <span class="namespace">io.openliberty.guides.microprofile</span>;
<span class="line-numbers">13</span>
<span class="line-numbers">14</span><span class="keyword">import</span> <span class="include">java.util.concurrent.ConcurrentHashMap</span>;
<span class="line-numbers">15</span><span class="keyword">import</span> <span class="include">java.util.concurrent.ConcurrentMap</span>;
<span class="line-numbers">16</span>
<span class="line-numbers">17</span><span class="keyword">import</span> <span class="include">jakarta.enterprise.context.ApplicationScoped</span>;
<span class="line-numbers">18</span><span class="keyword">import</span> <span class="include">jakarta.json.Json</span>;
<span class="line-numbers">19</span><span class="keyword">import</span> <span class="include">jakarta.json.JsonArray</span>;
<span class="line-numbers">20</span><span class="keyword">import</span> <span class="include">jakarta.json.JsonArrayBuilder</span>;
<span class="line-numbers">21</span><span class="keyword">import</span> <span class="include">jakarta.json.JsonObject</span>;
<span class="line-numbers">22</span><span class="keyword">import</span> <span class="include">jakarta.json.JsonObjectBuilder</span>;
<span class="line-numbers">23</span>
<span class="line-numbers">24</span><span class="keyword">import</span> <span class="include">io.openliberty.guides.microprofile.util.ReadyJson</span>;
<span class="line-numbers">25</span><span class="keyword">import</span> <span class="include">io.openliberty.guides.microprofile.util.InventoryUtil</span>;
<span class="line-numbers">26</span>
<span class="line-numbers">27</span><span class="annotation">@ApplicationScoped</span>
<span class="line-numbers">28</span><span class="directive">public</span> <span class="type">class</span> <span class="class">InventoryManager</span> {
<span class="line-numbers">29</span>
<span class="line-numbers">30</span>    <span class="directive">private</span> <span class="predefined-type">ConcurrentMap</span>&lt;<span class="predefined-type">String</span>, JsonObject&gt; inv = <span class="keyword">new</span> <span class="predefined-type">ConcurrentHashMap</span>&lt;&gt;();
<span class="line-numbers">31</span>
<span class="line-numbers">32</span>    <span class="directive">public</span> JsonObject get(<span class="predefined-type">String</span> hostname) {
<span class="line-numbers">33</span>        JsonObject properties = inv.get(hostname);
<span class="line-numbers">34</span>        <span class="keyword">if</span> (properties == <span class="predefined-constant">null</span>) {
<span class="line-numbers">35</span>            <span class="keyword">if</span> (InventoryUtil.responseOk(hostname)) {
<span class="line-numbers">36</span>                properties = InventoryUtil.getProperties(hostname);
<span class="line-numbers">37</span>                <span class="local-variable">this</span>.add(hostname, properties);
<span class="line-numbers">38</span>            } <span class="keyword">else</span> {
<span class="line-numbers">39</span>                <span class="keyword">return</span> ReadyJson.SERVICE_UNREACHABLE.getJson();
<span class="line-numbers">40</span>            }
<span class="line-numbers">41</span>        }
<span class="line-numbers">42</span>        <span class="keyword">return</span> properties;
<span class="line-numbers">43</span>    }
<span class="line-numbers">44</span>
<span class="line-numbers">45</span>    <span class="directive">public</span> <span class="type">void</span> add(<span class="predefined-type">String</span> hostname, JsonObject systemProps) {
<span class="line-numbers">46</span>        inv.putIfAbsent(hostname, systemProps);
<span class="line-numbers">47</span>    }
<span class="line-numbers">48</span>
<span class="line-numbers">49</span>    <span class="directive">public</span> JsonObject list() {
<span class="line-numbers">50</span>        JsonObjectBuilder systems = Json.createObjectBuilder();
<span class="line-numbers">51</span>        inv.forEach((host, props) -&gt; {
<span class="line-numbers">52</span>            JsonObject systemProps = Json.createObjectBuilder()
<span class="line-numbers">53</span>                                         .add(<span class="string"><span class="delimiter">"</span><span class="content">os.name</span><span class="delimiter">"</span></span>, props.getString(<span class="string"><span class="delimiter">"</span><span class="content">os.name</span><span class="delimiter">"</span></span>))
<span class="line-numbers">54</span>                                         .add(<span class="string"><span class="delimiter">"</span><span class="content">user.name</span><span class="delimiter">"</span></span>, props.getString(<span class="string"><span class="delimiter">"</span><span class="content">user.name</span><span class="delimiter">"</span></span>))
<span class="line-numbers">55</span>                                         .build();
<span class="line-numbers">56</span>            systems.add(host, systemProps);
<span class="line-numbers">57</span>        });
<span class="line-numbers">58</span>        systems.add(<span class="string"><span class="delimiter">"</span><span class="content">hosts</span><span class="delimiter">"</span></span>, systems);
<span class="line-numbers">59</span>        systems.add(<span class="string"><span class="delimiter">"</span><span class="content">total</span><span class="delimiter">"</span></span>, inv.size());
<span class="line-numbers">60</span>        <span class="keyword">return</span> systems.build();
<span class="line-numbers">61</span>    }
<span class="line-numbers">62</span>
<span class="line-numbers">63</span>    <span class="comment">// tag::getSystems[]</span>
<span class="line-numbers">64</span>    <span class="directive">public</span> JsonObject getSystems(<span class="predefined-type">String</span> url) {
<span class="line-numbers">65</span>        <span class="comment">// inventory content</span>
<span class="line-numbers">66</span>        JsonObjectBuilder systems = Json.createObjectBuilder();
<span class="line-numbers">67</span>        systems.add(<span class="string"><span class="delimiter">"</span><span class="content">*</span><span class="delimiter">"</span></span>, InventoryUtil.buildLinksForHost(<span class="string"><span class="delimiter">"</span><span class="content">*</span><span class="delimiter">"</span></span>, url));
<span class="line-numbers">68</span>
<span class="line-numbers">69</span>        <span class="comment">// collecting systems jsons</span>
<span class="line-numbers">70</span>        <span class="keyword">for</span> (<span class="predefined-type">String</span> host : inv.keySet()) {
<span class="line-numbers">71</span>            systems.add(host, InventoryUtil.buildLinksForHost(host, url));
<span class="line-numbers">72</span>        }
<span class="line-numbers">73</span>
<span class="line-numbers">74</span>        <span class="keyword">return</span> systems.build();
<span class="line-numbers">75</span>    }
<span class="line-numbers">76</span>    <span class="comment">// end::getSystems[]</span>
<span class="line-numbers">77</span>
<span class="line-numbers">78</span>}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="linking-to-each-available-resource">Linking to each available resource</h3>
<div class="paragraph">
<p>Take a look at your <code class="hotspot file=0">InventoryManager</code> and <code class="hotspot file=1">InventoryUtil</code> files.</p>
</div>
<div class="listingblock code_command hotspot">
<div class="content">
<pre><mark>Replace the <code>InventoryManager</code> class.</mark>
<code>src/main/java/io/openliberty/guides/microprofile/InventoryManager.java</code></pre>
</div>
</div>
<div class="paragraph">
<p>InventoryManager.java</p>
</div>
<div class="listingblock code_column hide_tags=comment,copyright">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="line-numbers"> 1</span><span class="comment">// tag::copyright[]</span>
<span class="line-numbers"> 2</span><span class="comment">/*******************************************************************************</span>
<span class="line-numbers"> 3</span><span class="comment"> * Copyright (c) 2017, 2022 IBM Corporation and others.</span>
<span class="line-numbers"> 4</span><span class="comment"> * All rights reserved. This program and the accompanying materials</span>
<span class="line-numbers"> 5</span><span class="comment"> * are made available under the terms of the Eclipse Public License 2.0</span>
<span class="line-numbers"> 6</span><span class="comment"> * which accompanies this distribution, and is available at</span>
<span class="line-numbers"> 7</span><span class="comment"> * http://www.eclipse.org/legal/epl-2.0/</span>
<span class="line-numbers"> 8</span><span class="comment"> *</span>
<span class="line-numbers"> 9</span><span class="comment"> * SPDX-License-Identifier: EPL-2.0</span>
<span class="line-numbers">10</span><span class="comment"> *******************************************************************************/</span>
<span class="line-numbers">11</span><span class="comment">// end::copyright[]</span>
<span class="line-numbers">12</span><span class="keyword">package</span> <span class="namespace">io.openliberty.guides.microprofile</span>;
<span class="line-numbers">13</span>
<span class="line-numbers">14</span><span class="keyword">import</span> <span class="include">java.util.concurrent.ConcurrentHashMap</span>;
<span class="line-numbers">15</span><span class="keyword">import</span> <span class="include">java.util.concurrent.ConcurrentMap</span>;
<span class="line-numbers">16</span>
<span class="line-numbers">17</span><span class="keyword">import</span> <span class="include">jakarta.enterprise.context.ApplicationScoped</span>;
<span class="line-numbers">18</span><span class="keyword">import</span> <span class="include">jakarta.json.Json</span>;
<span class="line-numbers">19</span><span class="keyword">import</span> <span class="include">jakarta.json.JsonArray</span>;
<span class="line-numbers">20</span><span class="keyword">import</span> <span class="include">jakarta.json.JsonArrayBuilder</span>;
<span class="line-numbers">21</span><span class="keyword">import</span> <span class="include">jakarta.json.JsonObject</span>;
<span class="line-numbers">22</span><span class="keyword">import</span> <span class="include">jakarta.json.JsonObjectBuilder</span>;
<span class="line-numbers">23</span>
<span class="line-numbers">24</span><span class="keyword">import</span> <span class="include">io.openliberty.guides.microprofile.util.ReadyJson</span>;
<span class="line-numbers">25</span><span class="keyword">import</span> <span class="include">io.openliberty.guides.microprofile.util.InventoryUtil</span>;
<span class="line-numbers">26</span>
<span class="line-numbers">27</span><span class="annotation">@ApplicationScoped</span>
<span class="line-numbers">28</span><span class="directive">public</span> <span class="type">class</span> <span class="class">InventoryManager</span> {
<span class="line-numbers">29</span>
<span class="line-numbers">30</span>    <span class="directive">private</span> <span class="predefined-type">ConcurrentMap</span>&lt;<span class="predefined-type">String</span>, JsonObject&gt; inv = <span class="keyword">new</span> <span class="predefined-type">ConcurrentHashMap</span>&lt;&gt;();
<span class="line-numbers">31</span>
<span class="line-numbers">32</span>    <span class="directive">public</span> JsonObject get(<span class="predefined-type">String</span> hostname) {
<span class="line-numbers">33</span>        JsonObject properties = inv.get(hostname);
<span class="line-numbers">34</span>        <span class="keyword">if</span> (properties == <span class="predefined-constant">null</span>) {
<span class="line-numbers">35</span>            <span class="keyword">if</span> (InventoryUtil.responseOk(hostname)) {
<span class="line-numbers">36</span>                properties = InventoryUtil.getProperties(hostname);
<span class="line-numbers">37</span>                <span class="local-variable">this</span>.add(hostname, properties);
<span class="line-numbers">38</span>            } <span class="keyword">else</span> {
<span class="line-numbers">39</span>                <span class="keyword">return</span> ReadyJson.SERVICE_UNREACHABLE.getJson();
<span class="line-numbers">40</span>            }
<span class="line-numbers">41</span>        }
<span class="line-numbers">42</span>        <span class="keyword">return</span> properties;
<span class="line-numbers">43</span>    }
<span class="line-numbers">44</span>
<span class="line-numbers">45</span>    <span class="directive">public</span> <span class="type">void</span> add(<span class="predefined-type">String</span> hostname, JsonObject systemProps) {
<span class="line-numbers">46</span>        inv.putIfAbsent(hostname, systemProps);
<span class="line-numbers">47</span>    }
<span class="line-numbers">48</span>
<span class="line-numbers">49</span>    <span class="directive">public</span> JsonObject list() {
<span class="line-numbers">50</span>        JsonObjectBuilder systems = Json.createObjectBuilder();
<span class="line-numbers">51</span>        inv.forEach((host, props) -&gt; {
<span class="line-numbers">52</span>            JsonObject systemProps = Json.createObjectBuilder()
<span class="line-numbers">53</span>                                         .add(<span class="string"><span class="delimiter">"</span><span class="content">os.name</span><span class="delimiter">"</span></span>, props.getString(<span class="string"><span class="delimiter">"</span><span class="content">os.name</span><span class="delimiter">"</span></span>))
<span class="line-numbers">54</span>                                         .add(<span class="string"><span class="delimiter">"</span><span class="content">user.name</span><span class="delimiter">"</span></span>, props.getString(<span class="string"><span class="delimiter">"</span><span class="content">user.name</span><span class="delimiter">"</span></span>))
<span class="line-numbers">55</span>                                         .build();
<span class="line-numbers">56</span>            systems.add(host, systemProps);
<span class="line-numbers">57</span>        });
<span class="line-numbers">58</span>        systems.add(<span class="string"><span class="delimiter">"</span><span class="content">hosts</span><span class="delimiter">"</span></span>, systems);
<span class="line-numbers">59</span>        systems.add(<span class="string"><span class="delimiter">"</span><span class="content">total</span><span class="delimiter">"</span></span>, inv.size());
<span class="line-numbers">60</span>        <span class="keyword">return</span> systems.build();
<span class="line-numbers">61</span>    }
<span class="line-numbers">62</span>
<span class="line-numbers">63</span>    <span class="comment">// tag::getSystems[]</span>
<span class="line-numbers">64</span>    <span class="directive">public</span> JsonObject getSystems(<span class="predefined-type">String</span> url) {
<span class="line-numbers">65</span>        <span class="comment">// inventory content</span>
<span class="line-numbers">66</span>        JsonObjectBuilder systems = Json.createObjectBuilder();
<span class="line-numbers">67</span>        systems.add(<span class="string"><span class="delimiter">"</span><span class="content">*</span><span class="delimiter">"</span></span>, InventoryUtil.buildLinksForHost(<span class="string"><span class="delimiter">"</span><span class="content">*</span><span class="delimiter">"</span></span>, url));
<span class="line-numbers">68</span>
<span class="line-numbers">69</span>        <span class="comment">// collecting systems jsons</span>
<span class="line-numbers">70</span>        <span class="keyword">for</span> (<span class="predefined-type">String</span> host : inv.keySet()) {
<span class="line-numbers">71</span>            systems.add(host, InventoryUtil.buildLinksForHost(host, url));
<span class="line-numbers">72</span>        }
<span class="line-numbers">73</span>
<span class="line-numbers">74</span>        <span class="keyword">return</span> systems.build();
<span class="line-numbers">75</span>    }
<span class="line-numbers">76</span>    <span class="comment">// end::getSystems[]</span>
<span class="line-numbers">77</span>
<span class="line-numbers">78</span>}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code class="hotspot=getSystems file=0">getSystems</code> method accepts a target URL as an argument and returns a JSON object that contains HATEOAS links.</p>
</div>
<div class="listingblock code_command hotspot file=1">
<div class="content">
<pre><mark>Replace the <code>InventoryUtil</code> class.</mark>
<code>src/main/java/io/openliberty/guides/microprofile/util/InventoryUtil.java</code></pre>
</div>
</div>
<div class="paragraph">
<p>InventoryUtil.java</p>
</div>
<div class="listingblock code_column hide_tags=comment,copyright">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="line-numbers"> 1</span><span class="comment">// tag::copyright[]</span>
<span class="line-numbers"> 2</span><span class="comment">/*******************************************************************************</span>
<span class="line-numbers"> 3</span><span class="comment"> * Copyright (c) 2017, 2022 IBM Corporation and others.</span>
<span class="line-numbers"> 4</span><span class="comment"> * All rights reserved. This program and the accompanying materials</span>
<span class="line-numbers"> 5</span><span class="comment"> * are made available under the terms of the Eclipse Public License 2.0</span>
<span class="line-numbers"> 6</span><span class="comment"> * which accompanies this distribution, and is available at</span>
<span class="line-numbers"> 7</span><span class="comment"> * http://www.eclipse.org/legal/epl-2.0/</span>
<span class="line-numbers"> 8</span><span class="comment"> *</span>
<span class="line-numbers"> 9</span><span class="comment"> * SPDX-License-Identifier: EPL-2.0</span>
<span class="line-numbers">10</span><span class="comment"> *******************************************************************************/</span>
<span class="line-numbers">11</span><span class="comment">// end::copyright[]</span>
<span class="line-numbers">12</span><span class="keyword">package</span> <span class="namespace">io.openliberty.guides.microprofile.util</span>;
<span class="line-numbers">13</span>
<span class="line-numbers">14</span><span class="keyword">import</span> <span class="include">java.net.HttpURLConnection</span>;
<span class="line-numbers">15</span><span class="keyword">import</span> <span class="include">java.net.URI</span>;
<span class="line-numbers">16</span><span class="keyword">import</span> <span class="include">java.net.URL</span>;
<span class="line-numbers">17</span>
<span class="line-numbers">18</span><span class="keyword">import</span> <span class="include">jakarta.json.Json</span>;
<span class="line-numbers">19</span><span class="keyword">import</span> <span class="include">jakarta.json.JsonArray</span>;
<span class="line-numbers">20</span><span class="keyword">import</span> <span class="include">jakarta.json.JsonArrayBuilder</span>;
<span class="line-numbers">21</span><span class="keyword">import</span> <span class="include">jakarta.json.JsonObject</span>;
<span class="line-numbers">22</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.client.Client</span>;
<span class="line-numbers">23</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.client.ClientBuilder</span>;
<span class="line-numbers">24</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.core.MediaType</span>;
<span class="line-numbers">25</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.core.UriBuilder</span>;
<span class="line-numbers">26</span>
<span class="line-numbers">27</span><span class="keyword">import</span> <span class="include">org.apache.commons.lang3.StringUtils</span>;
<span class="line-numbers">28</span>
<span class="line-numbers">29</span><span class="directive">public</span> <span class="type">class</span> <span class="class">InventoryUtil</span> {
<span class="line-numbers">30</span>
<span class="line-numbers">31</span>    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">int</span> PORT = <span class="integer">9080</span>;
<span class="line-numbers">32</span>    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> PROTOCOL = <span class="string"><span class="delimiter">"</span><span class="content">http</span><span class="delimiter">"</span></span>;
<span class="line-numbers">33</span>    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> SYSTEM_PROPERTIES = <span class="string"><span class="delimiter">"</span><span class="content">/system/properties</span><span class="delimiter">"</span></span>;
<span class="line-numbers">34</span>
<span class="line-numbers">35</span>    <span class="directive">public</span> <span class="directive">static</span> JsonObject getProperties(<span class="predefined-type">String</span> hostname) {
<span class="line-numbers">36</span>        Client client = ClientBuilder.newClient();
<span class="line-numbers">37</span>        <span class="predefined-type">URI</span> propURI = InventoryUtil.buildUri(hostname);
<span class="line-numbers">38</span>        <span class="keyword">return</span> client.target(propURI)
<span class="line-numbers">39</span>                     .request(MediaType.APPLICATION_JSON)
<span class="line-numbers">40</span>                     .get(JsonObject.class);
<span class="line-numbers">41</span>    }
<span class="line-numbers">42</span>
<span class="line-numbers">43</span>    <span class="comment">// tag::buildLinksForHost[]</span>
<span class="line-numbers">44</span>    <span class="directive">public</span> <span class="directive">static</span> JsonArray buildLinksForHost(<span class="predefined-type">String</span> hostname, <span class="predefined-type">String</span> invUri) {
<span class="line-numbers">45</span>
<span class="line-numbers">46</span>        JsonArrayBuilder links = Json.createArrayBuilder();
<span class="line-numbers">47</span>
<span class="line-numbers">48</span>        links.add(Json.createObjectBuilder()
<span class="line-numbers">49</span>                      .add(<span class="string"><span class="delimiter">"</span><span class="content">href</span><span class="delimiter">"</span></span>, StringUtils.appendIfMissing(invUri, <span class="string"><span class="delimiter">"</span><span class="content">/</span><span class="delimiter">"</span></span>) + hostname)
<span class="line-numbers">50</span>                      <span class="comment">// tag::self[]</span>
<span class="line-numbers">51</span>                      .add(<span class="string"><span class="delimiter">"</span><span class="content">rel</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">self</span><span class="delimiter">"</span></span>));
<span class="line-numbers">52</span>                      <span class="comment">// end::self[]</span>
<span class="line-numbers">53</span>
<span class="line-numbers">54</span>        <span class="keyword">if</span> (!hostname.equals(<span class="string"><span class="delimiter">"</span><span class="content">*</span><span class="delimiter">"</span></span>)) {
<span class="line-numbers">55</span>            links.add(Json.createObjectBuilder()
<span class="line-numbers">56</span>                 .add(<span class="string"><span class="delimiter">"</span><span class="content">href</span><span class="delimiter">"</span></span>, InventoryUtil.buildUri(hostname).toString())
<span class="line-numbers">57</span>                 <span class="comment">// tag::properties[]</span>
<span class="line-numbers">58</span>                 .add(<span class="string"><span class="delimiter">"</span><span class="content">rel</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">properties</span><span class="delimiter">"</span></span>));
<span class="line-numbers">59</span>                 <span class="comment">// end::properties[]</span>
<span class="line-numbers">60</span>        }
<span class="line-numbers">61</span>
<span class="line-numbers">62</span>        <span class="keyword">return</span> links.build();
<span class="line-numbers">63</span>    }
<span class="line-numbers">64</span>    <span class="comment">// end::buildLinksForHost[]</span>
<span class="line-numbers">65</span>
<span class="line-numbers">66</span>    <span class="directive">public</span> <span class="directive">static</span> <span class="type">boolean</span> responseOk(<span class="predefined-type">String</span> hostname) {
<span class="line-numbers">67</span>        <span class="keyword">try</span> {
<span class="line-numbers">68</span>            <span class="predefined-type">URL</span> target = <span class="keyword">new</span> <span class="predefined-type">URL</span>(buildUri(hostname).toString());
<span class="line-numbers">69</span>            <span class="predefined-type">HttpURLConnection</span> http = (<span class="predefined-type">HttpURLConnection</span>) target.openConnection();
<span class="line-numbers">70</span>            http.setConnectTimeout(<span class="integer">50</span>);
<span class="line-numbers">71</span>            <span class="type">int</span> response = http.getResponseCode();
<span class="line-numbers">72</span>            <span class="keyword">return</span> (response != <span class="integer">200</span>) ? <span class="predefined-constant">false</span> : <span class="predefined-constant">true</span>;
<span class="line-numbers">73</span>        } <span class="keyword">catch</span> (<span class="exception">Exception</span> e) {
<span class="line-numbers">74</span>            <span class="keyword">return</span> <span class="predefined-constant">false</span>;
<span class="line-numbers">75</span>        }
<span class="line-numbers">76</span>    }
<span class="line-numbers">77</span>
<span class="line-numbers">78</span>    <span class="directive">private</span> <span class="directive">static</span> <span class="predefined-type">URI</span> buildUri(<span class="predefined-type">String</span> hostname) {
<span class="line-numbers">79</span>        <span class="keyword">return</span> UriBuilder.fromUri(SYSTEM_PROPERTIES)
<span class="line-numbers">80</span>                .host(hostname)
<span class="line-numbers">81</span>                .port(PORT)
<span class="line-numbers">82</span>                .scheme(PROTOCOL)
<span class="line-numbers">83</span>                .build();
<span class="line-numbers">84</span>    }
<span class="line-numbers">85</span>
<span class="line-numbers">86</span>}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The helper builds a link that points to the inventory entry with a <code class="hotspot=self file=1">self</code> relationship. The helper also builds a link that points to the <code>system</code> service with a <code class="hotspot=properties file=1">properties</code> relationship:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>http://localhost:9080/inventory/hosts/&lt;hostname&gt;</p>
</li>
<li>
<p>http://&lt;hostname&gt;:9080/system/properties</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="linking-to-inactive-services-or-unavailable-resources">Linking to inactive services or unavailable resources</h3>
<div class="paragraph">
<p>InventoryUtil.java</p>
</div>
<div class="listingblock code_column hide_tags=comment,copyright">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="line-numbers"> 1</span><span class="comment">// tag::copyright[]</span>
<span class="line-numbers"> 2</span><span class="comment">/*******************************************************************************</span>
<span class="line-numbers"> 3</span><span class="comment"> * Copyright (c) 2017, 2022 IBM Corporation and others.</span>
<span class="line-numbers"> 4</span><span class="comment"> * All rights reserved. This program and the accompanying materials</span>
<span class="line-numbers"> 5</span><span class="comment"> * are made available under the terms of the Eclipse Public License 2.0</span>
<span class="line-numbers"> 6</span><span class="comment"> * which accompanies this distribution, and is available at</span>
<span class="line-numbers"> 7</span><span class="comment"> * http://www.eclipse.org/legal/epl-2.0/</span>
<span class="line-numbers"> 8</span><span class="comment"> *</span>
<span class="line-numbers"> 9</span><span class="comment"> * SPDX-License-Identifier: EPL-2.0</span>
<span class="line-numbers">10</span><span class="comment"> *******************************************************************************/</span>
<span class="line-numbers">11</span><span class="comment">// end::copyright[]</span>
<span class="line-numbers">12</span><span class="keyword">package</span> <span class="namespace">io.openliberty.guides.microprofile.util</span>;
<span class="line-numbers">13</span>
<span class="line-numbers">14</span><span class="keyword">import</span> <span class="include">java.net.HttpURLConnection</span>;
<span class="line-numbers">15</span><span class="keyword">import</span> <span class="include">java.net.URI</span>;
<span class="line-numbers">16</span><span class="keyword">import</span> <span class="include">java.net.URL</span>;
<span class="line-numbers">17</span>
<span class="line-numbers">18</span><span class="keyword">import</span> <span class="include">jakarta.json.Json</span>;
<span class="line-numbers">19</span><span class="keyword">import</span> <span class="include">jakarta.json.JsonArray</span>;
<span class="line-numbers">20</span><span class="keyword">import</span> <span class="include">jakarta.json.JsonArrayBuilder</span>;
<span class="line-numbers">21</span><span class="keyword">import</span> <span class="include">jakarta.json.JsonObject</span>;
<span class="line-numbers">22</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.client.Client</span>;
<span class="line-numbers">23</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.client.ClientBuilder</span>;
<span class="line-numbers">24</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.core.MediaType</span>;
<span class="line-numbers">25</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.core.UriBuilder</span>;
<span class="line-numbers">26</span>
<span class="line-numbers">27</span><span class="keyword">import</span> <span class="include">org.apache.commons.lang3.StringUtils</span>;
<span class="line-numbers">28</span>
<span class="line-numbers">29</span><span class="directive">public</span> <span class="type">class</span> <span class="class">InventoryUtil</span> {
<span class="line-numbers">30</span>
<span class="line-numbers">31</span>    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="type">int</span> PORT = <span class="integer">9080</span>;
<span class="line-numbers">32</span>    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> PROTOCOL = <span class="string"><span class="delimiter">"</span><span class="content">http</span><span class="delimiter">"</span></span>;
<span class="line-numbers">33</span>    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> SYSTEM_PROPERTIES = <span class="string"><span class="delimiter">"</span><span class="content">/system/properties</span><span class="delimiter">"</span></span>;
<span class="line-numbers">34</span>
<span class="line-numbers">35</span>    <span class="directive">public</span> <span class="directive">static</span> JsonObject getProperties(<span class="predefined-type">String</span> hostname) {
<span class="line-numbers">36</span>        Client client = ClientBuilder.newClient();
<span class="line-numbers">37</span>        <span class="predefined-type">URI</span> propURI = InventoryUtil.buildUri(hostname);
<span class="line-numbers">38</span>        <span class="keyword">return</span> client.target(propURI)
<span class="line-numbers">39</span>                     .request(MediaType.APPLICATION_JSON)
<span class="line-numbers">40</span>                     .get(JsonObject.class);
<span class="line-numbers">41</span>    }
<span class="line-numbers">42</span>
<span class="line-numbers">43</span>    <span class="comment">// tag::buildLinksForHost[]</span>
<span class="line-numbers">44</span>    <span class="directive">public</span> <span class="directive">static</span> JsonArray buildLinksForHost(<span class="predefined-type">String</span> hostname, <span class="predefined-type">String</span> invUri) {
<span class="line-numbers">45</span>
<span class="line-numbers">46</span>        JsonArrayBuilder links = Json.createArrayBuilder();
<span class="line-numbers">47</span>
<span class="line-numbers">48</span>        links.add(Json.createObjectBuilder()
<span class="line-numbers">49</span>                      .add(<span class="string"><span class="delimiter">"</span><span class="content">href</span><span class="delimiter">"</span></span>, StringUtils.appendIfMissing(invUri, <span class="string"><span class="delimiter">"</span><span class="content">/</span><span class="delimiter">"</span></span>) + hostname)
<span class="line-numbers">50</span>                      <span class="comment">// tag::self[]</span>
<span class="line-numbers">51</span>                      .add(<span class="string"><span class="delimiter">"</span><span class="content">rel</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">self</span><span class="delimiter">"</span></span>));
<span class="line-numbers">52</span>                      <span class="comment">// end::self[]</span>
<span class="line-numbers">53</span>
<span class="line-numbers">54</span>        <span class="keyword">if</span> (!hostname.equals(<span class="string"><span class="delimiter">"</span><span class="content">*</span><span class="delimiter">"</span></span>)) {
<span class="line-numbers">55</span>            links.add(Json.createObjectBuilder()
<span class="line-numbers">56</span>                 .add(<span class="string"><span class="delimiter">"</span><span class="content">href</span><span class="delimiter">"</span></span>, InventoryUtil.buildUri(hostname).toString())
<span class="line-numbers">57</span>                 <span class="comment">// tag::properties[]</span>
<span class="line-numbers">58</span>                 .add(<span class="string"><span class="delimiter">"</span><span class="content">rel</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">properties</span><span class="delimiter">"</span></span>));
<span class="line-numbers">59</span>                 <span class="comment">// end::properties[]</span>
<span class="line-numbers">60</span>        }
<span class="line-numbers">61</span>
<span class="line-numbers">62</span>        <span class="keyword">return</span> links.build();
<span class="line-numbers">63</span>    }
<span class="line-numbers">64</span>    <span class="comment">// end::buildLinksForHost[]</span>
<span class="line-numbers">65</span>
<span class="line-numbers">66</span>    <span class="directive">public</span> <span class="directive">static</span> <span class="type">boolean</span> responseOk(<span class="predefined-type">String</span> hostname) {
<span class="line-numbers">67</span>        <span class="keyword">try</span> {
<span class="line-numbers">68</span>            <span class="predefined-type">URL</span> target = <span class="keyword">new</span> <span class="predefined-type">URL</span>(buildUri(hostname).toString());
<span class="line-numbers">69</span>            <span class="predefined-type">HttpURLConnection</span> http = (<span class="predefined-type">HttpURLConnection</span>) target.openConnection();
<span class="line-numbers">70</span>            http.setConnectTimeout(<span class="integer">50</span>);
<span class="line-numbers">71</span>            <span class="type">int</span> response = http.getResponseCode();
<span class="line-numbers">72</span>            <span class="keyword">return</span> (response != <span class="integer">200</span>) ? <span class="predefined-constant">false</span> : <span class="predefined-constant">true</span>;
<span class="line-numbers">73</span>        } <span class="keyword">catch</span> (<span class="exception">Exception</span> e) {
<span class="line-numbers">74</span>            <span class="keyword">return</span> <span class="predefined-constant">false</span>;
<span class="line-numbers">75</span>        }
<span class="line-numbers">76</span>    }
<span class="line-numbers">77</span>
<span class="line-numbers">78</span>    <span class="directive">private</span> <span class="directive">static</span> <span class="predefined-type">URI</span> buildUri(<span class="predefined-type">String</span> hostname) {
<span class="line-numbers">79</span>        <span class="keyword">return</span> UriBuilder.fromUri(SYSTEM_PROPERTIES)
<span class="line-numbers">80</span>                .host(hostname)
<span class="line-numbers">81</span>                .port(PORT)
<span class="line-numbers">82</span>                .scheme(PROTOCOL)
<span class="line-numbers">83</span>                .build();
<span class="line-numbers">84</span>    }
<span class="line-numbers">85</span>
<span class="line-numbers">86</span>}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Consider what happens when one of the return links does not work or when a link should be available for one object but not for another. In other words, it is important that a resource or service is available and running before it is added in the HATEOAS links array of the hostname.</p>
</div>
<div class="paragraph">
<p>Although this guide does not cover this case, always make sure that you receive a good response code from a service before you link that service. Similarly, make sure that it makes sense for a particular object to access a resource it is linked to. For instance, it doesn’t make sense for an account holder to be able to withdraw money from their account when their balance is 0. Hence, the account holder should not be linked to a resource that provides money withdrawal.</p>
</div>
</div>
</div>
</div>
<div class="sect1 command">
<h2 id="running-the-application">Running the application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You started the Open Liberty in dev mode at the beginning of the guide, so all the changes were automatically picked up.</p>
</div>
<div class="paragraph">
<p>After the Liberty instance updates, you can find your new hypermedia-driven <code>inventory</code> service at the following URL:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://localhost:9080/inventory/hosts" target="_blank" rel="noopener noreferrer" class="notranslate">http://localhost:9080/inventory/hosts</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing-the-hypermedia-driven-restful-web-service">Testing the hypermedia-driven RESTful web service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>At the following URLs, access the <code>inventory</code> service that is now driven by hypermedia:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://localhost:9080/inventory/hosts" target="_blank" rel="noopener noreferrer" class="notranslate">http://localhost:9080/inventory/hosts</a></p>
</li>
<li>
<p><a href="http://localhost:9080/inventory/hosts/localhost" target="_blank" rel="noopener noreferrer" class="notranslate">http://localhost:9080/inventory/hosts/localhost</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the Liberty instances are running, you can point your browser to each of the previous URLs to test the application manually.
Nevertheless, you should rely on automated tests because they are more reliable and trigger a failure if a change introduces a defect.</p>
</div>
<div class="sect2">
<h3 id="setting-up-your-tests">Setting up your tests</h3>
<div class="listingblock code_command hotspot">
<div class="content">
<pre><mark>Create the <code>EndpointIT</code> class.</mark>
<code>src/test/java/it/io/openliberty/guides/hateoas/EndpointIT.java</code></pre>
</div>
</div>
<div class="paragraph">
<p>EndpointIT.java</p>
</div>
<div class="listingblock code_column hide_tags=comment,copyright">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="line-numbers">  1</span><span class="comment">// tag::copyright[]</span>
<span class="line-numbers">  2</span><span class="comment">/*******************************************************************************</span>
<span class="line-numbers">  3</span><span class="comment"> * Copyright (c) 2017, 2022 IBM Corporation and others.</span>
<span class="line-numbers">  4</span><span class="comment"> * All rights reserved. This program and the accompanying materials</span>
<span class="line-numbers">  5</span><span class="comment"> * are made available under the terms of the Eclipse Public License 2.0</span>
<span class="line-numbers">  6</span><span class="comment"> * which accompanies this distribution, and is available at</span>
<span class="line-numbers">  7</span><span class="comment"> * http://www.eclipse.org/legal/epl-2.0/</span>
<span class="line-numbers">  8</span><span class="comment"> *</span>
<span class="line-numbers">  9</span><span class="comment"> * SPDX-License-Identifier: EPL-2.0</span>
<span class="line-numbers"> 10</span><span class="comment"> *******************************************************************************/</span>
<span class="line-numbers"> 11</span><span class="comment">// end::copyright[]</span>
<span class="line-numbers"> 12</span><span class="keyword">package</span> <span class="namespace">it.io.openliberty.guides.hateoas</span>;
<span class="line-numbers"> 13</span>
<span class="line-numbers"> 14</span><span class="keyword">import</span> <span class="include">jakarta.json.JsonArray</span>;
<span class="line-numbers"> 15</span><span class="keyword">import</span> <span class="include">jakarta.json.JsonObject</span>;
<span class="line-numbers"> 16</span><span class="keyword">import</span> <span class="include">jakarta.json.JsonValue</span>;
<span class="line-numbers"> 17</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.client.Client</span>;
<span class="line-numbers"> 18</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.client.ClientBuilder</span>;
<span class="line-numbers"> 19</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.core.Response</span>;
<span class="line-numbers"> 20</span>
<span class="line-numbers"> 21</span><span class="keyword">import</span> <span class="include">org.junit.jupiter.api.BeforeEach</span>;
<span class="line-numbers"> 22</span><span class="keyword">import</span> <span class="include">org.junit.jupiter.api.AfterEach</span>;
<span class="line-numbers"> 23</span><span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;
<span class="line-numbers"> 24</span><span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Order</span>;
<span class="line-numbers"> 25</span><span class="keyword">import</span> <span class="include">org.junit.jupiter.api.TestMethodOrder</span>;
<span class="line-numbers"> 26</span><span class="keyword">import</span> <span class="include">org.junit.jupiter.api.MethodOrderer.OrderAnnotation</span>;
<span class="line-numbers"> 27</span>
<span class="line-numbers"> 28</span><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertEquals</span>;
<span class="line-numbers"> 29</span><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertTrue</span>;
<span class="line-numbers"> 30</span>
<span class="line-numbers"> 31</span><span class="comment">// tag::class[]</span>
<span class="line-numbers"> 32</span><span class="annotation">@TestMethodOrder</span>(OrderAnnotation.class)
<span class="line-numbers"> 33</span><span class="directive">public</span> <span class="type">class</span> <span class="class">EndpointIT</span> {
<span class="line-numbers"> 34</span>    <span class="comment">// tag::class-contents[]</span>
<span class="line-numbers"> 35</span>    <span class="comment">// tag::setup[]</span>
<span class="line-numbers"> 36</span>    <span class="directive">private</span> <span class="predefined-type">String</span> port;
<span class="line-numbers"> 37</span>    <span class="directive">private</span> <span class="predefined-type">String</span> baseUrl;
<span class="line-numbers"> 38</span>
<span class="line-numbers"> 39</span>    <span class="directive">private</span> Client client;
<span class="line-numbers"> 40</span>
<span class="line-numbers"> 41</span>    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span> SYSTEM_PROPERTIES = <span class="string"><span class="delimiter">"</span><span class="content">system/properties</span><span class="delimiter">"</span></span>;
<span class="line-numbers"> 42</span>    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span> INVENTORY_HOSTS = <span class="string"><span class="delimiter">"</span><span class="content">inventory/hosts</span><span class="delimiter">"</span></span>;
<span class="line-numbers"> 43</span>
<span class="line-numbers"> 44</span>    <span class="comment">// tag::Before[]</span>
<span class="line-numbers"> 45</span>    <span class="annotation">@BeforeEach</span>
<span class="line-numbers"> 46</span>    <span class="comment">// end::Before[]</span>
<span class="line-numbers"> 47</span>    <span class="directive">public</span> <span class="type">void</span> setup() {
<span class="line-numbers"> 48</span>        <span class="comment">// tag::urlCreation[]</span>
<span class="line-numbers"> 49</span>        port = <span class="predefined-type">System</span>.getProperty(<span class="string"><span class="delimiter">"</span><span class="content">http.port</span><span class="delimiter">"</span></span>);
<span class="line-numbers"> 50</span>        baseUrl = <span class="string"><span class="delimiter">"</span><span class="content">http://localhost:</span><span class="delimiter">"</span></span> + port + <span class="string"><span class="delimiter">"</span><span class="content">/</span><span class="delimiter">"</span></span>;
<span class="line-numbers"> 51</span>        <span class="comment">// end::urlCreation[]</span>
<span class="line-numbers"> 52</span>
<span class="line-numbers"> 53</span>        <span class="comment">// tag::clientInit[]</span>
<span class="line-numbers"> 54</span>        client = ClientBuilder.newClient();
<span class="line-numbers"> 55</span>        <span class="comment">// end::clientInit[]</span>
<span class="line-numbers"> 56</span>    }
<span class="line-numbers"> 57</span>
<span class="line-numbers"> 58</span>    <span class="comment">// tag::After[]</span>
<span class="line-numbers"> 59</span>    <span class="annotation">@AfterEach</span>
<span class="line-numbers"> 60</span>    <span class="comment">// end::After[]</span>
<span class="line-numbers"> 61</span>    <span class="directive">public</span> <span class="type">void</span> teardown() {
<span class="line-numbers"> 62</span>        client.close();
<span class="line-numbers"> 63</span>    }
<span class="line-numbers"> 64</span>    <span class="comment">// end::setup[]</span>
<span class="line-numbers"> 65</span>
<span class="line-numbers"> 66</span>    <span class="comment">/**</span>
<span class="line-numbers"> 67</span><span class="comment">     * Checks if the HATEOAS link for the inventory contents (hostname=*)</span>
<span class="line-numbers"> 68</span><span class="comment">     * is as expected.</span>
<span class="line-numbers"> 69</span><span class="comment">     */</span>
<span class="line-numbers"> 70</span>    <span class="comment">// tag::Test1[]</span>
<span class="line-numbers"> 71</span>    <span class="annotation">@Test</span>
<span class="line-numbers"> 72</span>    <span class="comment">// end::Test1[]</span>
<span class="line-numbers"> 73</span>    <span class="comment">// tag::Order1[]</span>
<span class="line-numbers"> 74</span>    <span class="annotation">@Order</span>(<span class="integer">1</span>)
<span class="line-numbers"> 75</span>    <span class="comment">// end::Order1[]</span>
<span class="line-numbers"> 76</span>    <span class="comment">// tag::testLinkForInventoryContents[]</span>
<span class="line-numbers"> 77</span>    <span class="directive">public</span> <span class="type">void</span> testLinkForInventoryContents() {
<span class="line-numbers"> 78</span>        Response response = <span class="local-variable">this</span>.getResponse(baseUrl + INVENTORY_HOSTS);
<span class="line-numbers"> 79</span>        assertEquals(<span class="integer">200</span>, response.getStatus(),
<span class="line-numbers"> 80</span>                    <span class="string"><span class="delimiter">"</span><span class="content">Incorrect response code from </span><span class="delimiter">"</span></span> + baseUrl);
<span class="line-numbers"> 81</span>
<span class="line-numbers"> 82</span>        <span class="comment">// tag::jsonobj[]</span>
<span class="line-numbers"> 83</span>        JsonObject systems = response.readEntity(JsonObject.class);
<span class="line-numbers"> 84</span>        <span class="comment">// end::jsonobj[]</span>
<span class="line-numbers"> 85</span>
<span class="line-numbers"> 86</span>        <span class="comment">// tag::assertAndClose[]</span>
<span class="line-numbers"> 87</span>        <span class="predefined-type">String</span> expected;
<span class="line-numbers"> 88</span>        <span class="predefined-type">String</span> actual;
<span class="line-numbers"> 89</span>        <span class="type">boolean</span> isFound = <span class="predefined-constant">false</span>;
<span class="line-numbers"> 90</span>
<span class="line-numbers"> 91</span>
<span class="line-numbers"> 92</span>        <span class="keyword">if</span> (!systems.isNull(<span class="string"><span class="delimiter">"</span><span class="content">*</span><span class="delimiter">"</span></span>)) {
<span class="line-numbers"> 93</span>            <span class="comment">// mark that the correct host info was found</span>
<span class="line-numbers"> 94</span>            isFound = <span class="predefined-constant">true</span>;
<span class="line-numbers"> 95</span>            JsonArray links = systems.getJsonArray(<span class="string"><span class="delimiter">"</span><span class="content">*</span><span class="delimiter">"</span></span>);
<span class="line-numbers"> 96</span>
<span class="line-numbers"> 97</span>            expected = baseUrl + INVENTORY_HOSTS + <span class="string"><span class="delimiter">"</span><span class="content">/*</span><span class="delimiter">"</span></span>;
<span class="line-numbers"> 98</span>            actual = links.getJsonObject(<span class="integer">0</span>).getString(<span class="string"><span class="delimiter">"</span><span class="content">href</span><span class="delimiter">"</span></span>);
<span class="line-numbers"> 99</span>            assertEquals(expected, actual, <span class="string"><span class="delimiter">"</span><span class="content">Incorrect href</span><span class="delimiter">"</span></span>);
<span class="line-numbers">100</span>
<span class="line-numbers">101</span>            <span class="comment">// asserting that rel was correct</span>
<span class="line-numbers">102</span>            expected = <span class="string"><span class="delimiter">"</span><span class="content">self</span><span class="delimiter">"</span></span>;
<span class="line-numbers">103</span>            actual = links.getJsonObject(<span class="integer">0</span>).getString(<span class="string"><span class="delimiter">"</span><span class="content">rel</span><span class="delimiter">"</span></span>);
<span class="line-numbers">104</span>            assertEquals(expected, actual, <span class="string"><span class="delimiter">"</span><span class="content">Incorrect rel</span><span class="delimiter">"</span></span>);
<span class="line-numbers">105</span>        }
<span class="line-numbers">106</span>
<span class="line-numbers">107</span>
<span class="line-numbers">108</span>        <span class="comment">// If the hostname '*' was not even found, need to fail the testcase</span>
<span class="line-numbers">109</span>        assertTrue(isFound, <span class="string"><span class="delimiter">"</span><span class="content">Could not find system with hostname *</span><span class="delimiter">"</span></span>);
<span class="line-numbers">110</span>
<span class="line-numbers">111</span>        response.close();
<span class="line-numbers">112</span>        <span class="comment">// end::assertAndClose[]</span>
<span class="line-numbers">113</span>    }
<span class="line-numbers">114</span>    <span class="comment">// end::testLinkForInventoryContents[]</span>
<span class="line-numbers">115</span>
<span class="line-numbers">116</span>    <span class="comment">/**</span>
<span class="line-numbers">117</span><span class="comment">     * Checks that the HATEOAS links, with relationships 'self' and 'properties' for</span>
<span class="line-numbers">118</span><span class="comment">     * a simple localhost system is as expected.</span>
<span class="line-numbers">119</span><span class="comment">     */</span>
<span class="line-numbers">120</span>    <span class="comment">// tag::Test2[]</span>
<span class="line-numbers">121</span>    <span class="annotation">@Test</span>
<span class="line-numbers">122</span>    <span class="comment">// end::Test2[]</span>
<span class="line-numbers">123</span>    <span class="comment">// tag::Order2[]</span>
<span class="line-numbers">124</span>    <span class="annotation">@Order</span>(<span class="integer">2</span>)
<span class="line-numbers">125</span>    <span class="comment">// end::Order2[]</span>
<span class="line-numbers">126</span>    <span class="comment">// tag::testLinksForSystem[]</span>
<span class="line-numbers">127</span>    <span class="directive">public</span> <span class="type">void</span> testLinksForSystem() {
<span class="line-numbers">128</span>        <span class="local-variable">this</span>.visitLocalhost();
<span class="line-numbers">129</span>
<span class="line-numbers">130</span>        Response response = <span class="local-variable">this</span>.getResponse(baseUrl + INVENTORY_HOSTS);
<span class="line-numbers">131</span>        assertEquals(<span class="integer">200</span>, response.getStatus(),
<span class="line-numbers">132</span>                     <span class="string"><span class="delimiter">"</span><span class="content">Incorrect response code from </span><span class="delimiter">"</span></span> + baseUrl);
<span class="line-numbers">133</span>
<span class="line-numbers">134</span>        JsonObject systems = response.readEntity(JsonObject.class);
<span class="line-numbers">135</span>
<span class="line-numbers">136</span>        <span class="predefined-type">String</span> expected;
<span class="line-numbers">137</span>        <span class="predefined-type">String</span> actual;
<span class="line-numbers">138</span>        <span class="type">boolean</span> isHostnameFound = <span class="predefined-constant">false</span>;
<span class="line-numbers">139</span>
<span class="line-numbers">140</span>
<span class="line-numbers">141</span>        <span class="comment">// Try to find the JSON object for hostname localhost</span>
<span class="line-numbers">142</span>        <span class="keyword">if</span> (!systems.isNull(<span class="string"><span class="delimiter">"</span><span class="content">localhost</span><span class="delimiter">"</span></span>)) {
<span class="line-numbers">143</span>            isHostnameFound = <span class="predefined-constant">true</span>;
<span class="line-numbers">144</span>            JsonArray links = systems.getJsonArray(<span class="string"><span class="delimiter">"</span><span class="content">localhost</span><span class="delimiter">"</span></span>);
<span class="line-numbers">145</span>
<span class="line-numbers">146</span>            <span class="comment">// testing the 'self' link</span>
<span class="line-numbers">147</span>            expected = baseUrl + INVENTORY_HOSTS + <span class="string"><span class="delimiter">"</span><span class="content">/localhost</span><span class="delimiter">"</span></span>;
<span class="line-numbers">148</span>            actual = links.getJsonObject(<span class="integer">0</span>).getString(<span class="string"><span class="delimiter">"</span><span class="content">href</span><span class="delimiter">"</span></span>);
<span class="line-numbers">149</span>            assertEquals(expected, actual, <span class="string"><span class="delimiter">"</span><span class="content">Incorrect href</span><span class="delimiter">"</span></span>);
<span class="line-numbers">150</span>
<span class="line-numbers">151</span>            expected = <span class="string"><span class="delimiter">"</span><span class="content">self</span><span class="delimiter">"</span></span>;
<span class="line-numbers">152</span>            actual = links.getJsonObject(<span class="integer">0</span>).getString(<span class="string"><span class="delimiter">"</span><span class="content">rel</span><span class="delimiter">"</span></span>);
<span class="line-numbers">153</span>            assertEquals(expected, actual, <span class="string"><span class="delimiter">"</span><span class="content">Incorrect rel</span><span class="delimiter">"</span></span>);
<span class="line-numbers">154</span>
<span class="line-numbers">155</span>            <span class="comment">// testing the 'properties' link</span>
<span class="line-numbers">156</span>            expected = baseUrl + SYSTEM_PROPERTIES;
<span class="line-numbers">157</span>            actual = links.getJsonObject(<span class="integer">1</span>).getString(<span class="string"><span class="delimiter">"</span><span class="content">href</span><span class="delimiter">"</span></span>);
<span class="line-numbers">158</span>            assertEquals(expected, actual, <span class="string"><span class="delimiter">"</span><span class="content">Incorrect href</span><span class="delimiter">"</span></span>);
<span class="line-numbers">159</span>
<span class="line-numbers">160</span>            expected = <span class="string"><span class="delimiter">"</span><span class="content">properties</span><span class="delimiter">"</span></span>;
<span class="line-numbers">161</span>            actual = links.getJsonObject(<span class="integer">1</span>).getString(<span class="string"><span class="delimiter">"</span><span class="content">rel</span><span class="delimiter">"</span></span>);
<span class="line-numbers">162</span>
<span class="line-numbers">163</span>            assertEquals(expected, actual, <span class="string"><span class="delimiter">"</span><span class="content">Incorrect rel</span><span class="delimiter">"</span></span>);
<span class="line-numbers">164</span>        }
<span class="line-numbers">165</span>
<span class="line-numbers">166</span>
<span class="line-numbers">167</span>        <span class="comment">// If the hostname 'localhost' was not even found, need to fail the testcase</span>
<span class="line-numbers">168</span>        assertTrue(isHostnameFound, <span class="string"><span class="delimiter">"</span><span class="content">Could not find system with hostname *</span><span class="delimiter">"</span></span>);
<span class="line-numbers">169</span>        response.close();
<span class="line-numbers">170</span>
<span class="line-numbers">171</span>    }
<span class="line-numbers">172</span>    <span class="comment">// end::testLinksForSystem[]</span>
<span class="line-numbers">173</span>
<span class="line-numbers">174</span>    <span class="comment">/**</span>
<span class="line-numbers">175</span><span class="comment">     * Returns a Response object for the specified URL.</span>
<span class="line-numbers">176</span><span class="comment">     */</span>
<span class="line-numbers">177</span>    <span class="directive">private</span> Response getResponse(<span class="predefined-type">String</span> url) {
<span class="line-numbers">178</span>        <span class="keyword">return</span> client.target(url).request().get();
<span class="line-numbers">179</span>    }
<span class="line-numbers">180</span>
<span class="line-numbers">181</span>    <span class="comment">/**</span>
<span class="line-numbers">182</span><span class="comment">     * Makes a GET request to localhost at the Inventory service.</span>
<span class="line-numbers">183</span><span class="comment">     */</span>
<span class="line-numbers">184</span>    <span class="directive">private</span> <span class="type">void</span> visitLocalhost() {
<span class="line-numbers">185</span>        Response response = <span class="local-variable">this</span>.getResponse(baseUrl + SYSTEM_PROPERTIES);
<span class="line-numbers">186</span>        assertEquals(<span class="integer">200</span>, response.getStatus(),
<span class="line-numbers">187</span>                     <span class="string"><span class="delimiter">"</span><span class="content">Incorrect response code from </span><span class="delimiter">"</span></span> + baseUrl);
<span class="line-numbers">188</span>        response.close();
<span class="line-numbers">189</span>        <span class="comment">// tag::targetResponse[]</span>
<span class="line-numbers">190</span>        Response targetResponse =
<span class="line-numbers">191</span>        client.target(baseUrl + INVENTORY_HOSTS + <span class="string"><span class="delimiter">"</span><span class="content">/localhost</span><span class="delimiter">"</span></span>)
<span class="line-numbers">192</span>                                        .request()
<span class="line-numbers">193</span>                                        .get();
<span class="line-numbers">194</span>        <span class="comment">// end::targetResponse[]</span>
<span class="line-numbers">195</span>        targetResponse.close();
<span class="line-numbers">196</span>    }
<span class="line-numbers">197</span>    <span class="comment">// end::class-contents[]</span>
<span class="line-numbers">198</span>}
<span class="line-numbers">199</span><span class="comment">// end::class[]</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code class="hotspot=Before">@BeforeEach</code> and <code class="hotspot=After">@AfterEach</code> annotations are placed on setup and teardown tasks that are run for each individual test.</p>
</div>
</div>
<div class="sect2">
<h3 id="writing-the-tests">Writing the tests</h3>
<div class="paragraph">
<p>Each test method must be marked with the <code class="hotspot=Test1 hotspot=Test2">@Test</code> annotation. The execution order of test methods is controlled by marking them with the <code class="hotspot=Order1 hotspot=Order2">@Order</code> annotation. The value that is passed into the annotation denotes the order in which the methods are run.</p>
</div>
<div class="paragraph">
<p>The <code class="hotspot=testLinkForInventoryContents">testLinkForInventoryContents</code> test is responsible for asserting that the correct HATEOAS link is created for the inventory contents.</p>
</div>
<div class="paragraph">
<p>Finally, the <code class="hotspot=testLinksForSystem">testLinksForSystem</code> test is responsible for asserting that the correct HATEOAS links are created for the <code>localhost</code> system. This method checks for both the <code>self</code> link that points to the <code>inventory</code> service and the <code>properties</code> link that points to the <code>system</code> service, which is running on the <code>localhost</code> system.</p>
</div>
</div>
<div class="sect2 command">
<h3 id="running-the-tests">Running the tests</h3>
<div class="paragraph">
<p>Because you started Open Liberty in dev mode, you can run the tests by pressing the <code>enter/return</code> key from the command-line session where you started dev mode.
You will see the following output:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre class="CodeRay highlight"><code>-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running it.io.openliberty.guides.hateoas.EndpointIT
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.951 s - in it.io.openliberty.guides.hateoas.EndpointIT

Results:

Tests run: 2, Failures: 0, Errors: 0, Skipped: 0

Integration tests finished.</code></pre>
</div>
</div>
<div class="paragraph command">
<p>When you are done checking out the service, exit dev mode by pressing <code>CTRL+C</code> in the command-line session where you ran Liberty, or by typing <code>q</code> and then pressing the <code>enter/return</code> key.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="great-work-youre-done">Great work! You’re done!</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You’ve just built and tested a hypermedia-driven RESTful web service on top of Open Liberty.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="guide-attribution">Guide Attribution</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Creating a hypermedia-driven RESTful web service <span class="licensedClass">by</span> Open Liberty <span class="licensedClass">is licensed under</span> CC BY-ND 4.0</p>
</div>
</div>
</div>
    </div>
  </div>

  <!-- Code section -->
  <div id="code_column" class="position_relative" tabindex="0">
    <div id="code_column_title_container">
      <div id="code_column_tabs_container" class="dimmed">
        <ul id="code_column_tabs" class="nav" role="tablist"></ul>
      </div>
      <div class="copyFileButton" tabindex="0">
        <img src="/img/guides_copy_button.svg" alt="Copy file contents" title="Copy file contents">
        <div id="code_section_copied_confirmation">Copied to clipboard </div>
      </div>
    </div>
    <div id="code_column_content"></div>

    <div id="prereqs_container">
      <p id="prereqs_title">Prerequisites:</p>
      <div class="prereqs_list"></div>
      <div class="skills_network_container">
        <div class="skills_network_description"></div>
      </div>
    </div>

    <button id="dismiss_button" aria-label="Back to text" tabindex="0">
      Back to text
    </button>
  </div>
</div>

<!-- Build a list of all the documents in the guides code base -->






<!-- Remove any documents deemed private (archived, templates, etc) -->


<!-- Count number of guides from past 30 days-->


    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    


<!-- Sort list of guides by date with most recent first -->





<div id="end_of_guide">
        <h2 tabindex="0">Nice work! Where to next?</h2>
        <div id="end_of_guide_left_section">
            <p id="guide_attribution"></p>
            
            <h3 id="feedback_rating_question">What did you think of this guide?</h3>
            <div id="feedback_ratings">
                <img class="guide_rating" id="extreme_dislike" src="/img/1_Extreme_Dislike.png" onclick="$('#dislike_popup').show(); $('.popup_content').focus();" alt="Extreme Dislike" data-guide-rating="1" tabindex="0" aria-label="Rate this guide as extreme dislike">
                <img class="guide_rating" id="dislike" src="/img/2_Dislike.png" onclick="$('#dislike_popup').show(); $('.popup_content').focus();" alt="Dislike" data-guide-rating="2" tabindex="0" aria-label="Rate this guide as dislike">
                <img class="guide_rating" id="like" src="/img/3_Like.png" onclick="$('#like_popup').show(); $('.popup_content').focus();" alt="Like" data-guide-rating="3" tabindex="0" aria-label="Rate this guide as like">
                <img class="guide_rating" id="extreme_like" src="/img/4_Extreme_Like.png" onclick="$('#like_popup').show(); $('.popup_content').focus();" alt="Extreme Like" data-guide-rating="4" tabindex="0" aria-label="Rate this guide as extreme like">
            </div>

            <div id="like_popup" class="popup">
                <div class="popup_content" tabindex="0">
                    <p class="popup_title">Thank you for your feedback!</p>
                    <button id="close_button" class="popup_button" onclick="$('#like_popup').hide();">Close</button>
                </div>
            </div>

            <div id="dislike_popup" class="popup">
                <div class="popup_content" tabindex="0">
                    <p class="popup_title">Thank you for your feedback!</p>
                    <p id="open_issue">Would you like to open an issue in GitHub?</p>
                    
                        <a href="https://github.com/OpenLiberty/guide-rest-hateoas/issues/new" target="_blank" id="yes_button" class="popup_button" onclick="$('#dislike_popup').hide();" rel="noopener noreferrer">Yes</a>
                    
                    <button id="no_button" class="popup_button" onclick="$('#dislike_popup').hide();">No, thank you</button>
                </div>
            </div>

            <h3 id="improve_guide_feedback">What could make this guide better?</h3>
            
                <p><a target="_blank" rel="noopener noreferrer" href="https://github.com/OpenLiberty/guide-rest-hateoas/issues">Raise an issue</a> to share feedback</p>
                <p><a target="_blank" rel="noopener noreferrer" href="https://github.com/OpenLiberty/guide-rest-hateoas/pulls">Create a pull request</a> to contribute to this guide</p>
            

            <h3 id="need_help">Need help?</h3>
            <p><a target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/questions/tagged/open-liberty">Ask a question on Stack Overflow</a></p>

            <h3>Like Open Liberty? Star our repo on GitHub.</h3>
            <a class="github-button" href="https://github.com/OpenLiberty/open-liberty" data-icon="octicon-star" aria-label="Star OpenLiberty/open-liberty on GitHub" target="_blank" rel="noopener noreferrer">Star</a>
        </div>
        <div id="end_of_guide_right_section">
            <h3 id="where_to_next">Where to next?</h3>

            
            

            <!-- Related guides section -->
            
            <div id="related-guides">
                <div id="related-guides-cards" class="row">
                
                    
                    
                    
                        <!-- Only create a card if we find the permalink -->
                        
                        <div class="col-sm-12 col-lg-6">
                            <a href="/zh-Hans/guides/rest-intro.html" class="small_guide_item">
                                <div class="guide_title_container">
                                    <h3 class="guide_title">Creating a RESTful web service</h3>
                                </div>
                                <img class="duration_clock_icon" src="/img/guide_duration_clock_icon_small.svg" alt="Duration">
                                <span class="guide_duration">30 minutes</span>

                                <!-- Add New flag to guides from the past 30 days or 4 most recent posts. -->
                                <!-- If new posts count is less than 4, use 4 most recent posts -->
                                
                                    
                                <!-- If new posts count is >= 4, use posts from last 30 days-->
                                
                                <!-- Add Updated flag to guides if the last major update is within last 12 weeks. -->
                                <!-- Count number of guides from past last 12 weeks that is 84 days-->
                                <!-- 7257600 is 84 days in seconds (84 days * 24 hours * 60 minutes * 60 seconds) -->
                                
                                
                            </a>
                        </div>
                    
                
                    
                    
                    
                
                </div>
            </div>
            
        </div>
    </div>



    </main>

    



<footer>
    <div id="footer_gray_background">
        <div id="footer_top_container" class="footer_container container-fluid">
            <div id="footer_project_container">
                <span id="footer_open_liberty"></span>
                <p id="footer_project">IBM 开放式源代码项目</p>
            </div>
            <div id="footer_round_links_container">
                <a id="footer_github_link" class="footer_round_btn" href="https://github.com/OpenLiberty/" target="_blank" rel="noopener noreferrer" aria-label="Github"></a>
                <a id="footer_twitter_link" class="footer_round_btn" href="https://twitter.com/OpenLibertyIO" target="_blank" rel="noopener noreferrer" aria-label="Twitter"></a>
                <a id="footer_stackoverflow_link" class="footer_round_btn" href="https://stackoverflow.com/questions/tagged/open-liberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty questions on Stack Overflow"></a>
                <a id="footer_groupsio_link" class="footer_round_btn" href="https://groups.io/g/openliberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty Groups.io"></a>
                <a id="footer_gitter_link" class="footer_round_btn" href="https://app.gitter.im/#/room/#OpenLiberty_development:gitter.im" target="_blank" rel="noopener" aria-label="Open Liberty Gitter"></a>
            </div>
        </div>         
    </div>

    <div id="footer_bottom_container" class="footer_container container-fluid">
        <div id="footer_bottom_left_section">
            <p id="footer_copyright">© Copyright IBM Corp. 2017, 2023</p>
            <p class="vertical_bar">|</p>
            <a id="footer_privacy_policy_link" href="https://www.ibm.com/privacy/" target="_blank" rel="noopener noreferrer" class="left_footer_link">隐私策略</a>
            <p class="vertical_bar">|</p>
            <a id="footer_license_link" href="https://github.com/OpenLiberty/open-liberty/blob/release/LICENSE" target="_blank" rel="noopener noreferrer" class="left_footer_link">许可证</a>
            <p class="vertical_bar">|</p>
            <a id="footer_logos_link" href="https://github.com/OpenLiberty/logos" target="_blank" rel="noopener noreferrer" class="left_footer_link">洛戈斯</a>
        </div>
        <div id="footer_bottom_right_section">
            <a id="footer_docs_link" href="/docs" aria-label="Open Liberty Docs" class="right_footer_link blue_link_light_background">文档</a>
            <a id="footer_blog_link" href="/blog" aria-label="Open Liberty Blog" class="right_footer_link blue_link_light_background">博客</a>
            <a id="footer_support_link" href="/support" aria-label="Open Liberty Support" class="right_footer_link blue_link_light_background">支持</a>
        </div>
    </div>
</footer>

<!-- PRE-LOADED IMAGES FOR ON HOVER BEHAVIOR -->
<div class="d-none hidden">
    <img src="/img/Footer_GitCat_Hover.svg" alt="OpenLiberty Github link">
    <img src="/img/Footer_TwitterBird_Hover.svg" alt="OpenLibertyIO Twitter link">
    <img src="/img/Footer_StackO_Hover.svg" alt="Open-liberty Stack Overflow link">
    <img src="/img/Footer_GroupsIO_Hover.svg" alt="Openliberty Groups IO link">
    <img src="/img/footer_gitter_hover.svg" alt="Openliberty Gitter link">
</div>

    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js" integrity="sha512-lzilC+JFd6YV8+vQRNRtU7DOqv5Sa9Ek53lXt/k91HZTJpytHS1L6l1mMKR9K6VVoDt4LiEXaa6XBrYk1YhGTQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>


<script type="text/javascript" src="/zh-Hans/assets/devEnvironment.js"></script>




  <script type="text/javascript" src="/zh-Hans/assets/guide-common.js"></script>

  <script type="text/javascript" src="/zh-Hans/assets/toc.js"></script>

  <script type="text/javascript" src="/zh-Hans/assets/tabs.js"></script>

  <script type="text/javascript" src="/zh-Hans/assets/guide-static.js"></script>

  <script type="text/javascript" src="/zh-Hans/assets/guide-multipane-static.js"></script>


<script type="text/javascript" src="/zh-Hans/assets/openliberty.js"></script>

  </body>

</html>
