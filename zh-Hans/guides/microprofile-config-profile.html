<!DOCTYPE html>
<html lang="zh-Hans">

  





<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>
    
      Configuring Java microservices for multiple environments using MicroProfile Config
    
  </title>
  <meta name="description" content="A tutorial and example on how to configure multiple project environments and development stages in DevOps lifecycle for Java microservices using the config profile feature in MicroProfile Config.">

  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
  

  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  
  <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/openliberty.css">
  <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/coderay-custom.css">

  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/header.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/header-dark.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/toc-multipane-static.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/end-of-guide.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/guide-card.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/tabs.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/guide-common.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/guide-multipane.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/guide-multipane-static.css">
  

  

  

  <link rel="canonical" href="https://openliberty.io/zh-Hans/guides/microprofile-config-profile">
  <link rel="alternate" type="application/rss+xml" title="Open Liberty" href="/zh-Hans/feed.xml">
  <link href="https://fonts.googleapis.com/css?family=Asap:400,500" rel="stylesheet">
    
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@OpenLibertyIO" />
  <meta name="twitter:title" content="Configuring Java microservices for multiple environments using MicroProfile Config" />
  <meta name="twitter:description" content="A tutorial and example on how to configure multiple project environments and development stages in DevOps lifecycle for Java microservices using the config profile feature in MicroProfile Config." />

  <meta property='og:title' content="Configuring Java microservices for multiple environments using MicroProfile Config" />
  <meta property='og:image' content="https://openliberty.io/img/twitter_card.jpg" />
  <meta property='og:image:alt' content="Open Liberty Logo" />
  <meta property='og:description' content="A tutorial and example on how to configure multiple project environments and development stages in DevOps lifecycle for Java microservices using the config profile feature in MicroProfile Config." />
  <meta property='og:url' content="https://openliberty.io/zh-Hans/guides/microprofile-config-profile" />
  <meta property='og:type' content="website" />
  
  <meta name="google-site-verification" content="h2P030H9b66CyL1nEmWfrZB8Fr14h9LmVMG7Ur0caBs" />

  
      <meta name="robots" content="noindex" />
  

  <script async defer src="https://buttons.github.io/buttons.js"></script>
</head>


  <body>
    
    

    


<!--  -->

<header>
    <nav id="nav_bar">
        <div id="nav_header">
            <a id="home_link" href="/" aria-label="Open Liberty Home">
                <img id="ol_logo" src="/img/docs_openliberty_logo.png" alt="Open Liberty Logo">
            </a>
            <button id="hamburger_toggle_button" onclick="$('#nav_bar').toggleClass('responsive');">
                <span id="hamburger_toggle_icon"></span>
            </button>
        </div>
        <div id="hamburger_menu">
            <ul class="nav_list">
                <li class="nav_link">
                    <a href="/start/">入门</a>
                </li>
                <li class="nav_link">
                    <a href="/guides/">指南</a>
                </li>
                <li class="nav_link">
                    <a href="/docs/">文档</a>
                </li>
                <li class="nav_link">
                    <a href="/support/">支持</a>
                </li>
                <li class="nav_link">
                    <a href="/blog/">博客</a>
                </li>
            </ul>
            <div id="header_round_links_container"> 
                <a id="header_twitter_link" class="header_round_button" href="https://twitter.com/OpenLibertyIO" target="_blank" rel="noopener noreferrer" aria-label="Twitter"></a>
                <a id="header_stackoverflow_link" class="header_round_button" href="https://stackoverflow.com/questions/tagged/open-liberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty questions on Stack Overflow"></a>
                <a id="header_groupsio_link" class="header_round_button" href="https://groups.io/g/openliberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty Groups.io"></a>
                <a id="header_gitter_link" class="header_round_button" href="https://app.gitter.im/#/room/#OpenLiberty_development:gitter.im" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty Gitter"></a>
            </div>
        </div>

    </nav>
</header>


    <main aria-label="Content">

      <!-- Build a list of all the documents in the guides code base -->
  
 

<!-- Remove any documents deemed private (archived, templates, etc) -->


<!-- Count number of guides from past 30 days-->
<!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
 

<!-- Sort list of guides by date with most recent first -->


<div id="background_container">
  <div id="toc_hotspot"></div>
  <!-- Guide's table of contents section -->
  <div id="toc_column" class="collapse inline open">
    <div id="toc_inner">
       
      <div id="close_container">
        <img id="toc_close_white" src="/img/toc_close_white.svg" alt="Close the table of contents" tabindex="0">
      </div>
      <h3 id="toc_title">Contents</h3>
      <div id="toc_container"><ul class="sectlevel1">
<li><a href="#what-youll-learn">What you’ll learn</a></li>
<li><a href="#getting-started">Getting started</a></li>
<li>
<a href="#starting-from-the-default-configuration">Starting from the default configuration</a>
<ul class="sectlevel2">
<li><a href="#switching-the-system-service-to-the-development-environment">Switching the system service to the development environment</a></li>
</ul>
</li>
<li><a href="#creating-the-configuration-profile-at-the-property-level">Creating the configuration profile at the property level</a></li>
<li><a href="#creating-the-configuration-profile-using-a-configsource-properties-file">Creating the configuration profile using a ConfigSource properties file</a></li>
<li>
<a href="#testing-the-application">Testing the application</a>
<ul class="sectlevel2">
<li><a href="#running-the-tests-in-the-development-environment">Running the tests in the development environment</a></li>
<li><a href="#running-the-tests-in-the-testing-environment">Running the tests in the testing environment</a></li>
</ul>
</li>
<li><a href="#great-work-youre-done">Great work! You’re done!</a></li>
<li><a href="#guide-attribution">Guide Attribution</a></li>
</ul></div>
      <div id="toc_separator"></div>
      
      <h3 id="tag_title">标签</h3>
      <div id="tags_container"></div>
    </div>
  </div>
  <div id="toc_indicator" tabindex="0" aria-label="Open the table of contents" class="hidden">
    <img src="/img/arrow_white.svg" alt="arrow">
  </div>
  <div id="toc_line" class="open"></div>
  <!-- Entire guide section -->
  <div id="guide_column" class="position_relative open">
    <div id="guide_content">
      <!-- Guide header section -->
      <div id="guide_meta" class="sect1" tabindex="0">
        <h1 id="guide_title">Configuring microservices for multiple environments</h1>
        <div id="duration_container">
          <img src="/img/guide_duration_clock_icon_large.svg" alt="duration">
          <span id="guide_duration">20 minutes</span>

          <!-- Add New flag to guides from the past 30 days or 4 most recent posts. -->
          <!-- If new posts count is less than 4, use 4 most recent posts -->
           
          <div class="new_guide_container">
            <span class="guide_new">New</span>
          </div>
          
          <!-- If new posts count is >= 4, use posts from last 30 days-->
          
          <!-- Add Updated flag to guides if the last major update is within last 12 weeks. -->
          <!-- Count number of guides from past last 12 weeks that is 84 days-->
          <!-- 7257600 is 84 days in seconds (84 days * 24 hours * 60 minutes * 60 seconds) -->
          
        </div>
        <div id="mobile_prereqs_section">
          <p id="mobile_prereqs_title">Prerequisites:</p>
          <div class="prereqs_list"></div>
          <div class="skills_network_container">
            <div class="skills_network_description"></div>
          </div>
        </div>
      </div>

      <div class="scroller_anchor"></div>
      <div id="mobile_toc_accordion_container" data-toggle="collapse" data-target="#toc_column" aria-expanded="false" aria-controls="toc_column" role="button">
        <div role="menuitem" id="mobile_toc_accordion">
          <button class="breadcrumb_hamburger toc-toggle collapsed" type="button" tabindex="0">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <img src="/img/toc_close_green.svg" class="TOC_Close_SVG hidden img-responsive" alt="Table of contents close button">
          </button>
          <span>Table of contents</span>
        </div>
      </div>

      <!-- Guide content section -->
      <div id="preamble">
<div class="sectionbody">
<div class="admonitionblock note hidden">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This repository contains the guide documentation source. To view the guide in published form, view it on the <a href="https://openliberty.io/guides/microprofile-config-profile.html">Open Liberty website</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Learn how to configure microservices for multiple environments using MicroProfile Config’s config profile feature, which streamlines the management of configurations across different phases of the DevOps lifecycle.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what-youll-learn">What you’ll learn</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Managing configurations for microservices can be a time-consuming task, especially when configuration properties need to be adjusted for different stages of the DevOps lifecycle. MicroProfile Config’s <a href="https://download.eclipse.org/microprofile/microprofile-config-3.0/microprofile-config-spec-3.0.html#configprofile" target="_blank" rel="noopener noreferrer">config profile</a> feature offers an efficient solution by allowing you to easily manage configurations for your microservices in various environments, from development to production and across your DevOps pipeline. By providing different sets of configuration properties for each environment, you can streamline the process and focus on delivering your application with ease.</p>
</div>
<div class="paragraph">
<p>You’ll learn how to provide different sets of configuration properties for each environment using MicroProfile Config’s config profile feature. You’ll create config profiles at both the property level and the ConfigSource level.</p>
</div>
<div class="paragraph">
<p>This guide builds on the basics of the <a href="https://openliberty.io/guides/microprofile-config-intro.html" target="_blank" rel="noopener">Separating configuration from code in microservices</a> guide and the <a href="https://openliberty.io/guides/microprofile-config.html" target="_blank" rel="noopener">Configuring microservices</a> guide. If you are not familiar with externalizing the configuration of microservices, it will be helpful to read <a href="https://openliberty.io/docs/latest/external-configuration.html" target="_blank" rel="noopener">this document</a> and complete those guides before proceeding.</p>
</div>
<div class="paragraph">
<p>The application that you will work with is a <code>query</code> service, which fetches information about the running JVM from a <code>system</code> microservice. The <code>system</code> microservice is accessed by different ports and credentials in the testing environment compared to the development environment. To address this change, you’ll use MicroProfile Config’s config profile feature to provide the <code>query</code> service with different configurations for accessing the <code>system</code> service in each environment.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="/img/guide/microprofile-config-profile/system-query-devops.png" alt="System and query services DevOps">
</div>
</div>
</div>
</div>
<div class="sect1 command">
<h2 id="getting-started">Getting started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The fastest way to work through this guide is to clone the <a href="https://github.com/openliberty/guide-microprofile-config-profile.git" target="_blank" rel="noopener noreferrer">Git repository</a> and use the projects that are provided inside:</p>
</div>
<div id="git_clone" class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>git clone https://github.com/openliberty/guide-microprofile-config-profile.git
cd guide-microprofile-config-profile</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>start</code> directory contains the starting project that you will build upon.</p>
</div>
<div class="paragraph">
<p>The <code>finish</code> directory contains the finished project that you will build.</p>
</div>
<div class="paragraph">
<p>Before you begin, make sure you have all the necessary <span class="prerequisites">prerequisites</span>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="starting-from-the-default-configuration">Starting from the default configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Deploy the <code>system</code> service in the testing environment and access it with the <code>query</code> service, which is running in <a href="https://openliberty.io/docs/latest/development-mode.html" target="_blank" rel="noopener">dev mode</a>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="/img/guide/microprofile-config-profile/system-query-devops-testing.png" alt="System service running in testing enivronment">
</div>
</div>
<div class="paragraph">
<p>Navigate to the <code>start</code> directory to begin.</p>
</div>
<div class="paragraph">
<p>The starting Java project, which you can find in the <code>start</code> directory, is a multi-module Maven project that’s made up of the <code>system</code> and <code>query</code> microservices. Each microservice resides in its own corresponding directory, <code>system</code> and <code>query</code>.</p>
</div>
<div class="paragraph">
<p>The <code>system</code> microservice contains the three build profiles: <code>testing</code>, <code>development</code> and <code>production</code>. To start the <code>system</code> service in <code>testing</code> environment, run the following commands to navigate to the <code>system</code> directory and deploy the <code>system</code> service to Open Liberty:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>cd system
mvn -P testing liberty:run</code></pre>
</div>
</div>
<div class="paragraph">
<p>system/pom.xml</p>
</div>
<div class="listingblock code_column">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="XML"><span class="line-numbers">  1</span><span class="preprocessor">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="line-numbers">  2</span><span class="tag">&lt;project</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0</span><span class="delimiter">"</span></span> <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">"</span></span> <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers">  3</span>
<span class="line-numbers">  4</span>    <span class="tag">&lt;modelVersion&gt;</span>4.0.0<span class="tag">&lt;/modelVersion&gt;</span>
<span class="line-numbers">  5</span>
<span class="line-numbers">  6</span>    <span class="tag">&lt;groupId&gt;</span>io.openliberty.guides<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">  7</span>
<span class="line-numbers">  8</span>    <span class="tag">&lt;artifactId&gt;</span>guide-microprofile-config-profile-system<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">  9</span>    <span class="tag">&lt;version&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 10</span>    <span class="tag">&lt;packaging&gt;</span>war<span class="tag">&lt;/packaging&gt;</span>
<span class="line-numbers"> 11</span>
<span class="line-numbers"> 12</span>    <span class="tag">&lt;properties&gt;</span>
<span class="line-numbers"> 13</span>        <span class="tag">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.build.sourceEncoding&gt;</span>
<span class="line-numbers"> 14</span>        <span class="tag">&lt;project.reporting.outputEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.reporting.outputEncoding&gt;</span>
<span class="line-numbers"> 15</span>        <span class="tag">&lt;maven.compiler.source&gt;</span>11<span class="tag">&lt;/maven.compiler.source&gt;</span>
<span class="line-numbers"> 16</span>        <span class="tag">&lt;maven.compiler.target&gt;</span>11<span class="tag">&lt;/maven.compiler.target&gt;</span>
<span class="line-numbers"> 17</span>    <span class="tag">&lt;/properties&gt;</span>
<span class="line-numbers"> 18</span>
<span class="line-numbers"> 19</span>    <span class="tag">&lt;dependencies&gt;</span>
<span class="line-numbers"> 20</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 21</span>            <span class="tag">&lt;groupId&gt;</span>jakarta.platform<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 22</span>            <span class="tag">&lt;artifactId&gt;</span>jakarta.jakartaee-api<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 23</span>            <span class="tag">&lt;version&gt;</span>10.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 24</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 25</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 26</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 27</span>            <span class="tag">&lt;groupId&gt;</span>org.eclipse.microprofile<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 28</span>            <span class="tag">&lt;artifactId&gt;</span>microprofile<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 29</span>            <span class="tag">&lt;version&gt;</span>6.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 30</span>            <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
<span class="line-numbers"> 31</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 32</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 33</span>       
<span class="line-numbers"> 34</span>        <span class="comment">&lt;!-- For tests --&gt;</span>
<span class="line-numbers"> 35</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 36</span>            <span class="tag">&lt;groupId&gt;</span>org.junit.jupiter<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 37</span>            <span class="tag">&lt;artifactId&gt;</span>junit-jupiter<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 38</span>            <span class="tag">&lt;version&gt;</span>5.9.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 39</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 40</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 41</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 42</span>            <span class="tag">&lt;groupId&gt;</span>org.jboss.resteasy<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 43</span>            <span class="tag">&lt;artifactId&gt;</span>resteasy-client<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 44</span>            <span class="tag">&lt;version&gt;</span>6.2.3.Final<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 45</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 46</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 47</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 48</span>            <span class="tag">&lt;groupId&gt;</span>org.jboss.resteasy<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 49</span>            <span class="tag">&lt;artifactId&gt;</span>resteasy-json-binding-provider<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 50</span>            <span class="tag">&lt;version&gt;</span>6.2.3.Final<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 51</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 52</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 53</span>    <span class="tag">&lt;/dependencies&gt;</span>
<span class="line-numbers"> 54</span>
<span class="line-numbers"> 55</span>    <span class="tag">&lt;build&gt;</span>
<span class="line-numbers"> 56</span>        <span class="tag">&lt;finalName&gt;</span>${project.artifactId}<span class="tag">&lt;/finalName&gt;</span>
<span class="line-numbers"> 57</span>        <span class="tag">&lt;plugins&gt;</span>
<span class="line-numbers"> 58</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 59</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 60</span>                <span class="tag">&lt;artifactId&gt;</span>maven-war-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 61</span>                <span class="tag">&lt;version&gt;</span>3.3.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 62</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 63</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 64</span>                <span class="tag">&lt;groupId&gt;</span>io.openliberty.tools<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 65</span>                <span class="tag">&lt;artifactId&gt;</span>liberty-maven-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 66</span>                <span class="tag">&lt;version&gt;</span>3.8.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 67</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 68</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 69</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 70</span>                <span class="tag">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 71</span>                <span class="tag">&lt;version&gt;</span>3.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 72</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 73</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 74</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 75</span>                <span class="tag">&lt;artifactId&gt;</span>maven-failsafe-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 76</span>                <span class="tag">&lt;version&gt;</span>3.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 77</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 78</span>        <span class="tag">&lt;/plugins&gt;</span>
<span class="line-numbers"> 79</span>    <span class="tag">&lt;/build&gt;</span>
<span class="line-numbers"> 80</span>
<span class="line-numbers"> 81</span>    <span class="tag">&lt;profiles&gt;</span>
<span class="line-numbers"> 82</span>        <span class="comment">&lt;!-- tag::development[] --&gt;</span>
<span class="line-numbers"> 83</span>        <span class="tag">&lt;profile&gt;</span>
<span class="line-numbers"> 84</span>            <span class="tag">&lt;id&gt;</span>development<span class="tag">&lt;/id&gt;</span>
<span class="line-numbers"> 85</span>            <span class="tag">&lt;activation&gt;</span>
<span class="line-numbers"> 86</span>                <span class="tag">&lt;activeByDefault&gt;</span>true<span class="tag">&lt;/activeByDefault&gt;</span>
<span class="line-numbers"> 87</span>            <span class="tag">&lt;/activation&gt;</span>
<span class="line-numbers"> 88</span>
<span class="line-numbers"> 89</span>            <span class="tag">&lt;properties&gt;</span>
<span class="line-numbers"> 90</span>                <span class="tag">&lt;system.service.root&gt;</span>localhost:9081<span class="tag">&lt;/system.service.root&gt;</span>
<span class="line-numbers"> 91</span>                <span class="comment">&lt;!-- tag::developmentProperties[] --&gt;</span>
<span class="line-numbers"> 92</span>                <span class="comment">&lt;!-- tag::port[] --&gt;</span>
<span class="line-numbers"> 93</span>                <span class="tag">&lt;liberty.var.default.http.port&gt;</span>9081<span class="tag">&lt;/liberty.var.default.http.port&gt;</span>
<span class="line-numbers"> 94</span>                <span class="comment">&lt;!-- end::port[] --&gt;</span>
<span class="line-numbers"> 95</span>                <span class="tag">&lt;liberty.var.default.https.port&gt;</span>9444<span class="tag">&lt;/liberty.var.default.https.port&gt;</span>
<span class="line-numbers"> 96</span>                <span class="comment">&lt;!-- tag::username[] --&gt;</span>
<span class="line-numbers"> 97</span>                <span class="tag">&lt;liberty.var.default.username&gt;</span>alice<span class="tag">&lt;/liberty.var.default.username&gt;</span>
<span class="line-numbers"> 98</span>                <span class="comment">&lt;!-- end::username[] --&gt;</span>
<span class="line-numbers"> 99</span>                <span class="comment">&lt;!-- tag::password[] --&gt;</span>
<span class="line-numbers">100</span>                <span class="tag">&lt;liberty.var.default.password&gt;</span>alicepwd<span class="tag">&lt;/liberty.var.default.password&gt;</span>
<span class="line-numbers">101</span>                <span class="comment">&lt;!-- end::password[] --&gt;</span>
<span class="line-numbers">102</span>                <span class="comment">&lt;!-- tag::context.root[] --&gt;</span>
<span class="line-numbers">103</span>                <span class="tag">&lt;liberty.var.context.root&gt;</span>system/dev<span class="tag">&lt;/liberty.var.context.root&gt;</span>
<span class="line-numbers">104</span>                <span class="comment">&lt;!-- end::context.root[] --&gt;</span>
<span class="line-numbers">105</span>                <span class="comment">&lt;!-- end::developmentProperties[] --&gt;</span>
<span class="line-numbers">106</span>            <span class="tag">&lt;/properties&gt;</span>
<span class="line-numbers">107</span>
<span class="line-numbers">108</span>            <span class="tag">&lt;build&gt;</span>
<span class="line-numbers">109</span>                <span class="tag">&lt;plugins&gt;</span>
<span class="line-numbers">110</span>                    <span class="comment">&lt;!-- tag::maven-failsafe-plugin[] --&gt;</span>
<span class="line-numbers">111</span>                    <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">112</span>                        <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">113</span>                        <span class="tag">&lt;artifactId&gt;</span>maven-failsafe-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">114</span>                        <span class="tag">&lt;configuration&gt;</span>
<span class="line-numbers">115</span>                            <span class="tag">&lt;systemPropertyVariables&gt;</span>
<span class="line-numbers">116</span>                                <span class="tag">&lt;system.service&gt;</span>${system.service.root}<span class="tag">&lt;/system.service&gt;</span>
<span class="line-numbers">117</span>                                <span class="tag">&lt;system.context&gt;</span>${liberty.var.context.root}<span class="tag">&lt;/system.context&gt;</span>
<span class="line-numbers">118</span>                                <span class="tag">&lt;system.user&gt;</span>${liberty.var.default.username}<span class="tag">&lt;/system.user&gt;</span>
<span class="line-numbers">119</span>                                <span class="tag">&lt;system.pwd&gt;</span>${liberty.var.default.password}<span class="tag">&lt;/system.pwd&gt;</span>
<span class="line-numbers">120</span>                            <span class="tag">&lt;/systemPropertyVariables&gt;</span>
<span class="line-numbers">121</span>                        <span class="tag">&lt;/configuration&gt;</span>
<span class="line-numbers">122</span>                    <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">123</span>                    <span class="comment">&lt;!-- end::maven-failsafe-plugin[] --&gt;</span>
<span class="line-numbers">124</span>                <span class="tag">&lt;/plugins&gt;</span>
<span class="line-numbers">125</span>            <span class="tag">&lt;/build&gt;</span>
<span class="line-numbers">126</span>        <span class="tag">&lt;/profile&gt;</span>
<span class="line-numbers">127</span>        <span class="comment">&lt;!-- end::development[] --&gt;</span>
<span class="line-numbers">128</span>
<span class="line-numbers">129</span>        <span class="comment">&lt;!-- tag::testing[] --&gt;</span>
<span class="line-numbers">130</span>        <span class="tag">&lt;profile&gt;</span>
<span class="line-numbers">131</span>            <span class="tag">&lt;id&gt;</span>testing<span class="tag">&lt;/id&gt;</span>
<span class="line-numbers">132</span>            <span class="tag">&lt;activation&gt;</span>
<span class="line-numbers">133</span>                <span class="tag">&lt;activeByDefault&gt;</span>false<span class="tag">&lt;/activeByDefault&gt;</span>
<span class="line-numbers">134</span>            <span class="tag">&lt;/activation&gt;</span>
<span class="line-numbers">135</span>            <span class="tag">&lt;properties&gt;</span>
<span class="line-numbers">136</span>                <span class="comment">&lt;!-- tag::testingProperties[] --&gt;</span>
<span class="line-numbers">137</span>                <span class="tag">&lt;system.service.root&gt;</span>localhost:9082<span class="tag">&lt;/system.service.root&gt;</span>
<span class="line-numbers">138</span>                <span class="comment">&lt;!-- tag::test.port[] --&gt;</span>
<span class="line-numbers">139</span>                <span class="tag">&lt;liberty.var.default.http.port&gt;</span>9082<span class="tag">&lt;/liberty.var.default.http.port&gt;</span>
<span class="line-numbers">140</span>                <span class="comment">&lt;!-- end::test.port[] --&gt;</span>
<span class="line-numbers">141</span>                <span class="tag">&lt;liberty.var.default.https.port&gt;</span>9445<span class="tag">&lt;/liberty.var.default.https.port&gt;</span>
<span class="line-numbers">142</span>                <span class="comment">&lt;!-- tag::test.username[] --&gt;</span>
<span class="line-numbers">143</span>                <span class="tag">&lt;liberty.var.default.username&gt;</span>bob<span class="tag">&lt;/liberty.var.default.username&gt;</span>
<span class="line-numbers">144</span>                <span class="comment">&lt;!-- end::test.username[] --&gt;</span>
<span class="line-numbers">145</span>                <span class="comment">&lt;!-- tag::test.password[] --&gt;</span>
<span class="line-numbers">146</span>                <span class="tag">&lt;liberty.var.default.password&gt;</span>bobpwd<span class="tag">&lt;/liberty.var.default.password&gt;</span>
<span class="line-numbers">147</span>                <span class="comment">&lt;!-- end::test.password[] --&gt;</span>
<span class="line-numbers">148</span>                <span class="comment">&lt;!-- tag::test.context.root[] --&gt;</span>
<span class="line-numbers">149</span>                <span class="tag">&lt;liberty.var.context.root&gt;</span>system/test<span class="tag">&lt;/liberty.var.context.root&gt;</span>
<span class="line-numbers">150</span>                <span class="comment">&lt;!-- end::test.context.root[] --&gt;</span>
<span class="line-numbers">151</span>                <span class="comment">&lt;!-- end::testingProperties[] --&gt;</span>
<span class="line-numbers">152</span>            <span class="tag">&lt;/properties&gt;</span>
<span class="line-numbers">153</span>            <span class="tag">&lt;build&gt;</span>
<span class="line-numbers">154</span>                <span class="tag">&lt;plugins&gt;</span>
<span class="line-numbers">155</span>                    <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">156</span>                        <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">157</span>                        <span class="tag">&lt;artifactId&gt;</span>maven-failsafe-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">158</span>                        <span class="tag">&lt;configuration&gt;</span>
<span class="line-numbers">159</span>                            <span class="tag">&lt;systemPropertyVariables&gt;</span>
<span class="line-numbers">160</span>                                <span class="tag">&lt;system.service&gt;</span>${system.service.root}<span class="tag">&lt;/system.service&gt;</span>
<span class="line-numbers">161</span>                                <span class="tag">&lt;system.context&gt;</span>${liberty.var.context.root}<span class="tag">&lt;/system.context&gt;</span>
<span class="line-numbers">162</span>                                <span class="tag">&lt;system.user&gt;</span>${liberty.var.default.username}<span class="tag">&lt;/system.user&gt;</span>
<span class="line-numbers">163</span>                                <span class="tag">&lt;system.pwd&gt;</span>${liberty.var.default.password}<span class="tag">&lt;/system.pwd&gt;</span>
<span class="line-numbers">164</span>                            <span class="tag">&lt;/systemPropertyVariables&gt;</span>
<span class="line-numbers">165</span>                        <span class="tag">&lt;/configuration&gt;</span>
<span class="line-numbers">166</span>                    <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">167</span>                <span class="tag">&lt;/plugins&gt;</span>
<span class="line-numbers">168</span>            <span class="tag">&lt;/build&gt;</span>
<span class="line-numbers">169</span>        <span class="tag">&lt;/profile&gt;</span>
<span class="line-numbers">170</span>        <span class="comment">&lt;!-- end::testing[] --&gt;</span>
<span class="line-numbers">171</span>
<span class="line-numbers">172</span>        <span class="tag">&lt;profile&gt;</span>
<span class="line-numbers">173</span>            <span class="tag">&lt;id&gt;</span>production<span class="tag">&lt;/id&gt;</span>
<span class="line-numbers">174</span>            <span class="tag">&lt;activation&gt;</span>
<span class="line-numbers">175</span>                <span class="tag">&lt;activeByDefault&gt;</span>false<span class="tag">&lt;/activeByDefault&gt;</span>
<span class="line-numbers">176</span>            <span class="tag">&lt;/activation&gt;</span>
<span class="line-numbers">177</span>        <span class="tag">&lt;/profile&gt;</span>
<span class="line-numbers">178</span>    <span class="tag">&lt;/profiles&gt;</span>
<span class="line-numbers">179</span>
<span class="line-numbers">180</span><span class="tag">&lt;/project&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>system/server.xml</p>
</div>
<div class="listingblock code_column">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="XML"><span class="line-numbers"> 1</span><span class="tag">&lt;server</span> <span class="attribute-name">description</span>=<span class="string"><span class="delimiter">"</span><span class="content">system service</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers"> 2</span>
<span class="line-numbers"> 3</span>    <span class="tag">&lt;featureManager&gt;</span>
<span class="line-numbers"> 4</span>        <span class="tag">&lt;feature&gt;</span>restfulWS-3.1<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 5</span>        <span class="tag">&lt;feature&gt;</span>jsonb-3.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 6</span>        <span class="tag">&lt;feature&gt;</span>jsonp-2.1<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 7</span>        <span class="tag">&lt;feature&gt;</span>cdi-4.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 8</span>        <span class="tag">&lt;feature&gt;</span>mpConfig-3.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 9</span>        <span class="tag">&lt;feature&gt;</span>appSecurity-5.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers">10</span>    <span class="tag">&lt;/featureManager&gt;</span>
<span class="line-numbers">11</span>
<span class="line-numbers">12</span>    <span class="comment">&lt;!-- tag::defaultConfig[] --&gt;</span>
<span class="line-numbers">13</span>    <span class="comment">&lt;!-- tag::port[] --&gt;</span>
<span class="line-numbers">14</span>    <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">default.http.port</span><span class="delimiter">"</span></span> <span class="attribute-name">defaultValue</span>=<span class="string"><span class="delimiter">"</span><span class="content">9080</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">15</span>    <span class="comment">&lt;!-- end::port[] --&gt;</span>
<span class="line-numbers">16</span>    <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">default.https.port</span><span class="delimiter">"</span></span> <span class="attribute-name">defaultValue</span>=<span class="string"><span class="delimiter">"</span><span class="content">9443</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">17</span>    <span class="comment">&lt;!-- tag::username[] --&gt;</span>
<span class="line-numbers">18</span>    <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">default.username</span><span class="delimiter">"</span></span> <span class="attribute-name">defaultValue</span>=<span class="string"><span class="delimiter">"</span><span class="content">admin</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">19</span>    <span class="comment">&lt;!-- end::username[] --&gt;</span>
<span class="line-numbers">20</span>    <span class="comment">&lt;!-- tag::password[] --&gt;</span>
<span class="line-numbers">21</span>    <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">default.password</span><span class="delimiter">"</span></span> <span class="attribute-name">defaultValue</span>=<span class="string"><span class="delimiter">"</span><span class="content">adminpwd</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">22</span>    <span class="comment">&lt;!-- end::password[] --&gt;</span>
<span class="line-numbers">23</span>    <span class="comment">&lt;!-- tag::context.root[] --&gt;</span>
<span class="line-numbers">24</span>    <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">context.root</span><span class="delimiter">"</span></span> <span class="attribute-name">defaultValue</span>=<span class="string"><span class="delimiter">"</span><span class="content">system</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">25</span>    <span class="comment">&lt;!-- end::context.root[] --&gt;</span>
<span class="line-numbers">26</span>    <span class="comment">&lt;!-- end::defaultConfig[] --&gt;</span>
<span class="line-numbers">27</span>
<span class="line-numbers">28</span>    <span class="comment">&lt;!-- tag::httpEndpoint[] --&gt;</span>
<span class="line-numbers">29</span>    <span class="tag">&lt;httpEndpoint</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">defaultHttpEndpoint</span><span class="delimiter">"</span></span> <span class="attribute-name">host</span>=<span class="string"><span class="delimiter">"</span><span class="content">*</span><span class="delimiter">"</span></span>
<span class="line-numbers">30</span>        <span class="attribute-name">httpPort</span>=<span class="string"><span class="delimiter">"</span><span class="content">${default.http.port}</span><span class="delimiter">"</span></span> 
<span class="line-numbers">31</span>        <span class="attribute-name">httpsPort</span>=<span class="string"><span class="delimiter">"</span><span class="content">${default.https.port}</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">32</span>    <span class="comment">&lt;!-- end::httpEndpoint[] --&gt;</span>
<span class="line-numbers">33</span>
<span class="line-numbers">34</span>    <span class="comment">&lt;!-- tag::webApplication[] --&gt;</span>
<span class="line-numbers">35</span>    <span class="tag">&lt;webApplication</span> <span class="attribute-name">location</span>=<span class="string"><span class="delimiter">"</span><span class="content">guide-microprofile-config-profile-system.war</span><span class="delimiter">"</span></span>
<span class="line-numbers">36</span>        <span class="attribute-name">contextRoot</span>=<span class="string"><span class="delimiter">"</span><span class="content">${context.root}</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">37</span>    <span class="comment">&lt;!-- end::webApplication[] --&gt;</span>
<span class="line-numbers">38</span>
<span class="line-numbers">39</span>    <span class="tag">&lt;basicRegistry</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">basic</span><span class="delimiter">"</span></span> <span class="attribute-name">realm</span>=<span class="string"><span class="delimiter">"</span><span class="content">BasicRegistry</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers">40</span>              <span class="comment">&lt;!-- tag::user[] --&gt;</span>
<span class="line-numbers">41</span>        <span class="tag">&lt;user</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">${default.username}</span><span class="delimiter">"</span></span> <span class="attribute-name">password</span>=<span class="string"><span class="delimiter">"</span><span class="content">${default.password}</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">42</span>        <span class="comment">&lt;!-- end::user[] --&gt;</span>
<span class="line-numbers">43</span>    <span class="tag">&lt;/basicRegistry&gt;</span>
<span class="line-numbers">44</span>
<span class="line-numbers">45</span><span class="tag">&lt;/server&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>During testing, the Liberty configurations from the <code class="hotspot=testing file=0">testing</code> profile in the <code class="hotspot file=0">system/pom.xml</code> file are used for running the <code>system</code> service. You can find out that the <code>system</code> service runs on port <code class="hotspot=test.port file=0">9082</code> with context root <code class="hotspot=test.context.root file=0">system/test</code>, and a basic user registry is set up with username <code class="hotspot=test.username file=0">bob</code> and password <code class="hotspot=test.password file=0">bobpwd</code> to authorize access to resources from other services. Note that the <code>basicRegistry</code> element is a simple case for learning purposes. For more information on different user registries, see the <a href="https://openliberty.io/docs/latest/user-registries-application-security.html" target="_blank" rel="noopener">User registries documentation</a>.</p>
</div>
<div class="paragraph">
<p>Next, open another command-line session.</p>
</div>
<div class="paragraph">
<p>When you run Open Liberty in dev mode, known as dev mode, dev mode listens for file changes and automatically recompiles and deploys your updates whenever you save a new change. Run the following commands to navigate to the <code>query</code> directory and start the <code>query</code> service in dev mode:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>cd query
mvn liberty:dev</code></pre>
</div>
</div>
<div class="paragraph">
<p>After you see the following message, your Liberty instance is ready in dev mode:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre class="CodeRay highlight"><code>**************************************************
*     Liberty is running in dev mode.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dev mode holds your command-line session to listen for file changes. Open another command-line session to continue, or open the project in your editor.</p>
</div>
<div class="paragraph">
<p>query/microprofile-config.properties</p>
</div>
<div class="listingblock code_column">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="Properties"><span class="line-numbers">1</span>system.httpPort=9082
<span class="line-numbers">2</span>system.user=bob
<span class="line-numbers">3</span>system.password=bobpwd
<span class="line-numbers">4</span>system.contextRoot=system/test</code></pre>
</div>
</div>
<div class="paragraph">
<p>Navigate to the <code class="hotspot=system file=2">query/src/main/resources/META-INF/microprofile-config.properties</code> local configuration file to check some static configuration. This file is the default configuration source for an application using MicroProfile Config and contains the required properties to access the <code>testing</code> environment of the <code>system</code> service.</p>
</div>
<div class="paragraph">
<p>Point your browser to the <a href="http://localhost:9085/query/systems/localhost" class="notranslate bare" target="_blank" rel="noopener noreferrer">http://localhost:9085/query/systems/localhost</a> URL. You can see the current OS and Java version in JSON format. The URL retrieves the system property information for the <code>localhost</code> hostname by making a request to the <code>system</code> service at <code>http://localhost:&lt;system.httpPort&gt;/&lt;system.contextRoot&gt;/property/{property}</code>.</p>
</div>
<div class="paragraph">
<p>After you finish checking out the application, stop the <code>system</code> service by pressing <code>CTRL+C</code> in the command-line session where you started the <code>system</code> service. Alternatively, you can run the <code>liberty:stop</code> goal from the <code>system</code> directory in another shell session:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>mvn liberty:stop</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="switching-the-system-service-to-the-development-environment">Switching the system service to the development environment</h3>
<div class="paragraph">
<p>Assume that the <code>system</code> service is needs maintenance. The <code>query</code> service must now connect to it in the development environment instead of the testing environment.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="/img/guide/microprofile-config-profile/system-query-devops-development.png" alt="System service running in development enivronment">
</div>
</div>
<div class="paragraph">
<p>system/pom.xml</p>
</div>
<div class="listingblock code_column">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="XML"><span class="line-numbers">  1</span><span class="preprocessor">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="line-numbers">  2</span><span class="tag">&lt;project</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0</span><span class="delimiter">"</span></span> <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">"</span></span> <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers">  3</span>
<span class="line-numbers">  4</span>    <span class="tag">&lt;modelVersion&gt;</span>4.0.0<span class="tag">&lt;/modelVersion&gt;</span>
<span class="line-numbers">  5</span>
<span class="line-numbers">  6</span>    <span class="tag">&lt;groupId&gt;</span>io.openliberty.guides<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">  7</span>
<span class="line-numbers">  8</span>    <span class="tag">&lt;artifactId&gt;</span>guide-microprofile-config-profile-system<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">  9</span>    <span class="tag">&lt;version&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 10</span>    <span class="tag">&lt;packaging&gt;</span>war<span class="tag">&lt;/packaging&gt;</span>
<span class="line-numbers"> 11</span>
<span class="line-numbers"> 12</span>    <span class="tag">&lt;properties&gt;</span>
<span class="line-numbers"> 13</span>        <span class="tag">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.build.sourceEncoding&gt;</span>
<span class="line-numbers"> 14</span>        <span class="tag">&lt;project.reporting.outputEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.reporting.outputEncoding&gt;</span>
<span class="line-numbers"> 15</span>        <span class="tag">&lt;maven.compiler.source&gt;</span>11<span class="tag">&lt;/maven.compiler.source&gt;</span>
<span class="line-numbers"> 16</span>        <span class="tag">&lt;maven.compiler.target&gt;</span>11<span class="tag">&lt;/maven.compiler.target&gt;</span>
<span class="line-numbers"> 17</span>    <span class="tag">&lt;/properties&gt;</span>
<span class="line-numbers"> 18</span>
<span class="line-numbers"> 19</span>    <span class="tag">&lt;dependencies&gt;</span>
<span class="line-numbers"> 20</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 21</span>            <span class="tag">&lt;groupId&gt;</span>jakarta.platform<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 22</span>            <span class="tag">&lt;artifactId&gt;</span>jakarta.jakartaee-api<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 23</span>            <span class="tag">&lt;version&gt;</span>10.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 24</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 25</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 26</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 27</span>            <span class="tag">&lt;groupId&gt;</span>org.eclipse.microprofile<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 28</span>            <span class="tag">&lt;artifactId&gt;</span>microprofile<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 29</span>            <span class="tag">&lt;version&gt;</span>6.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 30</span>            <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
<span class="line-numbers"> 31</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 32</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 33</span>       
<span class="line-numbers"> 34</span>        <span class="comment">&lt;!-- For tests --&gt;</span>
<span class="line-numbers"> 35</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 36</span>            <span class="tag">&lt;groupId&gt;</span>org.junit.jupiter<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 37</span>            <span class="tag">&lt;artifactId&gt;</span>junit-jupiter<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 38</span>            <span class="tag">&lt;version&gt;</span>5.9.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 39</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 40</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 41</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 42</span>            <span class="tag">&lt;groupId&gt;</span>org.jboss.resteasy<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 43</span>            <span class="tag">&lt;artifactId&gt;</span>resteasy-client<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 44</span>            <span class="tag">&lt;version&gt;</span>6.2.3.Final<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 45</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 46</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 47</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 48</span>            <span class="tag">&lt;groupId&gt;</span>org.jboss.resteasy<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 49</span>            <span class="tag">&lt;artifactId&gt;</span>resteasy-json-binding-provider<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 50</span>            <span class="tag">&lt;version&gt;</span>6.2.3.Final<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 51</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 52</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 53</span>    <span class="tag">&lt;/dependencies&gt;</span>
<span class="line-numbers"> 54</span>
<span class="line-numbers"> 55</span>    <span class="tag">&lt;build&gt;</span>
<span class="line-numbers"> 56</span>        <span class="tag">&lt;finalName&gt;</span>${project.artifactId}<span class="tag">&lt;/finalName&gt;</span>
<span class="line-numbers"> 57</span>        <span class="tag">&lt;plugins&gt;</span>
<span class="line-numbers"> 58</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 59</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 60</span>                <span class="tag">&lt;artifactId&gt;</span>maven-war-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 61</span>                <span class="tag">&lt;version&gt;</span>3.3.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 62</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 63</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 64</span>                <span class="tag">&lt;groupId&gt;</span>io.openliberty.tools<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 65</span>                <span class="tag">&lt;artifactId&gt;</span>liberty-maven-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 66</span>                <span class="tag">&lt;version&gt;</span>3.8.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 67</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 68</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 69</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 70</span>                <span class="tag">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 71</span>                <span class="tag">&lt;version&gt;</span>3.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 72</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 73</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 74</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 75</span>                <span class="tag">&lt;artifactId&gt;</span>maven-failsafe-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 76</span>                <span class="tag">&lt;version&gt;</span>3.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 77</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 78</span>        <span class="tag">&lt;/plugins&gt;</span>
<span class="line-numbers"> 79</span>    <span class="tag">&lt;/build&gt;</span>
<span class="line-numbers"> 80</span>
<span class="line-numbers"> 81</span>    <span class="tag">&lt;profiles&gt;</span>
<span class="line-numbers"> 82</span>        <span class="comment">&lt;!-- tag::development[] --&gt;</span>
<span class="line-numbers"> 83</span>        <span class="tag">&lt;profile&gt;</span>
<span class="line-numbers"> 84</span>            <span class="tag">&lt;id&gt;</span>development<span class="tag">&lt;/id&gt;</span>
<span class="line-numbers"> 85</span>            <span class="tag">&lt;activation&gt;</span>
<span class="line-numbers"> 86</span>                <span class="tag">&lt;activeByDefault&gt;</span>true<span class="tag">&lt;/activeByDefault&gt;</span>
<span class="line-numbers"> 87</span>            <span class="tag">&lt;/activation&gt;</span>
<span class="line-numbers"> 88</span>
<span class="line-numbers"> 89</span>            <span class="tag">&lt;properties&gt;</span>
<span class="line-numbers"> 90</span>                <span class="tag">&lt;system.service.root&gt;</span>localhost:9081<span class="tag">&lt;/system.service.root&gt;</span>
<span class="line-numbers"> 91</span>                <span class="comment">&lt;!-- tag::developmentProperties[] --&gt;</span>
<span class="line-numbers"> 92</span>                <span class="comment">&lt;!-- tag::port[] --&gt;</span>
<span class="line-numbers"> 93</span>                <span class="tag">&lt;liberty.var.default.http.port&gt;</span>9081<span class="tag">&lt;/liberty.var.default.http.port&gt;</span>
<span class="line-numbers"> 94</span>                <span class="comment">&lt;!-- end::port[] --&gt;</span>
<span class="line-numbers"> 95</span>                <span class="tag">&lt;liberty.var.default.https.port&gt;</span>9444<span class="tag">&lt;/liberty.var.default.https.port&gt;</span>
<span class="line-numbers"> 96</span>                <span class="comment">&lt;!-- tag::username[] --&gt;</span>
<span class="line-numbers"> 97</span>                <span class="tag">&lt;liberty.var.default.username&gt;</span>alice<span class="tag">&lt;/liberty.var.default.username&gt;</span>
<span class="line-numbers"> 98</span>                <span class="comment">&lt;!-- end::username[] --&gt;</span>
<span class="line-numbers"> 99</span>                <span class="comment">&lt;!-- tag::password[] --&gt;</span>
<span class="line-numbers">100</span>                <span class="tag">&lt;liberty.var.default.password&gt;</span>alicepwd<span class="tag">&lt;/liberty.var.default.password&gt;</span>
<span class="line-numbers">101</span>                <span class="comment">&lt;!-- end::password[] --&gt;</span>
<span class="line-numbers">102</span>                <span class="comment">&lt;!-- tag::context.root[] --&gt;</span>
<span class="line-numbers">103</span>                <span class="tag">&lt;liberty.var.context.root&gt;</span>system/dev<span class="tag">&lt;/liberty.var.context.root&gt;</span>
<span class="line-numbers">104</span>                <span class="comment">&lt;!-- end::context.root[] --&gt;</span>
<span class="line-numbers">105</span>                <span class="comment">&lt;!-- end::developmentProperties[] --&gt;</span>
<span class="line-numbers">106</span>            <span class="tag">&lt;/properties&gt;</span>
<span class="line-numbers">107</span>
<span class="line-numbers">108</span>            <span class="tag">&lt;build&gt;</span>
<span class="line-numbers">109</span>                <span class="tag">&lt;plugins&gt;</span>
<span class="line-numbers">110</span>                    <span class="comment">&lt;!-- tag::maven-failsafe-plugin[] --&gt;</span>
<span class="line-numbers">111</span>                    <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">112</span>                        <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">113</span>                        <span class="tag">&lt;artifactId&gt;</span>maven-failsafe-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">114</span>                        <span class="tag">&lt;configuration&gt;</span>
<span class="line-numbers">115</span>                            <span class="tag">&lt;systemPropertyVariables&gt;</span>
<span class="line-numbers">116</span>                                <span class="tag">&lt;system.service&gt;</span>${system.service.root}<span class="tag">&lt;/system.service&gt;</span>
<span class="line-numbers">117</span>                                <span class="tag">&lt;system.context&gt;</span>${liberty.var.context.root}<span class="tag">&lt;/system.context&gt;</span>
<span class="line-numbers">118</span>                                <span class="tag">&lt;system.user&gt;</span>${liberty.var.default.username}<span class="tag">&lt;/system.user&gt;</span>
<span class="line-numbers">119</span>                                <span class="tag">&lt;system.pwd&gt;</span>${liberty.var.default.password}<span class="tag">&lt;/system.pwd&gt;</span>
<span class="line-numbers">120</span>                            <span class="tag">&lt;/systemPropertyVariables&gt;</span>
<span class="line-numbers">121</span>                        <span class="tag">&lt;/configuration&gt;</span>
<span class="line-numbers">122</span>                    <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">123</span>                    <span class="comment">&lt;!-- end::maven-failsafe-plugin[] --&gt;</span>
<span class="line-numbers">124</span>                <span class="tag">&lt;/plugins&gt;</span>
<span class="line-numbers">125</span>            <span class="tag">&lt;/build&gt;</span>
<span class="line-numbers">126</span>        <span class="tag">&lt;/profile&gt;</span>
<span class="line-numbers">127</span>        <span class="comment">&lt;!-- end::development[] --&gt;</span>
<span class="line-numbers">128</span>
<span class="line-numbers">129</span>        <span class="comment">&lt;!-- tag::testing[] --&gt;</span>
<span class="line-numbers">130</span>        <span class="tag">&lt;profile&gt;</span>
<span class="line-numbers">131</span>            <span class="tag">&lt;id&gt;</span>testing<span class="tag">&lt;/id&gt;</span>
<span class="line-numbers">132</span>            <span class="tag">&lt;activation&gt;</span>
<span class="line-numbers">133</span>                <span class="tag">&lt;activeByDefault&gt;</span>false<span class="tag">&lt;/activeByDefault&gt;</span>
<span class="line-numbers">134</span>            <span class="tag">&lt;/activation&gt;</span>
<span class="line-numbers">135</span>            <span class="tag">&lt;properties&gt;</span>
<span class="line-numbers">136</span>                <span class="comment">&lt;!-- tag::testingProperties[] --&gt;</span>
<span class="line-numbers">137</span>                <span class="tag">&lt;system.service.root&gt;</span>localhost:9082<span class="tag">&lt;/system.service.root&gt;</span>
<span class="line-numbers">138</span>                <span class="comment">&lt;!-- tag::test.port[] --&gt;</span>
<span class="line-numbers">139</span>                <span class="tag">&lt;liberty.var.default.http.port&gt;</span>9082<span class="tag">&lt;/liberty.var.default.http.port&gt;</span>
<span class="line-numbers">140</span>                <span class="comment">&lt;!-- end::test.port[] --&gt;</span>
<span class="line-numbers">141</span>                <span class="tag">&lt;liberty.var.default.https.port&gt;</span>9445<span class="tag">&lt;/liberty.var.default.https.port&gt;</span>
<span class="line-numbers">142</span>                <span class="comment">&lt;!-- tag::test.username[] --&gt;</span>
<span class="line-numbers">143</span>                <span class="tag">&lt;liberty.var.default.username&gt;</span>bob<span class="tag">&lt;/liberty.var.default.username&gt;</span>
<span class="line-numbers">144</span>                <span class="comment">&lt;!-- end::test.username[] --&gt;</span>
<span class="line-numbers">145</span>                <span class="comment">&lt;!-- tag::test.password[] --&gt;</span>
<span class="line-numbers">146</span>                <span class="tag">&lt;liberty.var.default.password&gt;</span>bobpwd<span class="tag">&lt;/liberty.var.default.password&gt;</span>
<span class="line-numbers">147</span>                <span class="comment">&lt;!-- end::test.password[] --&gt;</span>
<span class="line-numbers">148</span>                <span class="comment">&lt;!-- tag::test.context.root[] --&gt;</span>
<span class="line-numbers">149</span>                <span class="tag">&lt;liberty.var.context.root&gt;</span>system/test<span class="tag">&lt;/liberty.var.context.root&gt;</span>
<span class="line-numbers">150</span>                <span class="comment">&lt;!-- end::test.context.root[] --&gt;</span>
<span class="line-numbers">151</span>                <span class="comment">&lt;!-- end::testingProperties[] --&gt;</span>
<span class="line-numbers">152</span>            <span class="tag">&lt;/properties&gt;</span>
<span class="line-numbers">153</span>            <span class="tag">&lt;build&gt;</span>
<span class="line-numbers">154</span>                <span class="tag">&lt;plugins&gt;</span>
<span class="line-numbers">155</span>                    <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">156</span>                        <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">157</span>                        <span class="tag">&lt;artifactId&gt;</span>maven-failsafe-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">158</span>                        <span class="tag">&lt;configuration&gt;</span>
<span class="line-numbers">159</span>                            <span class="tag">&lt;systemPropertyVariables&gt;</span>
<span class="line-numbers">160</span>                                <span class="tag">&lt;system.service&gt;</span>${system.service.root}<span class="tag">&lt;/system.service&gt;</span>
<span class="line-numbers">161</span>                                <span class="tag">&lt;system.context&gt;</span>${liberty.var.context.root}<span class="tag">&lt;/system.context&gt;</span>
<span class="line-numbers">162</span>                                <span class="tag">&lt;system.user&gt;</span>${liberty.var.default.username}<span class="tag">&lt;/system.user&gt;</span>
<span class="line-numbers">163</span>                                <span class="tag">&lt;system.pwd&gt;</span>${liberty.var.default.password}<span class="tag">&lt;/system.pwd&gt;</span>
<span class="line-numbers">164</span>                            <span class="tag">&lt;/systemPropertyVariables&gt;</span>
<span class="line-numbers">165</span>                        <span class="tag">&lt;/configuration&gt;</span>
<span class="line-numbers">166</span>                    <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">167</span>                <span class="tag">&lt;/plugins&gt;</span>
<span class="line-numbers">168</span>            <span class="tag">&lt;/build&gt;</span>
<span class="line-numbers">169</span>        <span class="tag">&lt;/profile&gt;</span>
<span class="line-numbers">170</span>        <span class="comment">&lt;!-- end::testing[] --&gt;</span>
<span class="line-numbers">171</span>
<span class="line-numbers">172</span>        <span class="tag">&lt;profile&gt;</span>
<span class="line-numbers">173</span>            <span class="tag">&lt;id&gt;</span>production<span class="tag">&lt;/id&gt;</span>
<span class="line-numbers">174</span>            <span class="tag">&lt;activation&gt;</span>
<span class="line-numbers">175</span>                <span class="tag">&lt;activeByDefault&gt;</span>false<span class="tag">&lt;/activeByDefault&gt;</span>
<span class="line-numbers">176</span>            <span class="tag">&lt;/activation&gt;</span>
<span class="line-numbers">177</span>        <span class="tag">&lt;/profile&gt;</span>
<span class="line-numbers">178</span>    <span class="tag">&lt;/profiles&gt;</span>
<span class="line-numbers">179</span>
<span class="line-numbers">180</span><span class="tag">&lt;/project&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Restart the <code>system</code> service in <code class="hotspot=development file=0">development</code> environment by running the following Maven goal from the <code>system</code> directory:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>mvn liberty:dev</code></pre>
</div>
</div>
<div class="paragraph">
<p>After you see the following message, your Liberty instance is ready in dev mode:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre class="CodeRay highlight"><code>**************************************************
*     Liberty is running in dev mode.</code></pre>
</div>
</div>
<div class="paragraph">
<p>During development, the Liberty configurations from the <code class="hotspot=development file=0">development</code> profile in the <code class="hotspot file=0">system/pom.xml</code> file are used for running the <code>system</code> service. The <code>system</code> service now runs on port <code class="hotspot=port file=0">9081</code> with context root <code class="hotspot=context.root file=0">system/dev</code>, and the credentials for the user registry are updated with username <code class="hotspot=username file=0">alice</code> and password <code class="hotspot=password file=0">alicepwd</code> for authentication to the service.</p>
</div>
<div class="paragraph">
<p>query/microprofile-config.properties</p>
</div>
<div class="listingblock code_column">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="Properties"><span class="line-numbers">1</span>system.httpPort=9082
<span class="line-numbers">2</span>system.user=bob
<span class="line-numbers">3</span>system.password=bobpwd
<span class="line-numbers">4</span>system.contextRoot=system/test</code></pre>
</div>
</div>
<div class="paragraph">
<p>Test the connection between the <code>query</code> service and the <code>system</code> service by pointing your browser to the <a href="http://localhost:9085/query/systems/localhost" class="notranslate bare" target="_blank" rel="noopener noreferrer">http://localhost:9085/query/systems/localhost</a> URL. The <code>query</code> service returns the message: <code>{"fail":"Failed to reach the client localhost."}</code>.</p>
</div>
<div class="paragraph">
<p>This failure occurs because the <code>system</code> service was started with the <code>development</code> profile, while the configuration properties defined in the <code class="hotspot=system file=1">query/src/main/resources/META-INF/microprofile-config.properties</code> file are configured for accessing the <code>testing</code> environment.</p>
</div>
<div class="paragraph">
<p>To resolve the issue, you’ll create a configuration profile in the <code>query</code> service with the configuration properties necessary to access the <code>system</code> service in the <code>development</code> environment.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-the-configuration-profile-at-the-property-level">Creating the configuration profile at the property level</h2>
<div class="sectionbody">
<div class="paragraph">
<p>MicroProfile Config’s config profile feature allows for the supply of configurations for different environments, such as development, testing, and production, while only a single profile is active. The active profile is set using the <code>mp.config.profile</code> property, which is a unique identifier for each configuration profile. This property can be set in any of the <a href="https://openliberty.io/guides/microprofile-config-intro.html#background-concepts">ConfigSources</a> or at application startup. Once set, the corresponding configuration properties associated with the active profile are used.</p>
</div>
<div class="paragraph">
<p>Creating configuration profiles at the property level is useful when only a few configuration properties need to be set differently for each DevOps stage, such as when you require different database connection settings in different environments.</p>
</div>
<div class="paragraph">
<p>To provide a configuration property for a particular config profile, use the <code>%&lt;config_profile_id&gt;.&lt;property_name&gt;=&lt;value&gt;</code> syntax, where <code>&lt;config_profile_id&gt;</code> is the unique identifier for the configuration profile and <code>&lt;property_name&gt;</code> is the name of the property you want to set.</p>
</div>
<div class="paragraph">
<p>In this example, you will provide configuration properties for the <code>development</code> environment to the <code>query</code> service at the property level.</p>
</div>
<div class="listingblock code_command hotspot file=0">
<div class="content">
<pre><mark>Replace the <code>microprofile-config.properties</code> file.</mark>
<code>query/src/main/resources/META-INF/microprofile-config.properties</code></pre>
</div>
</div>
<div class="paragraph">
<p>query/microprofile-config.properties</p>
</div>
<div class="listingblock code_column">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="properties"><span class="line-numbers"> 1</span># tag::port[]
<span class="line-numbers"> 2</span>system.httpPort=9082
<span class="line-numbers"> 3</span># end::port[]
<span class="line-numbers"> 4</span>system.user=bob
<span class="line-numbers"> 5</span>system.password=bobpwd
<span class="line-numbers"> 6</span>system.contextRoot=system/test
<span class="line-numbers"> 7</span>
<span class="line-numbers"> 8</span># tag::development[]
<span class="line-numbers"> 9</span># tag::dev.port[]
<span class="line-numbers">10</span>%development.system.httpPort=9081
<span class="line-numbers">11</span># end::dev.port[]
<span class="line-numbers">12</span>%development.system.user=alice
<span class="line-numbers">13</span>%development.system.password=alicepwd
<span class="line-numbers">14</span>%development.system.contextRoot=system/dev
<span class="line-numbers">15</span># end::development[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>system/pom.xml</p>
</div>
<div class="listingblock code_column">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="XML"><span class="line-numbers">  1</span><span class="preprocessor">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="line-numbers">  2</span><span class="tag">&lt;project</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0</span><span class="delimiter">"</span></span> <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">"</span></span> <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers">  3</span>
<span class="line-numbers">  4</span>    <span class="tag">&lt;modelVersion&gt;</span>4.0.0<span class="tag">&lt;/modelVersion&gt;</span>
<span class="line-numbers">  5</span>
<span class="line-numbers">  6</span>    <span class="tag">&lt;groupId&gt;</span>io.openliberty.guides<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">  7</span>
<span class="line-numbers">  8</span>    <span class="tag">&lt;artifactId&gt;</span>guide-microprofile-config-profile-system<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">  9</span>    <span class="tag">&lt;version&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 10</span>    <span class="tag">&lt;packaging&gt;</span>war<span class="tag">&lt;/packaging&gt;</span>
<span class="line-numbers"> 11</span>
<span class="line-numbers"> 12</span>    <span class="tag">&lt;properties&gt;</span>
<span class="line-numbers"> 13</span>        <span class="tag">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.build.sourceEncoding&gt;</span>
<span class="line-numbers"> 14</span>        <span class="tag">&lt;project.reporting.outputEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.reporting.outputEncoding&gt;</span>
<span class="line-numbers"> 15</span>        <span class="tag">&lt;maven.compiler.source&gt;</span>11<span class="tag">&lt;/maven.compiler.source&gt;</span>
<span class="line-numbers"> 16</span>        <span class="tag">&lt;maven.compiler.target&gt;</span>11<span class="tag">&lt;/maven.compiler.target&gt;</span>
<span class="line-numbers"> 17</span>    <span class="tag">&lt;/properties&gt;</span>
<span class="line-numbers"> 18</span>
<span class="line-numbers"> 19</span>    <span class="tag">&lt;dependencies&gt;</span>
<span class="line-numbers"> 20</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 21</span>            <span class="tag">&lt;groupId&gt;</span>jakarta.platform<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 22</span>            <span class="tag">&lt;artifactId&gt;</span>jakarta.jakartaee-api<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 23</span>            <span class="tag">&lt;version&gt;</span>10.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 24</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 25</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 26</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 27</span>            <span class="tag">&lt;groupId&gt;</span>org.eclipse.microprofile<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 28</span>            <span class="tag">&lt;artifactId&gt;</span>microprofile<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 29</span>            <span class="tag">&lt;version&gt;</span>6.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 30</span>            <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
<span class="line-numbers"> 31</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 32</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 33</span>       
<span class="line-numbers"> 34</span>        <span class="comment">&lt;!-- For tests --&gt;</span>
<span class="line-numbers"> 35</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 36</span>            <span class="tag">&lt;groupId&gt;</span>org.junit.jupiter<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 37</span>            <span class="tag">&lt;artifactId&gt;</span>junit-jupiter<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 38</span>            <span class="tag">&lt;version&gt;</span>5.9.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 39</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 40</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 41</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 42</span>            <span class="tag">&lt;groupId&gt;</span>org.jboss.resteasy<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 43</span>            <span class="tag">&lt;artifactId&gt;</span>resteasy-client<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 44</span>            <span class="tag">&lt;version&gt;</span>6.2.3.Final<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 45</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 46</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 47</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 48</span>            <span class="tag">&lt;groupId&gt;</span>org.jboss.resteasy<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 49</span>            <span class="tag">&lt;artifactId&gt;</span>resteasy-json-binding-provider<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 50</span>            <span class="tag">&lt;version&gt;</span>6.2.3.Final<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 51</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 52</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 53</span>    <span class="tag">&lt;/dependencies&gt;</span>
<span class="line-numbers"> 54</span>
<span class="line-numbers"> 55</span>    <span class="tag">&lt;build&gt;</span>
<span class="line-numbers"> 56</span>        <span class="tag">&lt;finalName&gt;</span>${project.artifactId}<span class="tag">&lt;/finalName&gt;</span>
<span class="line-numbers"> 57</span>        <span class="tag">&lt;plugins&gt;</span>
<span class="line-numbers"> 58</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 59</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 60</span>                <span class="tag">&lt;artifactId&gt;</span>maven-war-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 61</span>                <span class="tag">&lt;version&gt;</span>3.3.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 62</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 63</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 64</span>                <span class="tag">&lt;groupId&gt;</span>io.openliberty.tools<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 65</span>                <span class="tag">&lt;artifactId&gt;</span>liberty-maven-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 66</span>                <span class="tag">&lt;version&gt;</span>3.8.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 67</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 68</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 69</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 70</span>                <span class="tag">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 71</span>                <span class="tag">&lt;version&gt;</span>3.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 72</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 73</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 74</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 75</span>                <span class="tag">&lt;artifactId&gt;</span>maven-failsafe-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 76</span>                <span class="tag">&lt;version&gt;</span>3.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 77</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 78</span>        <span class="tag">&lt;/plugins&gt;</span>
<span class="line-numbers"> 79</span>    <span class="tag">&lt;/build&gt;</span>
<span class="line-numbers"> 80</span>
<span class="line-numbers"> 81</span>    <span class="tag">&lt;profiles&gt;</span>
<span class="line-numbers"> 82</span>        <span class="comment">&lt;!-- tag::development[] --&gt;</span>
<span class="line-numbers"> 83</span>        <span class="tag">&lt;profile&gt;</span>
<span class="line-numbers"> 84</span>            <span class="tag">&lt;id&gt;</span>development<span class="tag">&lt;/id&gt;</span>
<span class="line-numbers"> 85</span>            <span class="tag">&lt;activation&gt;</span>
<span class="line-numbers"> 86</span>                <span class="tag">&lt;activeByDefault&gt;</span>true<span class="tag">&lt;/activeByDefault&gt;</span>
<span class="line-numbers"> 87</span>            <span class="tag">&lt;/activation&gt;</span>
<span class="line-numbers"> 88</span>
<span class="line-numbers"> 89</span>            <span class="tag">&lt;properties&gt;</span>
<span class="line-numbers"> 90</span>                <span class="tag">&lt;system.service.root&gt;</span>localhost:9081<span class="tag">&lt;/system.service.root&gt;</span>
<span class="line-numbers"> 91</span>                <span class="comment">&lt;!-- tag::developmentProperties[] --&gt;</span>
<span class="line-numbers"> 92</span>                <span class="comment">&lt;!-- tag::port[] --&gt;</span>
<span class="line-numbers"> 93</span>                <span class="tag">&lt;liberty.var.default.http.port&gt;</span>9081<span class="tag">&lt;/liberty.var.default.http.port&gt;</span>
<span class="line-numbers"> 94</span>                <span class="comment">&lt;!-- end::port[] --&gt;</span>
<span class="line-numbers"> 95</span>                <span class="tag">&lt;liberty.var.default.https.port&gt;</span>9444<span class="tag">&lt;/liberty.var.default.https.port&gt;</span>
<span class="line-numbers"> 96</span>                <span class="comment">&lt;!-- tag::username[] --&gt;</span>
<span class="line-numbers"> 97</span>                <span class="tag">&lt;liberty.var.default.username&gt;</span>alice<span class="tag">&lt;/liberty.var.default.username&gt;</span>
<span class="line-numbers"> 98</span>                <span class="comment">&lt;!-- end::username[] --&gt;</span>
<span class="line-numbers"> 99</span>                <span class="comment">&lt;!-- tag::password[] --&gt;</span>
<span class="line-numbers">100</span>                <span class="tag">&lt;liberty.var.default.password&gt;</span>alicepwd<span class="tag">&lt;/liberty.var.default.password&gt;</span>
<span class="line-numbers">101</span>                <span class="comment">&lt;!-- end::password[] --&gt;</span>
<span class="line-numbers">102</span>                <span class="comment">&lt;!-- tag::context.root[] --&gt;</span>
<span class="line-numbers">103</span>                <span class="tag">&lt;liberty.var.context.root&gt;</span>system/dev<span class="tag">&lt;/liberty.var.context.root&gt;</span>
<span class="line-numbers">104</span>                <span class="comment">&lt;!-- end::context.root[] --&gt;</span>
<span class="line-numbers">105</span>                <span class="comment">&lt;!-- end::developmentProperties[] --&gt;</span>
<span class="line-numbers">106</span>            <span class="tag">&lt;/properties&gt;</span>
<span class="line-numbers">107</span>
<span class="line-numbers">108</span>            <span class="tag">&lt;build&gt;</span>
<span class="line-numbers">109</span>                <span class="tag">&lt;plugins&gt;</span>
<span class="line-numbers">110</span>                    <span class="comment">&lt;!-- tag::maven-failsafe-plugin[] --&gt;</span>
<span class="line-numbers">111</span>                    <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">112</span>                        <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">113</span>                        <span class="tag">&lt;artifactId&gt;</span>maven-failsafe-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">114</span>                        <span class="tag">&lt;configuration&gt;</span>
<span class="line-numbers">115</span>                            <span class="tag">&lt;systemPropertyVariables&gt;</span>
<span class="line-numbers">116</span>                                <span class="tag">&lt;system.service&gt;</span>${system.service.root}<span class="tag">&lt;/system.service&gt;</span>
<span class="line-numbers">117</span>                                <span class="tag">&lt;system.context&gt;</span>${liberty.var.context.root}<span class="tag">&lt;/system.context&gt;</span>
<span class="line-numbers">118</span>                                <span class="tag">&lt;system.user&gt;</span>${liberty.var.default.username}<span class="tag">&lt;/system.user&gt;</span>
<span class="line-numbers">119</span>                                <span class="tag">&lt;system.pwd&gt;</span>${liberty.var.default.password}<span class="tag">&lt;/system.pwd&gt;</span>
<span class="line-numbers">120</span>                            <span class="tag">&lt;/systemPropertyVariables&gt;</span>
<span class="line-numbers">121</span>                        <span class="tag">&lt;/configuration&gt;</span>
<span class="line-numbers">122</span>                    <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">123</span>                    <span class="comment">&lt;!-- end::maven-failsafe-plugin[] --&gt;</span>
<span class="line-numbers">124</span>                <span class="tag">&lt;/plugins&gt;</span>
<span class="line-numbers">125</span>            <span class="tag">&lt;/build&gt;</span>
<span class="line-numbers">126</span>        <span class="tag">&lt;/profile&gt;</span>
<span class="line-numbers">127</span>        <span class="comment">&lt;!-- end::development[] --&gt;</span>
<span class="line-numbers">128</span>
<span class="line-numbers">129</span>        <span class="comment">&lt;!-- tag::testing[] --&gt;</span>
<span class="line-numbers">130</span>        <span class="tag">&lt;profile&gt;</span>
<span class="line-numbers">131</span>            <span class="tag">&lt;id&gt;</span>testing<span class="tag">&lt;/id&gt;</span>
<span class="line-numbers">132</span>            <span class="tag">&lt;activation&gt;</span>
<span class="line-numbers">133</span>                <span class="tag">&lt;activeByDefault&gt;</span>false<span class="tag">&lt;/activeByDefault&gt;</span>
<span class="line-numbers">134</span>            <span class="tag">&lt;/activation&gt;</span>
<span class="line-numbers">135</span>            <span class="tag">&lt;properties&gt;</span>
<span class="line-numbers">136</span>                <span class="comment">&lt;!-- tag::testingProperties[] --&gt;</span>
<span class="line-numbers">137</span>                <span class="tag">&lt;system.service.root&gt;</span>localhost:9082<span class="tag">&lt;/system.service.root&gt;</span>
<span class="line-numbers">138</span>                <span class="comment">&lt;!-- tag::test.port[] --&gt;</span>
<span class="line-numbers">139</span>                <span class="tag">&lt;liberty.var.default.http.port&gt;</span>9082<span class="tag">&lt;/liberty.var.default.http.port&gt;</span>
<span class="line-numbers">140</span>                <span class="comment">&lt;!-- end::test.port[] --&gt;</span>
<span class="line-numbers">141</span>                <span class="tag">&lt;liberty.var.default.https.port&gt;</span>9445<span class="tag">&lt;/liberty.var.default.https.port&gt;</span>
<span class="line-numbers">142</span>                <span class="comment">&lt;!-- tag::test.username[] --&gt;</span>
<span class="line-numbers">143</span>                <span class="tag">&lt;liberty.var.default.username&gt;</span>bob<span class="tag">&lt;/liberty.var.default.username&gt;</span>
<span class="line-numbers">144</span>                <span class="comment">&lt;!-- end::test.username[] --&gt;</span>
<span class="line-numbers">145</span>                <span class="comment">&lt;!-- tag::test.password[] --&gt;</span>
<span class="line-numbers">146</span>                <span class="tag">&lt;liberty.var.default.password&gt;</span>bobpwd<span class="tag">&lt;/liberty.var.default.password&gt;</span>
<span class="line-numbers">147</span>                <span class="comment">&lt;!-- end::test.password[] --&gt;</span>
<span class="line-numbers">148</span>                <span class="comment">&lt;!-- tag::test.context.root[] --&gt;</span>
<span class="line-numbers">149</span>                <span class="tag">&lt;liberty.var.context.root&gt;</span>system/test<span class="tag">&lt;/liberty.var.context.root&gt;</span>
<span class="line-numbers">150</span>                <span class="comment">&lt;!-- end::test.context.root[] --&gt;</span>
<span class="line-numbers">151</span>                <span class="comment">&lt;!-- end::testingProperties[] --&gt;</span>
<span class="line-numbers">152</span>            <span class="tag">&lt;/properties&gt;</span>
<span class="line-numbers">153</span>            <span class="tag">&lt;build&gt;</span>
<span class="line-numbers">154</span>                <span class="tag">&lt;plugins&gt;</span>
<span class="line-numbers">155</span>                    <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">156</span>                        <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">157</span>                        <span class="tag">&lt;artifactId&gt;</span>maven-failsafe-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">158</span>                        <span class="tag">&lt;configuration&gt;</span>
<span class="line-numbers">159</span>                            <span class="tag">&lt;systemPropertyVariables&gt;</span>
<span class="line-numbers">160</span>                                <span class="tag">&lt;system.service&gt;</span>${system.service.root}<span class="tag">&lt;/system.service&gt;</span>
<span class="line-numbers">161</span>                                <span class="tag">&lt;system.context&gt;</span>${liberty.var.context.root}<span class="tag">&lt;/system.context&gt;</span>
<span class="line-numbers">162</span>                                <span class="tag">&lt;system.user&gt;</span>${liberty.var.default.username}<span class="tag">&lt;/system.user&gt;</span>
<span class="line-numbers">163</span>                                <span class="tag">&lt;system.pwd&gt;</span>${liberty.var.default.password}<span class="tag">&lt;/system.pwd&gt;</span>
<span class="line-numbers">164</span>                            <span class="tag">&lt;/systemPropertyVariables&gt;</span>
<span class="line-numbers">165</span>                        <span class="tag">&lt;/configuration&gt;</span>
<span class="line-numbers">166</span>                    <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">167</span>                <span class="tag">&lt;/plugins&gt;</span>
<span class="line-numbers">168</span>            <span class="tag">&lt;/build&gt;</span>
<span class="line-numbers">169</span>        <span class="tag">&lt;/profile&gt;</span>
<span class="line-numbers">170</span>        <span class="comment">&lt;!-- end::testing[] --&gt;</span>
<span class="line-numbers">171</span>
<span class="line-numbers">172</span>        <span class="tag">&lt;profile&gt;</span>
<span class="line-numbers">173</span>            <span class="tag">&lt;id&gt;</span>production<span class="tag">&lt;/id&gt;</span>
<span class="line-numbers">174</span>            <span class="tag">&lt;activation&gt;</span>
<span class="line-numbers">175</span>                <span class="tag">&lt;activeByDefault&gt;</span>false<span class="tag">&lt;/activeByDefault&gt;</span>
<span class="line-numbers">176</span>            <span class="tag">&lt;/activation&gt;</span>
<span class="line-numbers">177</span>        <span class="tag">&lt;/profile&gt;</span>
<span class="line-numbers">178</span>    <span class="tag">&lt;/profiles&gt;</span>
<span class="line-numbers">179</span>
<span class="line-numbers">180</span><span class="tag">&lt;/project&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Configure the <code class="hotspot=development file=0">%development.*</code> properties in the <code>microprofile-config.properties</code> file based on the values from the <code class="hotspot=developmentProperties file=1">development</code> profile of the <code>system</code> service.</p>
</div>
<div class="paragraph">
<p>Once you have updated the properties, stop the <code>query</code> service by pressing <code>CTRL+C</code> in the command-line session where you ran the <code>query</code> service, or by typing <code>q</code> and then pressing the <code>enter/return</code> key.</p>
</div>
<div class="paragraph">
<p>After stopping the <code>query</code> service, restart it with the <code>development</code> config profile. To do so, run the following Maven goal from the <code>query</code> directory:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>mvn liberty:dev -Dliberty.var.mp.config.profile="development"</code></pre>
</div>
</div>
<div class="paragraph">
<p>By setting <code>mp.config.profile</code> to <code>development</code> as a Liberty variable, each <code>%development.*</code> property will override the value of its original property. For example, the <code class="hotspot=dev.port file=0">%development.system.httpPort</code> property will override the <code class="hotspot=port file=0">system.httpPort</code> property and the value will be resolved to <code>9081</code> in this case.</p>
</div>
<div class="paragraph">
<p>Keep in mind that the <code>mp.config.profile</code> property can be set in any of the ConfigSources, but it is read only at application startup. Any changes made after that will be ignored until the next application startup.</p>
</div>
<div class="paragraph">
<p>After restarting the <code>query</code> service with the <code>development</code> config profile, you can now access the application by using the <a href="http://localhost:9085/query/systems/localhost" class="notranslate bare" target="_blank" rel="noopener noreferrer">http://localhost:9085/query/systems/localhost</a> URL. You can see the current OS and Java version in JSON format.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-the-configuration-profile-using-a-configsource-properties-file">Creating the configuration profile using a ConfigSource properties file</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In addition to creating configuration profiles at the property level, it’s also possible to create configuration profiles using ConfigSources. This can be particularly useful when you need to manage a large number of configuration properties for different environments. For instance, each DevOps stage may require the application to run on different ports and context roots. Using a ConfigSource to externalize and customize these configurations leads to a cleaner and more modular code design.</p>
</div>
<div class="paragraph">
<p>To create a configuration profile at the Config Source level, simply create a file under the <code>META-INF</code> folder on the classpath with the naming convention <code>microprofile-config-&lt;config_profile_id&gt;.properties</code>, where <code>&lt;config_profile_id&gt;</code> is the unique identifier for the configuration profile. Once you have created the file, you can add your configuration properties to it with the <code>&lt;property_name&gt;=&lt;value&gt;</code> syntax.</p>
</div>
<div class="paragraph">
<p>In this example, you will provide configuration properties for the <code>development</code> environment to the <code>query</code> service using a ConfigSource properties file.</p>
</div>
<div class="listingblock code_command hotspot file=0">
<div class="content">
<pre><mark>Create the <code>microprofile-config-development.properties</code> file.</mark>
<code>query/src/main/resources/META-INF/microprofile-config-development.properties</code></pre>
</div>
</div>
<div class="paragraph">
<p>query/microprofile-config-development.properties</p>
</div>
<div class="listingblock code_column hide_tags=userPassword,properties,contactEmail,roleAndQuery">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="properties"><span class="line-numbers"> 1</span># tag::system[]
<span class="line-numbers"> 2</span>system.httpPort=9081
<span class="line-numbers"> 3</span># tag::user[]
<span class="line-numbers"> 4</span>system.user=alice
<span class="line-numbers"> 5</span># end::user[]
<span class="line-numbers"> 6</span># tag::password[]
<span class="line-numbers"> 7</span>system.password=alicepwd
<span class="line-numbers"> 8</span># end::password[]
<span class="line-numbers"> 9</span>system.contextRoot=system/dev
<span class="line-numbers">10</span># end::system[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>system/pom.xml</p>
</div>
<div class="listingblock code_column">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="XML"><span class="line-numbers">  1</span><span class="preprocessor">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="line-numbers">  2</span><span class="tag">&lt;project</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0</span><span class="delimiter">"</span></span> <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">"</span></span> <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers">  3</span>
<span class="line-numbers">  4</span>    <span class="tag">&lt;modelVersion&gt;</span>4.0.0<span class="tag">&lt;/modelVersion&gt;</span>
<span class="line-numbers">  5</span>
<span class="line-numbers">  6</span>    <span class="tag">&lt;groupId&gt;</span>io.openliberty.guides<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">  7</span>
<span class="line-numbers">  8</span>    <span class="tag">&lt;artifactId&gt;</span>guide-microprofile-config-profile-system<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">  9</span>    <span class="tag">&lt;version&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 10</span>    <span class="tag">&lt;packaging&gt;</span>war<span class="tag">&lt;/packaging&gt;</span>
<span class="line-numbers"> 11</span>
<span class="line-numbers"> 12</span>    <span class="tag">&lt;properties&gt;</span>
<span class="line-numbers"> 13</span>        <span class="tag">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.build.sourceEncoding&gt;</span>
<span class="line-numbers"> 14</span>        <span class="tag">&lt;project.reporting.outputEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.reporting.outputEncoding&gt;</span>
<span class="line-numbers"> 15</span>        <span class="tag">&lt;maven.compiler.source&gt;</span>11<span class="tag">&lt;/maven.compiler.source&gt;</span>
<span class="line-numbers"> 16</span>        <span class="tag">&lt;maven.compiler.target&gt;</span>11<span class="tag">&lt;/maven.compiler.target&gt;</span>
<span class="line-numbers"> 17</span>    <span class="tag">&lt;/properties&gt;</span>
<span class="line-numbers"> 18</span>
<span class="line-numbers"> 19</span>    <span class="tag">&lt;dependencies&gt;</span>
<span class="line-numbers"> 20</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 21</span>            <span class="tag">&lt;groupId&gt;</span>jakarta.platform<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 22</span>            <span class="tag">&lt;artifactId&gt;</span>jakarta.jakartaee-api<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 23</span>            <span class="tag">&lt;version&gt;</span>10.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 24</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 25</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 26</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 27</span>            <span class="tag">&lt;groupId&gt;</span>org.eclipse.microprofile<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 28</span>            <span class="tag">&lt;artifactId&gt;</span>microprofile<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 29</span>            <span class="tag">&lt;version&gt;</span>6.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 30</span>            <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
<span class="line-numbers"> 31</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 32</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 33</span>       
<span class="line-numbers"> 34</span>        <span class="comment">&lt;!-- For tests --&gt;</span>
<span class="line-numbers"> 35</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 36</span>            <span class="tag">&lt;groupId&gt;</span>org.junit.jupiter<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 37</span>            <span class="tag">&lt;artifactId&gt;</span>junit-jupiter<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 38</span>            <span class="tag">&lt;version&gt;</span>5.9.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 39</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 40</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 41</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 42</span>            <span class="tag">&lt;groupId&gt;</span>org.jboss.resteasy<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 43</span>            <span class="tag">&lt;artifactId&gt;</span>resteasy-client<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 44</span>            <span class="tag">&lt;version&gt;</span>6.2.3.Final<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 45</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 46</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 47</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 48</span>            <span class="tag">&lt;groupId&gt;</span>org.jboss.resteasy<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 49</span>            <span class="tag">&lt;artifactId&gt;</span>resteasy-json-binding-provider<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 50</span>            <span class="tag">&lt;version&gt;</span>6.2.3.Final<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 51</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 52</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 53</span>    <span class="tag">&lt;/dependencies&gt;</span>
<span class="line-numbers"> 54</span>
<span class="line-numbers"> 55</span>    <span class="tag">&lt;build&gt;</span>
<span class="line-numbers"> 56</span>        <span class="tag">&lt;finalName&gt;</span>${project.artifactId}<span class="tag">&lt;/finalName&gt;</span>
<span class="line-numbers"> 57</span>        <span class="tag">&lt;plugins&gt;</span>
<span class="line-numbers"> 58</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 59</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 60</span>                <span class="tag">&lt;artifactId&gt;</span>maven-war-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 61</span>                <span class="tag">&lt;version&gt;</span>3.3.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 62</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 63</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 64</span>                <span class="tag">&lt;groupId&gt;</span>io.openliberty.tools<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 65</span>                <span class="tag">&lt;artifactId&gt;</span>liberty-maven-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 66</span>                <span class="tag">&lt;version&gt;</span>3.8.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 67</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 68</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 69</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 70</span>                <span class="tag">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 71</span>                <span class="tag">&lt;version&gt;</span>3.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 72</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 73</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 74</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 75</span>                <span class="tag">&lt;artifactId&gt;</span>maven-failsafe-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 76</span>                <span class="tag">&lt;version&gt;</span>3.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 77</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 78</span>        <span class="tag">&lt;/plugins&gt;</span>
<span class="line-numbers"> 79</span>    <span class="tag">&lt;/build&gt;</span>
<span class="line-numbers"> 80</span>
<span class="line-numbers"> 81</span>    <span class="tag">&lt;profiles&gt;</span>
<span class="line-numbers"> 82</span>        <span class="comment">&lt;!-- tag::development[] --&gt;</span>
<span class="line-numbers"> 83</span>        <span class="tag">&lt;profile&gt;</span>
<span class="line-numbers"> 84</span>            <span class="tag">&lt;id&gt;</span>development<span class="tag">&lt;/id&gt;</span>
<span class="line-numbers"> 85</span>            <span class="tag">&lt;activation&gt;</span>
<span class="line-numbers"> 86</span>                <span class="tag">&lt;activeByDefault&gt;</span>true<span class="tag">&lt;/activeByDefault&gt;</span>
<span class="line-numbers"> 87</span>            <span class="tag">&lt;/activation&gt;</span>
<span class="line-numbers"> 88</span>
<span class="line-numbers"> 89</span>            <span class="tag">&lt;properties&gt;</span>
<span class="line-numbers"> 90</span>                <span class="tag">&lt;system.service.root&gt;</span>localhost:9081<span class="tag">&lt;/system.service.root&gt;</span>
<span class="line-numbers"> 91</span>                <span class="comment">&lt;!-- tag::developmentProperties[] --&gt;</span>
<span class="line-numbers"> 92</span>                <span class="comment">&lt;!-- tag::port[] --&gt;</span>
<span class="line-numbers"> 93</span>                <span class="tag">&lt;liberty.var.default.http.port&gt;</span>9081<span class="tag">&lt;/liberty.var.default.http.port&gt;</span>
<span class="line-numbers"> 94</span>                <span class="comment">&lt;!-- end::port[] --&gt;</span>
<span class="line-numbers"> 95</span>                <span class="tag">&lt;liberty.var.default.https.port&gt;</span>9444<span class="tag">&lt;/liberty.var.default.https.port&gt;</span>
<span class="line-numbers"> 96</span>                <span class="comment">&lt;!-- tag::username[] --&gt;</span>
<span class="line-numbers"> 97</span>                <span class="tag">&lt;liberty.var.default.username&gt;</span>alice<span class="tag">&lt;/liberty.var.default.username&gt;</span>
<span class="line-numbers"> 98</span>                <span class="comment">&lt;!-- end::username[] --&gt;</span>
<span class="line-numbers"> 99</span>                <span class="comment">&lt;!-- tag::password[] --&gt;</span>
<span class="line-numbers">100</span>                <span class="tag">&lt;liberty.var.default.password&gt;</span>alicepwd<span class="tag">&lt;/liberty.var.default.password&gt;</span>
<span class="line-numbers">101</span>                <span class="comment">&lt;!-- end::password[] --&gt;</span>
<span class="line-numbers">102</span>                <span class="comment">&lt;!-- tag::context.root[] --&gt;</span>
<span class="line-numbers">103</span>                <span class="tag">&lt;liberty.var.context.root&gt;</span>system/dev<span class="tag">&lt;/liberty.var.context.root&gt;</span>
<span class="line-numbers">104</span>                <span class="comment">&lt;!-- end::context.root[] --&gt;</span>
<span class="line-numbers">105</span>                <span class="comment">&lt;!-- end::developmentProperties[] --&gt;</span>
<span class="line-numbers">106</span>            <span class="tag">&lt;/properties&gt;</span>
<span class="line-numbers">107</span>
<span class="line-numbers">108</span>            <span class="tag">&lt;build&gt;</span>
<span class="line-numbers">109</span>                <span class="tag">&lt;plugins&gt;</span>
<span class="line-numbers">110</span>                    <span class="comment">&lt;!-- tag::maven-failsafe-plugin[] --&gt;</span>
<span class="line-numbers">111</span>                    <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">112</span>                        <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">113</span>                        <span class="tag">&lt;artifactId&gt;</span>maven-failsafe-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">114</span>                        <span class="tag">&lt;configuration&gt;</span>
<span class="line-numbers">115</span>                            <span class="tag">&lt;systemPropertyVariables&gt;</span>
<span class="line-numbers">116</span>                                <span class="tag">&lt;system.service&gt;</span>${system.service.root}<span class="tag">&lt;/system.service&gt;</span>
<span class="line-numbers">117</span>                                <span class="tag">&lt;system.context&gt;</span>${liberty.var.context.root}<span class="tag">&lt;/system.context&gt;</span>
<span class="line-numbers">118</span>                                <span class="tag">&lt;system.user&gt;</span>${liberty.var.default.username}<span class="tag">&lt;/system.user&gt;</span>
<span class="line-numbers">119</span>                                <span class="tag">&lt;system.pwd&gt;</span>${liberty.var.default.password}<span class="tag">&lt;/system.pwd&gt;</span>
<span class="line-numbers">120</span>                            <span class="tag">&lt;/systemPropertyVariables&gt;</span>
<span class="line-numbers">121</span>                        <span class="tag">&lt;/configuration&gt;</span>
<span class="line-numbers">122</span>                    <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">123</span>                    <span class="comment">&lt;!-- end::maven-failsafe-plugin[] --&gt;</span>
<span class="line-numbers">124</span>                <span class="tag">&lt;/plugins&gt;</span>
<span class="line-numbers">125</span>            <span class="tag">&lt;/build&gt;</span>
<span class="line-numbers">126</span>        <span class="tag">&lt;/profile&gt;</span>
<span class="line-numbers">127</span>        <span class="comment">&lt;!-- end::development[] --&gt;</span>
<span class="line-numbers">128</span>
<span class="line-numbers">129</span>        <span class="comment">&lt;!-- tag::testing[] --&gt;</span>
<span class="line-numbers">130</span>        <span class="tag">&lt;profile&gt;</span>
<span class="line-numbers">131</span>            <span class="tag">&lt;id&gt;</span>testing<span class="tag">&lt;/id&gt;</span>
<span class="line-numbers">132</span>            <span class="tag">&lt;activation&gt;</span>
<span class="line-numbers">133</span>                <span class="tag">&lt;activeByDefault&gt;</span>false<span class="tag">&lt;/activeByDefault&gt;</span>
<span class="line-numbers">134</span>            <span class="tag">&lt;/activation&gt;</span>
<span class="line-numbers">135</span>            <span class="tag">&lt;properties&gt;</span>
<span class="line-numbers">136</span>                <span class="comment">&lt;!-- tag::testingProperties[] --&gt;</span>
<span class="line-numbers">137</span>                <span class="tag">&lt;system.service.root&gt;</span>localhost:9082<span class="tag">&lt;/system.service.root&gt;</span>
<span class="line-numbers">138</span>                <span class="comment">&lt;!-- tag::test.port[] --&gt;</span>
<span class="line-numbers">139</span>                <span class="tag">&lt;liberty.var.default.http.port&gt;</span>9082<span class="tag">&lt;/liberty.var.default.http.port&gt;</span>
<span class="line-numbers">140</span>                <span class="comment">&lt;!-- end::test.port[] --&gt;</span>
<span class="line-numbers">141</span>                <span class="tag">&lt;liberty.var.default.https.port&gt;</span>9445<span class="tag">&lt;/liberty.var.default.https.port&gt;</span>
<span class="line-numbers">142</span>                <span class="comment">&lt;!-- tag::test.username[] --&gt;</span>
<span class="line-numbers">143</span>                <span class="tag">&lt;liberty.var.default.username&gt;</span>bob<span class="tag">&lt;/liberty.var.default.username&gt;</span>
<span class="line-numbers">144</span>                <span class="comment">&lt;!-- end::test.username[] --&gt;</span>
<span class="line-numbers">145</span>                <span class="comment">&lt;!-- tag::test.password[] --&gt;</span>
<span class="line-numbers">146</span>                <span class="tag">&lt;liberty.var.default.password&gt;</span>bobpwd<span class="tag">&lt;/liberty.var.default.password&gt;</span>
<span class="line-numbers">147</span>                <span class="comment">&lt;!-- end::test.password[] --&gt;</span>
<span class="line-numbers">148</span>                <span class="comment">&lt;!-- tag::test.context.root[] --&gt;</span>
<span class="line-numbers">149</span>                <span class="tag">&lt;liberty.var.context.root&gt;</span>system/test<span class="tag">&lt;/liberty.var.context.root&gt;</span>
<span class="line-numbers">150</span>                <span class="comment">&lt;!-- end::test.context.root[] --&gt;</span>
<span class="line-numbers">151</span>                <span class="comment">&lt;!-- end::testingProperties[] --&gt;</span>
<span class="line-numbers">152</span>            <span class="tag">&lt;/properties&gt;</span>
<span class="line-numbers">153</span>            <span class="tag">&lt;build&gt;</span>
<span class="line-numbers">154</span>                <span class="tag">&lt;plugins&gt;</span>
<span class="line-numbers">155</span>                    <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">156</span>                        <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">157</span>                        <span class="tag">&lt;artifactId&gt;</span>maven-failsafe-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">158</span>                        <span class="tag">&lt;configuration&gt;</span>
<span class="line-numbers">159</span>                            <span class="tag">&lt;systemPropertyVariables&gt;</span>
<span class="line-numbers">160</span>                                <span class="tag">&lt;system.service&gt;</span>${system.service.root}<span class="tag">&lt;/system.service&gt;</span>
<span class="line-numbers">161</span>                                <span class="tag">&lt;system.context&gt;</span>${liberty.var.context.root}<span class="tag">&lt;/system.context&gt;</span>
<span class="line-numbers">162</span>                                <span class="tag">&lt;system.user&gt;</span>${liberty.var.default.username}<span class="tag">&lt;/system.user&gt;</span>
<span class="line-numbers">163</span>                                <span class="tag">&lt;system.pwd&gt;</span>${liberty.var.default.password}<span class="tag">&lt;/system.pwd&gt;</span>
<span class="line-numbers">164</span>                            <span class="tag">&lt;/systemPropertyVariables&gt;</span>
<span class="line-numbers">165</span>                        <span class="tag">&lt;/configuration&gt;</span>
<span class="line-numbers">166</span>                    <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">167</span>                <span class="tag">&lt;/plugins&gt;</span>
<span class="line-numbers">168</span>            <span class="tag">&lt;/build&gt;</span>
<span class="line-numbers">169</span>        <span class="tag">&lt;/profile&gt;</span>
<span class="line-numbers">170</span>        <span class="comment">&lt;!-- end::testing[] --&gt;</span>
<span class="line-numbers">171</span>
<span class="line-numbers">172</span>        <span class="tag">&lt;profile&gt;</span>
<span class="line-numbers">173</span>            <span class="tag">&lt;id&gt;</span>production<span class="tag">&lt;/id&gt;</span>
<span class="line-numbers">174</span>            <span class="tag">&lt;activation&gt;</span>
<span class="line-numbers">175</span>                <span class="tag">&lt;activeByDefault&gt;</span>false<span class="tag">&lt;/activeByDefault&gt;</span>
<span class="line-numbers">176</span>            <span class="tag">&lt;/activation&gt;</span>
<span class="line-numbers">177</span>        <span class="tag">&lt;/profile&gt;</span>
<span class="line-numbers">178</span>    <span class="tag">&lt;/profiles&gt;</span>
<span class="line-numbers">179</span>
<span class="line-numbers">180</span><span class="tag">&lt;/project&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Define the <code class="hotspot=system file=0">system.*</code> properties in the <code>microprofile-config-development.properties</code> file based on the values from the <code class="hotspot=developmentProperties file=1">development</code> profile of the <code>system</code> service.</p>
</div>
<div class="paragraph">
<p>To use these configuration properties,</p>
</div>
<div class="listingblock code_command hotspot file=2">
<div class="content">
<pre><mark>Replace the <code>microprofile-config.properties</code> file.</mark>
<code>query/src/main/resources/META-INF/microprofile-config.properties</code></pre>
</div>
</div>
<div class="paragraph">
<p>query/microprofile-config.properties</p>
</div>
<div class="listingblock code_column hide_tags=development">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="properties"><span class="line-numbers">1</span># tag::system[]
<span class="line-numbers">2</span>system.httpPort=9080
<span class="line-numbers">3</span>system.user=admin
<span class="line-numbers">4</span>system.password=adminpwd
<span class="line-numbers">5</span>system.contextRoot=system
<span class="line-numbers">6</span># end::system[]</code></pre>
</div>
</div>
<div class="paragraph">
<p>system/server.xml</p>
</div>
<div class="listingblock code_column">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="XML"><span class="line-numbers"> 1</span><span class="tag">&lt;server</span> <span class="attribute-name">description</span>=<span class="string"><span class="delimiter">"</span><span class="content">system service</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers"> 2</span>
<span class="line-numbers"> 3</span>    <span class="tag">&lt;featureManager&gt;</span>
<span class="line-numbers"> 4</span>        <span class="tag">&lt;feature&gt;</span>restfulWS-3.1<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 5</span>        <span class="tag">&lt;feature&gt;</span>jsonb-3.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 6</span>        <span class="tag">&lt;feature&gt;</span>jsonp-2.1<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 7</span>        <span class="tag">&lt;feature&gt;</span>cdi-4.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 8</span>        <span class="tag">&lt;feature&gt;</span>mpConfig-3.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 9</span>        <span class="tag">&lt;feature&gt;</span>appSecurity-5.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers">10</span>    <span class="tag">&lt;/featureManager&gt;</span>
<span class="line-numbers">11</span>
<span class="line-numbers">12</span>    <span class="comment">&lt;!-- tag::defaultConfig[] --&gt;</span>
<span class="line-numbers">13</span>    <span class="comment">&lt;!-- tag::port[] --&gt;</span>
<span class="line-numbers">14</span>    <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">default.http.port</span><span class="delimiter">"</span></span> <span class="attribute-name">defaultValue</span>=<span class="string"><span class="delimiter">"</span><span class="content">9080</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">15</span>    <span class="comment">&lt;!-- end::port[] --&gt;</span>
<span class="line-numbers">16</span>    <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">default.https.port</span><span class="delimiter">"</span></span> <span class="attribute-name">defaultValue</span>=<span class="string"><span class="delimiter">"</span><span class="content">9443</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">17</span>    <span class="comment">&lt;!-- tag::username[] --&gt;</span>
<span class="line-numbers">18</span>    <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">default.username</span><span class="delimiter">"</span></span> <span class="attribute-name">defaultValue</span>=<span class="string"><span class="delimiter">"</span><span class="content">admin</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">19</span>    <span class="comment">&lt;!-- end::username[] --&gt;</span>
<span class="line-numbers">20</span>    <span class="comment">&lt;!-- tag::password[] --&gt;</span>
<span class="line-numbers">21</span>    <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">default.password</span><span class="delimiter">"</span></span> <span class="attribute-name">defaultValue</span>=<span class="string"><span class="delimiter">"</span><span class="content">adminpwd</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">22</span>    <span class="comment">&lt;!-- end::password[] --&gt;</span>
<span class="line-numbers">23</span>    <span class="comment">&lt;!-- tag::context.root[] --&gt;</span>
<span class="line-numbers">24</span>    <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">context.root</span><span class="delimiter">"</span></span> <span class="attribute-name">defaultValue</span>=<span class="string"><span class="delimiter">"</span><span class="content">system</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">25</span>    <span class="comment">&lt;!-- end::context.root[] --&gt;</span>
<span class="line-numbers">26</span>    <span class="comment">&lt;!-- end::defaultConfig[] --&gt;</span>
<span class="line-numbers">27</span>
<span class="line-numbers">28</span>    <span class="comment">&lt;!-- tag::httpEndpoint[] --&gt;</span>
<span class="line-numbers">29</span>    <span class="tag">&lt;httpEndpoint</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">defaultHttpEndpoint</span><span class="delimiter">"</span></span> <span class="attribute-name">host</span>=<span class="string"><span class="delimiter">"</span><span class="content">*</span><span class="delimiter">"</span></span>
<span class="line-numbers">30</span>        <span class="attribute-name">httpPort</span>=<span class="string"><span class="delimiter">"</span><span class="content">${default.http.port}</span><span class="delimiter">"</span></span> 
<span class="line-numbers">31</span>        <span class="attribute-name">httpsPort</span>=<span class="string"><span class="delimiter">"</span><span class="content">${default.https.port}</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">32</span>    <span class="comment">&lt;!-- end::httpEndpoint[] --&gt;</span>
<span class="line-numbers">33</span>
<span class="line-numbers">34</span>    <span class="comment">&lt;!-- tag::webApplication[] --&gt;</span>
<span class="line-numbers">35</span>    <span class="tag">&lt;webApplication</span> <span class="attribute-name">location</span>=<span class="string"><span class="delimiter">"</span><span class="content">guide-microprofile-config-profile-system.war</span><span class="delimiter">"</span></span>
<span class="line-numbers">36</span>        <span class="attribute-name">contextRoot</span>=<span class="string"><span class="delimiter">"</span><span class="content">${context.root}</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">37</span>    <span class="comment">&lt;!-- end::webApplication[] --&gt;</span>
<span class="line-numbers">38</span>
<span class="line-numbers">39</span>    <span class="tag">&lt;basicRegistry</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">basic</span><span class="delimiter">"</span></span> <span class="attribute-name">realm</span>=<span class="string"><span class="delimiter">"</span><span class="content">BasicRegistry</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers">40</span>              <span class="comment">&lt;!-- tag::user[] --&gt;</span>
<span class="line-numbers">41</span>        <span class="tag">&lt;user</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">${default.username}</span><span class="delimiter">"</span></span> <span class="attribute-name">password</span>=<span class="string"><span class="delimiter">"</span><span class="content">${default.password}</span><span class="delimiter">"</span></span><span class="tag">/&gt;</span>
<span class="line-numbers">42</span>        <span class="comment">&lt;!-- end::user[] --&gt;</span>
<span class="line-numbers">43</span>    <span class="tag">&lt;/basicRegistry&gt;</span>
<span class="line-numbers">44</span>
<span class="line-numbers">45</span><span class="tag">&lt;/server&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Update the <code>microprofile-config.properties</code> file by removing the <code>%development.*</code> properties and setting the <code class="hotspot=system file=2">system.*</code> properties to their default production values from the <code class="hotspot=defaultConfig file=3">system/server.xml</code> configuration file.</p>
</div>
<div class="paragraph">
<p>Since the active profile is set to <code>development</code>, the <code class="hotspot file=0">microprofile-config-development.properties</code> file is loaded on top of the default <code class="hotspot file=2">microprofile-config.properties</code> file. Therefore, any <code>system.*</code> properties specified in the former take precedence over the values in the latter.</p>
</div>
<div class="paragraph">
<p>Because you are running the <code>query</code> service in dev mode, the changes that you made were automatically picked up. Point your browser to the <a href="http://localhost:9085/query/systems/localhost" class="notranslate bare" target="_blank" rel="noopener noreferrer">http://localhost:9085/query/systems/localhost</a> URL to check out the application again. You see the current OS and Java version in JSON format.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing-the-application">Testing the application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You will implement several endpoint tests to test the basic functionality of the <code>query</code> microservice. If a test failure occurs, then you might have introduced a bug into the code.</p>
</div>
<div class="listingblock code_command hotspot file=0">
<div class="content">
<pre><mark>Create the <code>QueryEndpointIT</code> class.</mark>
<code>query/src/test/java/it/io/openliberty/guides/query/QueryEndpointIT.java</code></pre>
</div>
</div>
<div class="paragraph">
<p>QueryEndpointIT.java</p>
</div>
<div class="listingblock code_column hide_tags=copyright">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="line-numbers"> 1</span><span class="comment">// tag::copyright[]</span>
<span class="line-numbers"> 2</span><span class="comment">/*******************************************************************************</span>
<span class="line-numbers"> 3</span><span class="comment"> * Copyright (c) 2023 IBM Corporation and others.</span>
<span class="line-numbers"> 4</span><span class="comment"> * All rights reserved. This program and the accompanying materials</span>
<span class="line-numbers"> 5</span><span class="comment"> * are made available under the terms of the Eclipse Public License 2.0</span>
<span class="line-numbers"> 6</span><span class="comment"> * which accompanies this distribution, and is available at</span>
<span class="line-numbers"> 7</span><span class="comment"> * http://www.eclipse.org/legal/epl-2.0/</span>
<span class="line-numbers"> 8</span><span class="comment"> *</span>
<span class="line-numbers"> 9</span><span class="comment"> * SPDX-License-Identifier: EPL-2.0</span>
<span class="line-numbers">10</span><span class="comment"> *******************************************************************************/</span>
<span class="line-numbers">11</span><span class="comment">// end::copyright[]</span>
<span class="line-numbers">12</span><span class="keyword">package</span> <span class="namespace">it.io.openliberty.guides.query</span>;
<span class="line-numbers">13</span>
<span class="line-numbers">14</span><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertEquals</span>;
<span class="line-numbers">15</span><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertNotNull</span>;
<span class="line-numbers">16</span><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.junit.jupiter.api.Assertions.assertTrue</span>;
<span class="line-numbers">17</span>
<span class="line-numbers">18</span><span class="keyword">import</span> <span class="include">org.junit.jupiter.api.AfterEach</span>;
<span class="line-numbers">19</span><span class="keyword">import</span> <span class="include">org.junit.jupiter.api.BeforeEach</span>;
<span class="line-numbers">20</span><span class="keyword">import</span> <span class="include">org.junit.jupiter.api.Test</span>;
<span class="line-numbers">21</span>
<span class="line-numbers">22</span><span class="keyword">import</span> <span class="include">jakarta.json.JsonObject</span>;
<span class="line-numbers">23</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.client.Client</span>;
<span class="line-numbers">24</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.client.ClientBuilder</span>;
<span class="line-numbers">25</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.core.Response</span>;
<span class="line-numbers">26</span>
<span class="line-numbers">27</span><span class="directive">public</span> <span class="type">class</span> <span class="class">QueryEndpointIT</span> {
<span class="line-numbers">28</span>
<span class="line-numbers">29</span>    <span class="directive">private</span> <span class="directive">static</span> <span class="predefined-type">String</span> port = <span class="predefined-type">System</span>.getProperty(<span class="string"><span class="delimiter">"</span><span class="content">http.port</span><span class="delimiter">"</span></span>);
<span class="line-numbers">30</span>    <span class="directive">private</span> <span class="directive">static</span> <span class="predefined-type">String</span> baseUrl = <span class="string"><span class="delimiter">"</span><span class="content">http://localhost:</span><span class="delimiter">"</span></span> + port + <span class="string"><span class="delimiter">"</span><span class="content">/query</span><span class="delimiter">"</span></span>;
<span class="line-numbers">31</span>    <span class="directive">private</span> <span class="directive">static</span> <span class="predefined-type">String</span> systemHost = <span class="predefined-type">System</span>.getProperty(<span class="string"><span class="delimiter">"</span><span class="content">system.host</span><span class="delimiter">"</span></span>);
<span class="line-numbers">32</span>
<span class="line-numbers">33</span>    <span class="directive">private</span> <span class="directive">static</span> Client client;
<span class="line-numbers">34</span>
<span class="line-numbers">35</span>    <span class="annotation">@BeforeEach</span>
<span class="line-numbers">36</span>    <span class="directive">public</span> <span class="type">void</span> setup() {
<span class="line-numbers">37</span>      client = ClientBuilder.newClient();
<span class="line-numbers">38</span>    }
<span class="line-numbers">39</span>
<span class="line-numbers">40</span>    <span class="annotation">@AfterEach</span>
<span class="line-numbers">41</span>    <span class="directive">public</span> <span class="type">void</span> teardown() {
<span class="line-numbers">42</span>        client.close();
<span class="line-numbers">43</span>    }
<span class="line-numbers">44</span>
<span class="line-numbers">45</span>    <span class="comment">// tag::testQuerySystem[]</span>
<span class="line-numbers">46</span>    <span class="annotation">@Test</span>
<span class="line-numbers">47</span>    <span class="directive">public</span> <span class="type">void</span> testQuerySystem() {
<span class="line-numbers">48</span>
<span class="line-numbers">49</span>        Response response = <span class="local-variable">this</span>.getResponse(baseUrl + <span class="string"><span class="delimiter">"</span><span class="content">/systems/</span><span class="delimiter">"</span></span> + systemHost);
<span class="line-numbers">50</span>        <span class="local-variable">this</span>.assertResponse(baseUrl, response);
<span class="line-numbers">51</span>
<span class="line-numbers">52</span>        JsonObject jsonObj = response.readEntity(JsonObject.class);
<span class="line-numbers">53</span>        assertNotNull(jsonObj.getString(<span class="string"><span class="delimiter">"</span><span class="content">os.name</span><span class="delimiter">"</span></span>), <span class="string"><span class="delimiter">"</span><span class="content">os.name is null</span><span class="delimiter">"</span></span>);
<span class="line-numbers">54</span>        assertNotNull(jsonObj.getString(<span class="string"><span class="delimiter">"</span><span class="content">java.version</span><span class="delimiter">"</span></span>), <span class="string"><span class="delimiter">"</span><span class="content">java.version is null</span><span class="delimiter">"</span></span>);
<span class="line-numbers">55</span>
<span class="line-numbers">56</span>        response.close();
<span class="line-numbers">57</span>    }
<span class="line-numbers">58</span>    <span class="comment">// end::testQuerySystem[]</span>
<span class="line-numbers">59</span>
<span class="line-numbers">60</span>    <span class="comment">// tag::testUnknownHost[]</span>
<span class="line-numbers">61</span>    <span class="annotation">@Test</span>
<span class="line-numbers">62</span>    <span class="directive">public</span> <span class="type">void</span> testUnknownHost() {
<span class="line-numbers">63</span>        Response response = <span class="local-variable">this</span>.getResponse(baseUrl + <span class="string"><span class="delimiter">"</span><span class="content">/systems/unknown</span><span class="delimiter">"</span></span>);
<span class="line-numbers">64</span>        <span class="local-variable">this</span>.assertResponse(baseUrl, response);
<span class="line-numbers">65</span>
<span class="line-numbers">66</span>        JsonObject json = response.readEntity(JsonObject.class);
<span class="line-numbers">67</span>        assertEquals(<span class="string"><span class="delimiter">"</span><span class="content">Failed to reach the client unknown.</span><span class="delimiter">"</span></span>, json.getString(<span class="string"><span class="delimiter">"</span><span class="content">fail</span><span class="delimiter">"</span></span>),
<span class="line-numbers">68</span>            <span class="string"><span class="delimiter">"</span><span class="content">Fail message is wrong.</span><span class="delimiter">"</span></span>);
<span class="line-numbers">69</span>        response.close();
<span class="line-numbers">70</span>    }
<span class="line-numbers">71</span>    <span class="comment">// end::testUnknownHost[]</span>
<span class="line-numbers">72</span>
<span class="line-numbers">73</span>    <span class="directive">private</span> Response getResponse(<span class="predefined-type">String</span> url) {
<span class="line-numbers">74</span>        <span class="keyword">return</span> client.target(url).request().get();
<span class="line-numbers">75</span>    }
<span class="line-numbers">76</span>
<span class="line-numbers">77</span>    <span class="directive">private</span> <span class="type">void</span> assertResponse(<span class="predefined-type">String</span> url, Response response) {
<span class="line-numbers">78</span>        assertEquals(<span class="integer">200</span>, response.getStatus(), <span class="string"><span class="delimiter">"</span><span class="content">Incorrect response code from </span><span class="delimiter">"</span></span> + url);
<span class="line-numbers">79</span>    }
<span class="line-numbers">80</span>
<span class="line-numbers">81</span>}</code></pre>
</div>
</div>
<div class="paragraph">
<p>query/pom.xml</p>
</div>
<div class="listingblock code_column">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="XML"><span class="line-numbers"> 1</span><span class="preprocessor">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="line-numbers"> 2</span><span class="tag">&lt;project</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0</span><span class="delimiter">"</span></span>
<span class="line-numbers"> 3</span>    <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">"</span></span>
<span class="line-numbers"> 4</span>    <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers"> 5</span>    <span class="tag">&lt;modelVersion&gt;</span>4.0.0<span class="tag">&lt;/modelVersion&gt;</span>
<span class="line-numbers"> 6</span>
<span class="line-numbers"> 7</span>    <span class="tag">&lt;groupId&gt;</span>io.openliberty.guides<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 8</span>    <span class="tag">&lt;artifactId&gt;</span>guide-microprofile-config-profile-query<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 9</span>    <span class="tag">&lt;version&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers">10</span>    <span class="tag">&lt;packaging&gt;</span>war<span class="tag">&lt;/packaging&gt;</span>
<span class="line-numbers">11</span>
<span class="line-numbers">12</span>    <span class="tag">&lt;properties&gt;</span>
<span class="line-numbers">13</span>        <span class="tag">&lt;maven.compiler.source&gt;</span>11<span class="tag">&lt;/maven.compiler.source&gt;</span>
<span class="line-numbers">14</span>        <span class="tag">&lt;maven.compiler.target&gt;</span>11<span class="tag">&lt;/maven.compiler.target&gt;</span>
<span class="line-numbers">15</span>        <span class="tag">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.build.sourceEncoding&gt;</span>
<span class="line-numbers">16</span>        <span class="tag">&lt;liberty.var.default.http.port&gt;</span>9085<span class="tag">&lt;/liberty.var.default.http.port&gt;</span>
<span class="line-numbers">17</span>        <span class="tag">&lt;liberty.var.default.https.port&gt;</span>9448<span class="tag">&lt;/liberty.var.default.https.port&gt;</span>
<span class="line-numbers">18</span>    <span class="tag">&lt;/properties&gt;</span>
<span class="line-numbers">19</span>
<span class="line-numbers">20</span>    <span class="tag">&lt;dependencies&gt;</span>
<span class="line-numbers">21</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers">22</span>            <span class="tag">&lt;groupId&gt;</span>jakarta.platform<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">23</span>            <span class="tag">&lt;artifactId&gt;</span>jakarta.jakartaee-api<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">24</span>            <span class="tag">&lt;version&gt;</span>10.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers">25</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers">26</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers">27</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers">28</span>            <span class="tag">&lt;groupId&gt;</span>org.eclipse.microprofile<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">29</span>            <span class="tag">&lt;artifactId&gt;</span>microprofile<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">30</span>            <span class="tag">&lt;version&gt;</span>6.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers">31</span>            <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
<span class="line-numbers">32</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers">33</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers">34</span>
<span class="line-numbers">35</span>        <span class="comment">&lt;!-- For tests --&gt;</span>
<span class="line-numbers">36</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers">37</span>            <span class="tag">&lt;groupId&gt;</span>org.junit.jupiter<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">38</span>            <span class="tag">&lt;artifactId&gt;</span>junit-jupiter<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">39</span>            <span class="tag">&lt;version&gt;</span>5.9.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers">40</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers">41</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers">42</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers">43</span>            <span class="tag">&lt;groupId&gt;</span>org.jboss.resteasy<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">44</span>            <span class="tag">&lt;artifactId&gt;</span>resteasy-client<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">45</span>            <span class="tag">&lt;version&gt;</span>6.2.3.Final<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers">46</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers">47</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers">48</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers">49</span>            <span class="tag">&lt;groupId&gt;</span>org.jboss.resteasy<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">50</span>            <span class="tag">&lt;artifactId&gt;</span>resteasy-json-binding-provider<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">51</span>            <span class="tag">&lt;version&gt;</span>6.2.3.Final<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers">52</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers">53</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers">54</span>    <span class="tag">&lt;/dependencies&gt;</span>
<span class="line-numbers">55</span>
<span class="line-numbers">56</span>    <span class="tag">&lt;build&gt;</span>
<span class="line-numbers">57</span>        <span class="tag">&lt;finalName&gt;</span>${project.artifactId}<span class="tag">&lt;/finalName&gt;</span>
<span class="line-numbers">58</span>        <span class="tag">&lt;plugins&gt;</span>
<span class="line-numbers">59</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">60</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">61</span>                <span class="tag">&lt;artifactId&gt;</span>maven-war-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">62</span>                <span class="tag">&lt;version&gt;</span>3.3.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers">63</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">64</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">65</span>                <span class="tag">&lt;groupId&gt;</span>io.openliberty.tools<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">66</span>                <span class="tag">&lt;artifactId&gt;</span>liberty-maven-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">67</span>                <span class="tag">&lt;version&gt;</span>3.8.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers">68</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">69</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">70</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">71</span>                <span class="tag">&lt;artifactId&gt;</span>maven-failsafe-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">72</span>                <span class="tag">&lt;version&gt;</span>3.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers">73</span>                <span class="tag">&lt;configuration&gt;</span>
<span class="line-numbers">74</span>                    <span class="comment">&lt;!-- tag::systemPropertyVariables[] --&gt;</span>
<span class="line-numbers">75</span>                    <span class="tag">&lt;systemPropertyVariables&gt;</span>
<span class="line-numbers">76</span>                        <span class="tag">&lt;http.port&gt;</span>${liberty.var.default.http.port}<span class="tag">&lt;/http.port&gt;</span>
<span class="line-numbers">77</span>                        <span class="tag">&lt;system.host&gt;</span>localhost<span class="tag">&lt;/system.host&gt;</span>
<span class="line-numbers">78</span>                    <span class="tag">&lt;/systemPropertyVariables&gt;</span>
<span class="line-numbers">79</span>                    <span class="comment">&lt;!-- end::systemPropertyVariables[] --&gt;</span>
<span class="line-numbers">80</span>                <span class="tag">&lt;/configuration&gt;</span>
<span class="line-numbers">81</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">82</span>        <span class="tag">&lt;/plugins&gt;</span>
<span class="line-numbers">83</span>    <span class="tag">&lt;/build&gt;</span>
<span class="line-numbers">84</span><span class="tag">&lt;/project&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>See the following descriptions of the test cases:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code class="hotspot=testQuerySystem file=0">testQuerySystem()</code> verifies the <code>/query/systems/{hostname}</code> endpoint.</p>
</li>
<li>
<p><code class="hotspot=testUnknownHost file=0">testUnknownHost()</code> verifies that an unknown host or a host that does not expose their JVM system properties is correctly handled with a fail message.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="running-the-tests-in-the-development-environment">Running the tests in the development environment</h3>
<div class="paragraph">
<p>First, test the application under the <code>development</code> environment.</p>
</div>
<div class="paragraph">
<p>Because you started Open Liberty in dev mode, you can run the tests by pressing the enter/return key from the command-line session where you started the <code>query</code> service. If the tests pass, you see output similar to the following example:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre class="CodeRay highlight"><code>-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running it.io.openliberty.guides.query.QueryEndpointIT
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.703 s - in it.io.openliberty.guides.query.QueryEndpointIT

Results:

Tests run: 2, Failures: 0, Errors: 0, Skipped: 0</code></pre>
</div>
</div>
<div class="paragraph">
<p>When you are done checking out the application in <code>development</code> environment, exit dev mode by pressing <code>CTRL+C</code> in the command-line sessions where you ran the <code>system</code> and <code>query</code> services, or by typing <code>q</code> and then pressing the <code>enter/return</code> key.</p>
</div>
<div class="paragraph">
<p>scripts/testApp.sh|.bat</p>
</div>
<div class="listingblock code_column">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="XML"><span class="line-numbers"> 1</span>#!/bin/bash
<span class="line-numbers"> 2</span>
<span class="line-numbers"> 3</span># tag::build[]
<span class="line-numbers"> 4</span>mvn -pl system -ntp clean package liberty:create liberty:install-feature liberty:deploy
<span class="line-numbers"> 5</span>mvn -pl query -ntp clean package liberty:create liberty:install-feature liberty:deploy
<span class="line-numbers"> 6</span># end::build[]
<span class="line-numbers"> 7</span>
<span class="line-numbers"> 8</span># tag::start[]
<span class="line-numbers"> 9</span># tag::start-system[]
<span class="line-numbers">10</span>mvn -pl system -ntp -P testing liberty:start
<span class="line-numbers">11</span># end::start-system[]
<span class="line-numbers">12</span># tag::start-query[]
<span class="line-numbers">13</span>mvn -pl query -ntp -Dliberty.var.mp.config.profile="testing" liberty:start
<span class="line-numbers">14</span># end::start-query[]
<span class="line-numbers">15</span># end::start[]
<span class="line-numbers">16</span>
<span class="line-numbers">17</span># tag::test[]
<span class="line-numbers">18</span>mvn -pl system -ntp -P testing failsafe:integration-test
<span class="line-numbers">19</span>mvn -pl query -ntp failsafe:integration-test
<span class="line-numbers">20</span># end::test[]
<span class="line-numbers">21</span>
<span class="line-numbers">22</span># tag::stop[]
<span class="line-numbers">23</span>mvn -pl query -ntp liberty:stop
<span class="line-numbers">24</span>mvn -pl system -ntp liberty:stop
<span class="line-numbers">25</span># end::stop[]</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="running-the-tests-in-the-testing-environment">Running the tests in the testing environment</h3>
<div class="paragraph">
<p>Now, navigate to the <code>start</code> directory.</p>
</div>
<div class="paragraph">
<p>Test the application under the <code>testing</code> environment by running the following script that contains different Maven goals to <code class="hotspot=build file=0">build</code>, <code class="hotspot=start file=0">start</code>, <code class="hotspot=test file=0">test</code>, and <code class="hotspot=stop file=0">stop</code> the services. Note that the <code>system</code> service starts with the Maven <code class="hotspot=start-system file=0">testing</code> profile and the <code>query</code> service uses the MicroProfile Config <code class="hotspot=start-query file=0">testing</code> profile that is provided for you at the <code>query/src/main/resources/META-INF/microprofile-config-testing.properties</code> file.</p>
</div>
<div class="paragraph tab_link windows_link">
<p><code><strong>WINDOWS</strong></code></p>
</div>
<div class="paragraph tab_link mac_link">
<p><code><strong>MAC</strong></code></p>
</div>
<div class="paragraph tab_link linux_link">
<p><code><strong>LINUX</strong></code></p>
</div>
<div class="openblock tab_content mac_section linux_section">
<div class="content">
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>./scripts/testApp.sh</code></pre>
</div>
</div>
</div>
</div>
<div class="openblock tab_content windows_section">
<div class="content">
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>scripts\testApp.bat</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>If the tests pass, you see output similar to the following example:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre class="CodeRay highlight"><code>-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running it.io.openliberty.guides.system.SystemEndpointIT
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.539 s - in it.io.openliberty.guides.system.SystemEndpointIT

Results:

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0

...

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running it.io.openliberty.guides.query.QueryEndpointIT
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.706 s - in it.io.openliberty.guides.query.QueryEndpointIT

Results:

Tests run: 2, Failures: 0, Errors: 0, Skipped: 0</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="great-work-youre-done">Great work! You’re done!</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You learned how to use the config profile feature in MicroProfile Config to configure the application for multiple environments.</p>
</div>
<div class="paragraph">
<p>Feel free to try one of the related guides. They demonstrate new technologies that you can learn to expand on what you built in this guide.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="guide-attribution">Guide Attribution</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Configuring microservices for multiple environments <span class="licensedClass">by</span> Open Liberty <span class="licensedClass">is licensed under</span> CC BY-ND 4.0</p>
</div>
</div>
</div>
    </div>
  </div>

  <!-- Code section -->
  <div id="code_column" class="position_relative" tabindex="0">
    <div id="code_column_title_container">
      <div id="code_column_tabs_container" class="dimmed">
        <ul id="code_column_tabs" class="nav" role="tablist"></ul>
      </div>
      <div class="copyFileButton" tabindex="0">
        <img src="/img/guides_copy_button.svg" alt="Copy file contents" title="Copy file contents">
        <div id="code_section_copied_confirmation">Copied to clipboard </div>
      </div>
    </div>
    <div id="code_column_content"></div>

    <div id="prereqs_container">
      <p id="prereqs_title">Prerequisites:</p>
      <div class="prereqs_list"></div>
      <div class="skills_network_container">
        <div class="skills_network_description"></div>
      </div>
    </div>

    <button id="dismiss_button" aria-label="Back to text" tabindex="0">
      Back to text
    </button>
  </div>
</div>

<!-- Build a list of all the documents in the guides code base -->






<!-- Remove any documents deemed private (archived, templates, etc) -->


<!-- Count number of guides from past 30 days-->


    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    


<!-- Sort list of guides by date with most recent first -->





<div id="end_of_guide">
        <h2 tabindex="0">Nice work! Where to next?</h2>
        <div id="end_of_guide_left_section">
            <p id="guide_attribution"></p>
            
            <h3 id="feedback_rating_question">What did you think of this guide?</h3>
            <div id="feedback_ratings">
                <img class="guide_rating" id="extreme_dislike" src="/img/1_Extreme_Dislike.png" onclick="$('#dislike_popup').show(); $('.popup_content').focus();" alt="Extreme Dislike" data-guide-rating="1" tabindex="0" aria-label="Rate this guide as extreme dislike">
                <img class="guide_rating" id="dislike" src="/img/2_Dislike.png" onclick="$('#dislike_popup').show(); $('.popup_content').focus();" alt="Dislike" data-guide-rating="2" tabindex="0" aria-label="Rate this guide as dislike">
                <img class="guide_rating" id="like" src="/img/3_Like.png" onclick="$('#like_popup').show(); $('.popup_content').focus();" alt="Like" data-guide-rating="3" tabindex="0" aria-label="Rate this guide as like">
                <img class="guide_rating" id="extreme_like" src="/img/4_Extreme_Like.png" onclick="$('#like_popup').show(); $('.popup_content').focus();" alt="Extreme Like" data-guide-rating="4" tabindex="0" aria-label="Rate this guide as extreme like">
            </div>

            <div id="like_popup" class="popup">
                <div class="popup_content" tabindex="0">
                    <p class="popup_title">Thank you for your feedback!</p>
                    <button id="close_button" class="popup_button" onclick="$('#like_popup').hide();">Close</button>
                </div>
            </div>

            <div id="dislike_popup" class="popup">
                <div class="popup_content" tabindex="0">
                    <p class="popup_title">Thank you for your feedback!</p>
                    <p id="open_issue">Would you like to open an issue in GitHub?</p>
                    
                        <a href="https://github.com/OpenLiberty/guide-microprofile-config-profile/issues/new" target="_blank" id="yes_button" class="popup_button" onclick="$('#dislike_popup').hide();" rel="noopener noreferrer">Yes</a>
                    
                    <button id="no_button" class="popup_button" onclick="$('#dislike_popup').hide();">No, thank you</button>
                </div>
            </div>

            <h3 id="improve_guide_feedback">What could make this guide better?</h3>
            
                <p><a target="_blank" rel="noopener noreferrer" href="https://github.com/OpenLiberty/guide-microprofile-config-profile/issues">Raise an issue</a> to share feedback</p>
                <p><a target="_blank" rel="noopener noreferrer" href="https://github.com/OpenLiberty/guide-microprofile-config-profile/pulls">Create a pull request</a> to contribute to this guide</p>
            

            <h3 id="need_help">Need help?</h3>
            <p><a target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/questions/tagged/open-liberty">Ask a question on Stack Overflow</a></p>

            <h3>Like Open Liberty? Star our repo on GitHub.</h3>
            <a class="github-button" href="https://github.com/OpenLiberty/open-liberty" data-icon="octicon-star" aria-label="Star OpenLiberty/open-liberty on GitHub" target="_blank" rel="noopener noreferrer">Star</a>
        </div>
        <div id="end_of_guide_right_section">
            <h3 id="where_to_next">Where to next?</h3>

            
            

            <!-- Related guides section -->
            
            <div id="related-guides">
                <div id="related-guides-cards" class="row">
                
                    
                    
                    
                        <!-- Only create a card if we find the permalink -->
                        
                        <div class="col-sm-12 col-lg-6">
                            <a href="/zh-Hans/guides/microprofile-config-intro.html" class="small_guide_item">
                                <div class="guide_title_container">
                                    <h3 class="guide_title">Separating configuration from code in microservices</h3>
                                </div>
                                <img class="duration_clock_icon" src="/img/guide_duration_clock_icon_small.svg" alt="Duration">
                                <span class="guide_duration">25 minutes</span>

                                <!-- Add New flag to guides from the past 30 days or 4 most recent posts. -->
                                <!-- If new posts count is less than 4, use 4 most recent posts -->
                                
                                    
                                <!-- If new posts count is >= 4, use posts from last 30 days-->
                                
                                <!-- Add Updated flag to guides if the last major update is within last 12 weeks. -->
                                <!-- Count number of guides from past last 12 weeks that is 84 days-->
                                <!-- 7257600 is 84 days in seconds (84 days * 24 hours * 60 minutes * 60 seconds) -->
                                
                                
                                    <div class="guide_interactive_container">
                                        <img class="interactive_bolt_icon" src="/img/guide_lightning_bolt.svg" alt="Interactive">
                                        <span class="guide_interactive">Interactive</span>
                                    </div>
                                
                            </a>
                        </div>
                    
                
                    
                    
                    
                        <!-- Only create a card if we find the permalink -->
                        
                        <div class="col-sm-12 col-lg-6">
                            <a href="/zh-Hans/guides/microprofile-config-apis.html" class="small_guide_item">
                                <div class="guide_title_container">
                                    <h3 class="guide_title">Optimizing configuration for microservices</h3>
                                </div>
                                <img class="duration_clock_icon" src="/img/guide_duration_clock_icon_small.svg" alt="Duration">
                                <span class="guide_duration">25 minutes</span>

                                <!-- Add New flag to guides from the past 30 days or 4 most recent posts. -->
                                <!-- If new posts count is less than 4, use 4 most recent posts -->
                                
                                    
                                <!-- If new posts count is >= 4, use posts from last 30 days-->
                                
                                <!-- Add Updated flag to guides if the last major update is within last 12 weeks. -->
                                <!-- Count number of guides from past last 12 weeks that is 84 days-->
                                <!-- 7257600 is 84 days in seconds (84 days * 24 hours * 60 minutes * 60 seconds) -->
                                
                                
                            </a>
                        </div>
                    
                
                </div>
            </div>
            
        </div>
    </div>



    </main>

    



<footer>
    <div id="footer_gray_background">
        <div id="footer_top_container" class="footer_container container-fluid">
            <div id="footer_project_container">
                <span id="footer_open_liberty"></span>
                <p id="footer_project">IBM 开放式源代码项目</p>
            </div>
            <div id="footer_round_links_container">
                <a id="footer_github_link" class="footer_round_btn" href="https://github.com/OpenLiberty/" target="_blank" rel="noopener noreferrer" aria-label="Github"></a>
                <a id="footer_twitter_link" class="footer_round_btn" href="https://twitter.com/OpenLibertyIO" target="_blank" rel="noopener noreferrer" aria-label="Twitter"></a>
                <a id="footer_stackoverflow_link" class="footer_round_btn" href="https://stackoverflow.com/questions/tagged/open-liberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty questions on Stack Overflow"></a>
                <a id="footer_groupsio_link" class="footer_round_btn" href="https://groups.io/g/openliberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty Groups.io"></a>
                <a id="footer_gitter_link" class="footer_round_btn" href="https://app.gitter.im/#/room/#OpenLiberty_development:gitter.im" target="_blank" rel="noopener" aria-label="Open Liberty Gitter"></a>
            </div>
        </div>         
    </div>

    <div id="footer_bottom_container" class="footer_container container-fluid">
        <div id="footer_bottom_left_section">
            <p id="footer_copyright">© Copyright IBM Corp. 2017, 2023</p>
            <p class="vertical_bar">|</p>
            <a id="footer_privacy_policy_link" href="https://www.ibm.com/privacy/" target="_blank" rel="noopener noreferrer" class="left_footer_link">隐私策略</a>
            <p class="vertical_bar">|</p>
            <a id="footer_license_link" href="https://github.com/OpenLiberty/open-liberty/blob/release/LICENSE" target="_blank" rel="noopener noreferrer" class="left_footer_link">许可证</a>
            <p class="vertical_bar">|</p>
            <a id="footer_logos_link" href="https://github.com/OpenLiberty/logos" target="_blank" rel="noopener noreferrer" class="left_footer_link">洛戈斯</a>
        </div>
        <div id="footer_bottom_right_section">
            <a id="footer_docs_link" href="/docs" aria-label="Open Liberty Docs" class="right_footer_link blue_link_light_background">文档</a>
            <a id="footer_blog_link" href="/blog" aria-label="Open Liberty Blog" class="right_footer_link blue_link_light_background">博客</a>
            <a id="footer_support_link" href="/support" aria-label="Open Liberty Support" class="right_footer_link blue_link_light_background">支持</a>
        </div>
    </div>
</footer>

<!-- PRE-LOADED IMAGES FOR ON HOVER BEHAVIOR -->
<div class="d-none hidden">
    <img src="/img/Footer_GitCat_Hover.svg" alt="OpenLiberty Github link">
    <img src="/img/Footer_TwitterBird_Hover.svg" alt="OpenLibertyIO Twitter link">
    <img src="/img/Footer_StackO_Hover.svg" alt="Open-liberty Stack Overflow link">
    <img src="/img/Footer_GroupsIO_Hover.svg" alt="Openliberty Groups IO link">
    <img src="/img/footer_gitter_hover.svg" alt="Openliberty Gitter link">
</div>

    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js" integrity="sha512-lzilC+JFd6YV8+vQRNRtU7DOqv5Sa9Ek53lXt/k91HZTJpytHS1L6l1mMKR9K6VVoDt4LiEXaa6XBrYk1YhGTQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>


<script type="text/javascript" src="/zh-Hans/assets/devEnvironment.js"></script>




  <script type="text/javascript" src="/zh-Hans/assets/guide-common.js"></script>

  <script type="text/javascript" src="/zh-Hans/assets/toc.js"></script>

  <script type="text/javascript" src="/zh-Hans/assets/tabs.js"></script>

  <script type="text/javascript" src="/zh-Hans/assets/guide-static.js"></script>

  <script type="text/javascript" src="/zh-Hans/assets/guide-multipane-static.js"></script>


<script type="text/javascript" src="/zh-Hans/assets/openliberty.js"></script>

  </body>

</html>
