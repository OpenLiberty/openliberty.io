<!DOCTYPE html>
<html lang="zh-Hans">

  





<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>
    
      Testing microservices with Arquillian managed container
    
  </title>
  <meta name="description" content="A tutorial on how to test your microservices with the Arquillian managed container for Open Liberty">

  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
  

  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  
  <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/openliberty.css">
  <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/coderay-custom.css">

  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/header.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/header-dark.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/toc-multipane-static.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/end-of-guide.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/guide-card.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/tabs.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/guide-common.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/guide-multipane.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/guide-multipane-static.css">
  

  

  

  <link rel="canonical" href="https://openliberty.io/zh-Hans/guides/arquillian-managed">
  <link rel="alternate" type="application/rss+xml" title="Open Liberty" href="/zh-Hans/feed.xml">
  <link href="https://fonts.googleapis.com/css?family=Asap:400,500" rel="stylesheet">
    
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@OpenLibertyIO" />
  <meta name="twitter:title" content="Testing microservices with Arquillian managed container" />
  <meta name="twitter:description" content="A tutorial on how to test your microservices with the Arquillian managed container for Open Liberty" />

  <meta property='og:title' content="Testing microservices with Arquillian managed container" />
  <meta property='og:image' content="https://openliberty.io/img/twitter_card.jpg" />
  <meta property='og:image:alt' content="Open Liberty Logo" />
  <meta property='og:description' content="A tutorial on how to test your microservices with the Arquillian managed container for Open Liberty" />
  <meta property='og:url' content="https://openliberty.io/zh-Hans/guides/arquillian-managed" />
  <meta property='og:type' content="website" />
  
  <meta name="google-site-verification" content="h2P030H9b66CyL1nEmWfrZB8Fr14h9LmVMG7Ur0caBs" />

  
      <meta name="robots" content="noindex" />
  

  <script async defer src="https://buttons.github.io/buttons.js"></script>
</head>


  <body>
    
    

    


<!--  -->

<header>
    <nav id="nav_bar">
        <div id="nav_header">
            <a id="home_link" href="/" aria-label="Open Liberty Home">
                <img id="ol_logo" src="/img/docs_openliberty_logo.png" alt="Open Liberty Logo">
            </a>
            <button id="hamburger_toggle_button" onclick="$('#nav_bar').toggleClass('responsive');">
                <span id="hamburger_toggle_icon"></span>
            </button>
        </div>
        <div id="hamburger_menu">
            <ul class="nav_list">
                <li class="nav_link">
                    <a href="/start/">入门</a>
                </li>
                <li class="nav_link">
                    <a href="/guides/">指南</a>
                </li>
                <li class="nav_link">
                    <a href="/docs/">文档</a>
                </li>
                <li class="nav_link">
                    <a href="/support/">支持</a>
                </li>
                <li class="nav_link">
                    <a href="/blog/">博客</a>
                </li>
            </ul>
            <div id="header_round_links_container"> 
                <a id="header_twitter_link" class="header_round_button" href="https://twitter.com/OpenLibertyIO" target="_blank" rel="noopener noreferrer" aria-label="Twitter"></a>
                <a id="header_stackoverflow_link" class="header_round_button" href="https://stackoverflow.com/questions/tagged/open-liberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty questions on Stack Overflow"></a>
                <a id="header_groupsio_link" class="header_round_button" href="https://groups.io/g/openliberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty Groups.io"></a>
                <a id="header_gitter_link" class="header_round_button" href="https://app.gitter.im/#/room/#OpenLiberty_development:gitter.im" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty Gitter"></a>
            </div>
        </div>

    </nav>
</header>


    <main aria-label="Content">

      <!-- Build a list of all the documents in the guides code base -->
  
 

<!-- Remove any documents deemed private (archived, templates, etc) -->


<!-- Count number of guides from past 30 days-->
<!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
 

<!-- Sort list of guides by date with most recent first -->


<div id="background_container">
  <div id="toc_hotspot"></div>
  <!-- Guide's table of contents section -->
  <div id="toc_column" class="collapse inline open">
    <div id="toc_inner">
       
      <div id="close_container">
        <img id="toc_close_white" src="/img/toc_close_white.svg" alt="Close the table of contents" tabindex="0">
      </div>
      <h3 id="toc_title">Contents</h3>
      <div id="toc_container"><ul class="sectlevel1">
<li><a href="#what-youll-learn">What you’ll learn</a></li>
<li><a href="#getting-started">Getting started</a></li>
<li><a href="#developing-arquillian-tests">Developing Arquillian tests</a></li>
<li>
<a href="#configuring-arquillian-with-liberty">Configuring Arquillian with Liberty</a>
<ul class="sectlevel2">
<li><a href="#configuring-your-test-build">Configuring your test build</a></li>
<li><a href="#configuring-libertys-server-xml-configuration-file">Configuring Liberty’s <code>server.xml</code> configuration file</a></li>
</ul>
</li>
<li><a href="#running-the-tests">Running the tests</a></li>
<li><a href="#great-work-youre-done">Great work! You’re done!</a></li>
<li><a href="#guide-attribution">Guide Attribution</a></li>
</ul></div>
      <div id="toc_separator"></div>
      
      <h3 id="tag_title">标签</h3>
      <div id="tags_container"></div>
    </div>
  </div>
  <div id="toc_indicator" tabindex="0" aria-label="Open the table of contents" class="hidden">
    <img src="/img/arrow_white.svg" alt="arrow">
  </div>
  <div id="toc_line" class="open"></div>
  <!-- Entire guide section -->
  <div id="guide_column" class="position_relative open">
    <div id="guide_content">
      <!-- Guide header section -->
      <div id="guide_meta" class="sect1" tabindex="0">
        <h1 id="guide_title">Testing microservices with the Arquillian managed container</h1>
        <div id="duration_container">
          <img src="/img/guide_duration_clock_icon_large.svg" alt="duration">
          <span id="guide_duration">15 minutes</span>

          <!-- Add New flag to guides from the past 30 days or 4 most recent posts. -->
          <!-- If new posts count is less than 4, use 4 most recent posts -->
           
          <!-- If new posts count is >= 4, use posts from last 30 days-->
          
          <!-- Add Updated flag to guides if the last major update is within last 12 weeks. -->
          <!-- Count number of guides from past last 12 weeks that is 84 days-->
          <!-- 7257600 is 84 days in seconds (84 days * 24 hours * 60 minutes * 60 seconds) -->
          
        </div>
        <div id="mobile_prereqs_section">
          <p id="mobile_prereqs_title">Prerequisites:</p>
          <div class="prereqs_list"></div>
          <div class="skills_network_container">
            <div class="skills_network_description"></div>
          </div>
        </div>
      </div>

      <div class="scroller_anchor"></div>
      <div id="mobile_toc_accordion_container" data-toggle="collapse" data-target="#toc_column" aria-expanded="false" aria-controls="toc_column" role="button">
        <div role="menuitem" id="mobile_toc_accordion">
          <button class="breadcrumb_hamburger toc-toggle collapsed" type="button" tabindex="0">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <img src="/img/toc_close_green.svg" class="TOC_Close_SVG hidden img-responsive" alt="Table of contents close button">
          </button>
          <span>Table of contents</span>
        </div>
      </div>

      <!-- Guide content section -->
      <div id="preamble">
<div class="sectionbody">
<div class="admonitionblock note hidden">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This repository contains the guide documentation source. To view the guide in published form, view it on the <a href="https://openliberty.io/guides/arquillian-managed.html">Open Liberty website</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Learn how to develop tests for your microservices with the Arquillian managed container and run the tests on Open Liberty.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what-youll-learn">What you’ll learn</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You will learn how to develop tests for your microservices by using the <a href="https://github.com/OpenLiberty/liberty-arquillian/tree/master/liberty-managed" target="_blank" rel="noopener noreferrer">Arquillian Liberty Managed container</a> and JUnit with Maven on Open Liberty. <a href="http://arquillian.org/" target="_blank" rel="noopener noreferrer">Arquillian</a> is a testing framework to develop automated functional, integration and acceptance tests for your Java applications. Arquillian sets up the test environment and handles the application server lifecycle for you so you can focus on writing tests.</p>
</div>
<div class="paragraph">
<p>You will develop Arquillian tests that use JUnit as the runner and build your tests with Maven using the Liberty Maven plug-in. This technique simplifies the process of managing Arquillian dependencies and the setup of your Arquillian managed container.</p>
</div>
<div class="paragraph">
<p>You will work with an <code>inventory</code> microservice, which stores information about various systems. The <code>inventory</code> service communicates with the <code>system</code> service on a particular host to retrieve its system properties and store them. You will develop functional and integration tests for the microservices. You will also learn about the Maven and Liberty configurations so that you can run your tests on Open Liberty with the Arquillian Liberty Managed container.</p>
</div>
</div>
</div>
<div class="sect1 command">
<h2 id="getting-started">Getting started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The fastest way to work through this guide is to clone the <a href="https://github.com/openliberty/guide-arquillian-managed.git" target="_blank" rel="noopener noreferrer">Git repository</a> and use the projects that are provided inside:</p>
</div>
<div id="git_clone" class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>git clone https://github.com/openliberty/guide-arquillian-managed.git
cd guide-arquillian-managed</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>start</code> directory contains the starting project that you will build upon.</p>
</div>
<div class="paragraph">
<p>The <code>finish</code> directory contains the finished project that you will build.</p>
</div>
<div class="paragraph">
<p>Before you begin, make sure you have all the necessary <span class="prerequisites">prerequisites</span>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="developing-arquillian-tests">Developing Arquillian tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Navigate to the <code>start</code> directory to begin.</p>
</div>
<div class="paragraph">
<p>You’ll develop tests that use Arquillian and JUnit to verify the <code>inventory</code> microservice as an endpoint and the functions of the <code>InventoryResource</code> class. The code for the microservices is in the <code>src/main/java/io/openliberty/guides</code> directory.</p>
</div>
<div class="listingblock code_command">
<div class="content">
<pre><mark>Create the <code>InventoryArquillianIT</code> test class.</mark>
<code>src/test/java/it/io/openliberty/guides/inventory/InventoryArquillianIT.java</code></pre>
</div>
</div>
<div class="paragraph">
<p>InventoryArquillianIT.java</p>
</div>
<div class="listingblock code_column hide_tags=copyright">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="Java"><span class="line-numbers">  1</span><span class="comment">// tag::copyright[]</span>
<span class="line-numbers">  2</span><span class="comment">/*******************************************************************************</span>
<span class="line-numbers">  3</span><span class="comment"> * Copyright (c) 2019, 2022 IBM Corporation and others.</span>
<span class="line-numbers">  4</span><span class="comment"> * All rights reserved. This program and the accompanying materials</span>
<span class="line-numbers">  5</span><span class="comment"> * are made available under the terms of the Eclipse Public License 2.0</span>
<span class="line-numbers">  6</span><span class="comment"> * which accompanies this distribution, and is available at</span>
<span class="line-numbers">  7</span><span class="comment"> * http://www.eclipse.org/legal/epl-2.0/</span>
<span class="line-numbers">  8</span><span class="comment"> *</span>
<span class="line-numbers">  9</span><span class="comment"> * SPDX-License-Identifier: EPL-2.0</span>
<span class="line-numbers"> 10</span><span class="comment"> *******************************************************************************/</span>
<span class="line-numbers"> 11</span><span class="comment">// end::copyright[]</span>
<span class="line-numbers"> 12</span><span class="keyword">package</span> <span class="namespace">it.io.openliberty.guides.inventory</span>;
<span class="line-numbers"> 13</span>
<span class="line-numbers"> 14</span><span class="keyword">import</span> <span class="include">java.net.URL</span>;
<span class="line-numbers"> 15</span><span class="keyword">import</span> <span class="include">java.util.List</span>;
<span class="line-numbers"> 16</span>
<span class="line-numbers"> 17</span><span class="keyword">import</span> <span class="include">jakarta.inject.Inject</span>;
<span class="line-numbers"> 18</span><span class="keyword">import</span> <span class="include">jakarta.json.JsonObject</span>;
<span class="line-numbers"> 19</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.client.Client</span>;
<span class="line-numbers"> 20</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.client.ClientBuilder</span>;
<span class="line-numbers"> 21</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.client.WebTarget</span>;
<span class="line-numbers"> 22</span><span class="keyword">import</span> <span class="include">jakarta.ws.rs.core.Response</span>;
<span class="line-numbers"> 23</span>
<span class="line-numbers"> 24</span><span class="keyword">import</span> <span class="include">org.jboss.arquillian.container.test.api.Deployment</span>;
<span class="line-numbers"> 25</span><span class="keyword">import</span> <span class="include">org.jboss.arquillian.container.test.api.RunAsClient</span>;
<span class="line-numbers"> 26</span><span class="keyword">import</span> <span class="include">org.jboss.arquillian.junit.Arquillian</span>;
<span class="line-numbers"> 27</span><span class="keyword">import</span> <span class="include">org.jboss.arquillian.junit.InSequence</span>;
<span class="line-numbers"> 28</span><span class="keyword">import</span> <span class="include">org.jboss.arquillian.test.api.ArquillianResource</span>;
<span class="line-numbers"> 29</span><span class="keyword">import</span> <span class="include">org.jboss.shrinkwrap.api.ShrinkWrap</span>;
<span class="line-numbers"> 30</span><span class="keyword">import</span> <span class="include">org.jboss.shrinkwrap.api.spec.WebArchive</span>;
<span class="line-numbers"> 31</span><span class="keyword">import</span> <span class="include">org.junit.Assert</span>;
<span class="line-numbers"> 32</span><span class="keyword">import</span> <span class="include">org.junit.Test</span>;
<span class="line-numbers"> 33</span><span class="keyword">import</span> <span class="include">org.junit.runner.RunWith</span>;
<span class="line-numbers"> 34</span>
<span class="line-numbers"> 35</span><span class="keyword">import</span> <span class="include">io.openliberty.guides.inventory.InventoryResource</span>;
<span class="line-numbers"> 36</span><span class="keyword">import</span> <span class="include">io.openliberty.guides.inventory.model.InventoryList</span>;
<span class="line-numbers"> 37</span><span class="keyword">import</span> <span class="include">io.openliberty.guides.inventory.model.SystemData</span>;
<span class="line-numbers"> 38</span>
<span class="line-numbers"> 39</span><span class="comment">// tag::RunWith[]</span>
<span class="line-numbers"> 40</span><span class="annotation">@RunWith</span>(Arquillian.class)
<span class="line-numbers"> 41</span><span class="comment">// end::RunWith[]</span>
<span class="line-numbers"> 42</span><span class="directive">public</span> <span class="type">class</span> <span class="class">InventoryArquillianIT</span> {
<span class="line-numbers"> 43</span>
<span class="line-numbers"> 44</span>    <span class="comment">// tag::warName[]</span>
<span class="line-numbers"> 45</span>    <span class="directive">private</span> <span class="directive">static</span> <span class="directive">final</span> <span class="predefined-type">String</span> WARNAME = <span class="predefined-type">System</span>.getProperty(<span class="string"><span class="delimiter">"</span><span class="content">arquillian.war.name</span><span class="delimiter">"</span></span>);
<span class="line-numbers"> 46</span>    <span class="comment">// end::warName[]</span>
<span class="line-numbers"> 47</span>    <span class="directive">private</span> <span class="directive">final</span> <span class="predefined-type">String</span> INVENTORY_SYSTEMS = <span class="string"><span class="delimiter">"</span><span class="content">inventory/systems</span><span class="delimiter">"</span></span>;
<span class="line-numbers"> 48</span>    <span class="directive">private</span> Client client = ClientBuilder.newClient();
<span class="line-numbers"> 49</span>
<span class="line-numbers"> 50</span>    <span class="comment">// tag::Deployment[]</span>
<span class="line-numbers"> 51</span>    <span class="comment">// tag::Testable[]</span>
<span class="line-numbers"> 52</span>    <span class="annotation">@Deployment</span>(testable = <span class="predefined-constant">true</span>)
<span class="line-numbers"> 53</span>    <span class="comment">// end::Testable[]</span>
<span class="line-numbers"> 54</span>    <span class="directive">public</span> <span class="directive">static</span> WebArchive createDeployment() {
<span class="line-numbers"> 55</span>        <span class="comment">// tag::WebArchive[]</span>
<span class="line-numbers"> 56</span>        WebArchive archive = ShrinkWrap.create(WebArchive.class, WARNAME)
<span class="line-numbers"> 57</span>        <span class="comment">// end::WebArchive[]</span>
<span class="line-numbers"> 58</span>                                       .addPackages(<span class="predefined-constant">true</span>, <span class="string"><span class="delimiter">"</span><span class="content">io.openliberty.guides</span><span class="delimiter">"</span></span>);
<span class="line-numbers"> 59</span>        <span class="keyword">return</span> archive;
<span class="line-numbers"> 60</span>    }
<span class="line-numbers"> 61</span>    <span class="comment">// end::Deployment[]</span>
<span class="line-numbers"> 62</span>
<span class="line-numbers"> 63</span>    <span class="comment">// tag::ArquillianResource[]</span>
<span class="line-numbers"> 64</span>    <span class="annotation">@ArquillianResource</span>
<span class="line-numbers"> 65</span>    <span class="comment">// end::ArquillianResource[]</span>
<span class="line-numbers"> 66</span>    <span class="directive">private</span> <span class="predefined-type">URL</span> baseURL;
<span class="line-numbers"> 67</span>
<span class="line-numbers"> 68</span>    <span class="comment">// tag::InventoryResource[]</span>
<span class="line-numbers"> 69</span>    <span class="annotation">@Inject</span>
<span class="line-numbers"> 70</span>    InventoryResource invSrv;
<span class="line-numbers"> 71</span>    <span class="comment">// end::InventoryResource[]</span>
<span class="line-numbers"> 72</span>
<span class="line-numbers"> 73</span>    <span class="annotation">@Test</span>
<span class="line-numbers"> 74</span>    <span class="comment">// tag::RunAsClient[]</span>
<span class="line-numbers"> 75</span>    <span class="annotation">@RunAsClient</span>
<span class="line-numbers"> 76</span>    <span class="comment">// end::RunAsClient[]</span>
<span class="line-numbers"> 77</span>    <span class="comment">// tag::InSequence1[]</span>
<span class="line-numbers"> 78</span>    <span class="annotation">@InSequence</span>(<span class="integer">1</span>)
<span class="line-numbers"> 79</span>    <span class="comment">// end::InSequence1[]</span>
<span class="line-numbers"> 80</span>    <span class="comment">// tag::testInventoryEndpoints[]</span>
<span class="line-numbers"> 81</span>    <span class="directive">public</span> <span class="type">void</span> testInventoryEndpoints() <span class="directive">throws</span> <span class="exception">Exception</span> {
<span class="line-numbers"> 82</span>        <span class="predefined-type">String</span> localhosturl = baseURL + INVENTORY_SYSTEMS + <span class="string"><span class="delimiter">"</span><span class="content">/localhost</span><span class="delimiter">"</span></span>;
<span class="line-numbers"> 83</span>
<span class="line-numbers"> 84</span>        WebTarget localhosttarget = client.target(localhosturl);
<span class="line-numbers"> 85</span>        Response localhostresponse = localhosttarget.request().get();
<span class="line-numbers"> 86</span>
<span class="line-numbers"> 87</span>        Assert.assertEquals(<span class="string"><span class="delimiter">"</span><span class="content">Incorrect response code from </span><span class="delimiter">"</span></span> + localhosturl, <span class="integer">200</span>,
<span class="line-numbers"> 88</span>                            localhostresponse.getStatus());
<span class="line-numbers"> 89</span>
<span class="line-numbers"> 90</span>        JsonObject localhostobj = localhostresponse.readEntity(JsonObject.class);
<span class="line-numbers"> 91</span>        Assert.assertEquals(<span class="string"><span class="delimiter">"</span><span class="content">The system property for the local and remote JVM </span><span class="delimiter">"</span></span>
<span class="line-numbers"> 92</span>                        + <span class="string"><span class="delimiter">"</span><span class="content">should match</span><span class="delimiter">"</span></span>, <span class="predefined-type">System</span>.getProperty(<span class="string"><span class="delimiter">"</span><span class="content">os.name</span><span class="delimiter">"</span></span>),
<span class="line-numbers"> 93</span>                            localhostobj.getString(<span class="string"><span class="delimiter">"</span><span class="content">os.name</span><span class="delimiter">"</span></span>));
<span class="line-numbers"> 94</span>
<span class="line-numbers"> 95</span>        <span class="predefined-type">String</span> invsystemsurl = baseURL + INVENTORY_SYSTEMS;
<span class="line-numbers"> 96</span>
<span class="line-numbers"> 97</span>        WebTarget invsystemstarget = client.target(invsystemsurl);
<span class="line-numbers"> 98</span>        Response invsystemsresponse = invsystemstarget.request().get();
<span class="line-numbers"> 99</span>
<span class="line-numbers">100</span>        Assert.assertEquals(<span class="string"><span class="delimiter">"</span><span class="content">Incorrect response code from </span><span class="delimiter">"</span></span> + localhosturl, <span class="integer">200</span>,
<span class="line-numbers">101</span>                            invsystemsresponse.getStatus());
<span class="line-numbers">102</span>
<span class="line-numbers">103</span>        JsonObject invsystemsobj = invsystemsresponse.readEntity(JsonObject.class);
<span class="line-numbers">104</span>
<span class="line-numbers">105</span>        <span class="type">int</span> expected = <span class="integer">1</span>;
<span class="line-numbers">106</span>        <span class="type">int</span> actual = invsystemsobj.getInt(<span class="string"><span class="delimiter">"</span><span class="content">total</span><span class="delimiter">"</span></span>);
<span class="line-numbers">107</span>        Assert.assertEquals(<span class="string"><span class="delimiter">"</span><span class="content">The inventory should have one entry for localhost</span><span class="delimiter">"</span></span>,
<span class="line-numbers">108</span>                            expected, actual);
<span class="line-numbers">109</span>        localhostresponse.close();
<span class="line-numbers">110</span>    }
<span class="line-numbers">111</span>    <span class="comment">// end::testInventoryEndpoints[]</span>
<span class="line-numbers">112</span>
<span class="line-numbers">113</span>    <span class="annotation">@Test</span>
<span class="line-numbers">114</span>    <span class="comment">// tag::InSequence2[]</span>
<span class="line-numbers">115</span>    <span class="annotation">@InSequence</span>(<span class="integer">2</span>)
<span class="line-numbers">116</span>    <span class="comment">// end::InSequence2[]</span>
<span class="line-numbers">117</span>    <span class="comment">// tag::testInventoryResourceFunctions[]</span>
<span class="line-numbers">118</span>    <span class="directive">public</span> <span class="type">void</span> testInventoryResourceFunctions() {
<span class="line-numbers">119</span>        <span class="comment">// Listing the inventory contents that were stored in the previous test</span>
<span class="line-numbers">120</span>        <span class="comment">// tag::listContents[]</span>
<span class="line-numbers">121</span>        InventoryList invList = invSrv.listContents();
<span class="line-numbers">122</span>        <span class="comment">// end::listContents[]</span>
<span class="line-numbers">123</span>        Assert.assertEquals(<span class="integer">1</span>, invList.getTotal());
<span class="line-numbers">124</span>
<span class="line-numbers">125</span>        <span class="predefined-type">List</span>&lt;SystemData&gt; systemDataList = invList.getSystems();
<span class="line-numbers">126</span>        Assert.assertTrue(systemDataList.get(<span class="integer">0</span>).getHostname().equals(<span class="string"><span class="delimiter">"</span><span class="content">localhost</span><span class="delimiter">"</span></span>));
<span class="line-numbers">127</span>
<span class="line-numbers">128</span>        Assert.assertTrue(systemDataList.get(<span class="integer">0</span>).getProperties().get(<span class="string"><span class="delimiter">"</span><span class="content">os.name</span><span class="delimiter">"</span></span>)
<span class="line-numbers">129</span>                                        .equals(<span class="predefined-type">System</span>.getProperty(<span class="string"><span class="delimiter">"</span><span class="content">os.name</span><span class="delimiter">"</span></span>)));
<span class="line-numbers">130</span>    }
<span class="line-numbers">131</span>    <span class="comment">// end::testInventoryResourceFunctions[]</span>
<span class="line-numbers">132</span>}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice that the JUnit Arquillian runner runs the tests instead of the standard JUnit runner. The <code class="hotspot=RunWith file=0">@RunWith</code> annotation preceding the class tells JUnit to run the tests by using Arquillian.</p>
</div>
<div class="paragraph">
<p>The method annotated by <code class="hotspot=Deployment file=0">@Deployment</code> defines the content of the web archive, which is going to be deployed onto the Open Liberty. The tests are either run on or against the Liberty instance. The <code class="hotspot=Testable file=0">testable = true</code> attribute enables the deployment to run the tests "in container", that is the tests are run on the Liberty instance.</p>
</div>
<div class="paragraph">
<p>pom.xml</p>
</div>
<div class="listingblock code_column">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="line-numbers">  1</span><span class="preprocessor">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="line-numbers">  2</span><span class="tag">&lt;project</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0</span><span class="delimiter">"</span></span>
<span class="line-numbers">  3</span>    <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">"</span></span>
<span class="line-numbers">  4</span>    <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0 </span></span>
<span class="line-numbers">  5</span><span class="string">    <span class="content">http://maven.apache.org/xsd/maven-4.0.0.xsd</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers">  6</span>
<span class="line-numbers">  7</span>    <span class="tag">&lt;modelVersion&gt;</span>4.0.0<span class="tag">&lt;/modelVersion&gt;</span>
<span class="line-numbers">  8</span>
<span class="line-numbers">  9</span>    <span class="tag">&lt;groupId&gt;</span>io.openliberty.guides<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 10</span>    <span class="tag">&lt;artifactId&gt;</span>guide-arquillian-managed<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 11</span>    <span class="tag">&lt;version&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 12</span>    <span class="tag">&lt;packaging&gt;</span>war<span class="tag">&lt;/packaging&gt;</span>
<span class="line-numbers"> 13</span>
<span class="line-numbers"> 14</span>    <span class="tag">&lt;properties&gt;</span>
<span class="line-numbers"> 15</span>        <span class="tag">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.build.sourceEncoding&gt;</span>
<span class="line-numbers"> 16</span>        <span class="tag">&lt;project.reporting.outputEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.reporting.outputEncoding&gt;</span>
<span class="line-numbers"> 17</span>        <span class="tag">&lt;maven.compiler.source&gt;</span>11<span class="tag">&lt;/maven.compiler.source&gt;</span>
<span class="line-numbers"> 18</span>        <span class="tag">&lt;maven.compiler.target&gt;</span>11<span class="tag">&lt;/maven.compiler.target&gt;</span>
<span class="line-numbers"> 19</span>        <span class="comment">&lt;!-- Liberty configuration --&gt;</span>
<span class="line-numbers"> 20</span>        <span class="tag">&lt;liberty.var.default.http.port&gt;</span>9080<span class="tag">&lt;/liberty.var.default.http.port&gt;</span>
<span class="line-numbers"> 21</span>        <span class="tag">&lt;liberty.var.default.https.port&gt;</span>9443<span class="tag">&lt;/liberty.var.default.https.port&gt;</span>
<span class="line-numbers"> 22</span>        <span class="comment">&lt;!-- arquillian configuration --&gt;</span>
<span class="line-numbers"> 23</span>        <span class="comment">&lt;!-- tag::ArquillianWarName[] --&gt;</span>
<span class="line-numbers"> 24</span>        <span class="tag">&lt;arquillian.war.name&gt;</span>arquillian-managed<span class="tag">&lt;/arquillian.war.name&gt;</span>
<span class="line-numbers"> 25</span>        <span class="comment">&lt;!-- end::ArquillianWarName[] --&gt;</span>
<span class="line-numbers"> 26</span>    <span class="tag">&lt;/properties&gt;</span>
<span class="line-numbers"> 27</span>
<span class="line-numbers"> 28</span>    <span class="tag">&lt;dependencyManagement&gt;</span>
<span class="line-numbers"> 29</span>        <span class="tag">&lt;dependencies&gt;</span>
<span class="line-numbers"> 30</span>            <span class="comment">&lt;!-- tag::arquillian-bom[] --&gt;</span>
<span class="line-numbers"> 31</span>            <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 32</span>                <span class="tag">&lt;groupId&gt;</span>org.jboss.arquillian<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 33</span>                <span class="tag">&lt;artifactId&gt;</span>arquillian-bom<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 34</span>                <span class="tag">&lt;version&gt;</span>1.6.0.Final<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 35</span>                <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
<span class="line-numbers"> 36</span>                <span class="tag">&lt;scope&gt;</span>import<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 37</span>            <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 38</span>            <span class="comment">&lt;!-- end::arquillian-bom[] --&gt;</span>
<span class="line-numbers"> 39</span>        <span class="tag">&lt;/dependencies&gt;</span>
<span class="line-numbers"> 40</span>    <span class="tag">&lt;/dependencyManagement&gt;</span>
<span class="line-numbers"> 41</span>
<span class="line-numbers"> 42</span>    <span class="tag">&lt;dependencies&gt;</span>
<span class="line-numbers"> 43</span>        <span class="comment">&lt;!-- Provided dependencies --&gt;</span>
<span class="line-numbers"> 44</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 45</span>            <span class="tag">&lt;groupId&gt;</span>jakarta.platform<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 46</span>            <span class="tag">&lt;artifactId&gt;</span>jakarta.jakartaee-api<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 47</span>            <span class="tag">&lt;version&gt;</span>10.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 48</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 49</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 50</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 51</span>            <span class="tag">&lt;groupId&gt;</span>org.eclipse.microprofile<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 52</span>            <span class="tag">&lt;artifactId&gt;</span>microprofile<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 53</span>            <span class="tag">&lt;version&gt;</span>6.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 54</span>            <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
<span class="line-numbers"> 55</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 56</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 57</span>        <span class="comment">&lt;!-- For tests --&gt;</span>
<span class="line-numbers"> 58</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 59</span>            <span class="tag">&lt;groupId&gt;</span>junit<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 60</span>            <span class="tag">&lt;artifactId&gt;</span>junit<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 61</span>            <span class="tag">&lt;version&gt;</span>4.13.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 62</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 63</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 64</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 65</span>            <span class="tag">&lt;groupId&gt;</span>org.jboss.resteasy<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 66</span>            <span class="tag">&lt;artifactId&gt;</span>resteasy-client<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 67</span>            <span class="tag">&lt;version&gt;</span>6.2.3.Final<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 68</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 69</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 70</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 71</span>            <span class="tag">&lt;groupId&gt;</span>org.jboss.resteasy<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 72</span>            <span class="tag">&lt;artifactId&gt;</span>resteasy-json-binding-provider<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 73</span>            <span class="tag">&lt;version&gt;</span>6.2.3.Final<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 74</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 75</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 76</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 77</span>            <span class="tag">&lt;groupId&gt;</span>org.glassfish<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 78</span>            <span class="tag">&lt;artifactId&gt;</span>jakarta.json<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 79</span>            <span class="tag">&lt;version&gt;</span>2.0.1<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 80</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 81</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 82</span>        <span class="comment">&lt;!-- For JDK 9 &amp; above Support --&gt;</span>
<span class="line-numbers"> 83</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 84</span>            <span class="tag">&lt;groupId&gt;</span>javax.xml.bind<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 85</span>            <span class="tag">&lt;artifactId&gt;</span>jaxb-api<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 86</span>            <span class="tag">&lt;version&gt;</span>2.3.1<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 87</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 88</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 89</span>            <span class="tag">&lt;groupId&gt;</span>javax.activation<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 90</span>            <span class="tag">&lt;artifactId&gt;</span>activation<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 91</span>            <span class="tag">&lt;version&gt;</span>1.1.1<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 92</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 93</span>        <span class="comment">&lt;!-- tag::arquillian-liberty-managed-junit[] --&gt;</span>
<span class="line-numbers"> 94</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 95</span>            <span class="tag">&lt;groupId&gt;</span>io.openliberty.arquillian<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 96</span>            <span class="tag">&lt;artifactId&gt;</span>arquillian-liberty-managed-jakarta-junit<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 97</span>            <span class="tag">&lt;version&gt;</span>2.1.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 98</span>            <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
<span class="line-numbers"> 99</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers">100</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers">101</span>        <span class="comment">&lt;!-- end::arquillian-liberty-managed-junit[] --&gt;</span>
<span class="line-numbers">102</span>        <span class="comment">&lt;!-- tag::shrinkwrap-api[] --&gt;</span>
<span class="line-numbers">103</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers">104</span>            <span class="tag">&lt;groupId&gt;</span>org.jboss.shrinkwrap<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">105</span>            <span class="tag">&lt;artifactId&gt;</span>shrinkwrap-api<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">106</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers">107</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers">108</span>        <span class="comment">&lt;!-- end::shrinkwrap-api[] --&gt;</span>
<span class="line-numbers">109</span>    <span class="tag">&lt;/dependencies&gt;</span>
<span class="line-numbers">110</span>
<span class="line-numbers">111</span>    <span class="tag">&lt;build&gt;</span>
<span class="line-numbers">112</span>        <span class="tag">&lt;finalName&gt;</span>${project.artifactId}<span class="tag">&lt;/finalName&gt;</span>
<span class="line-numbers">113</span>        <span class="tag">&lt;plugins&gt;</span>
<span class="line-numbers">114</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">115</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">116</span>                <span class="tag">&lt;artifactId&gt;</span>maven-war-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">117</span>                <span class="tag">&lt;version&gt;</span>3.3.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers">118</span>                <span class="tag">&lt;configuration&gt;</span>
<span class="line-numbers">119</span>                    <span class="tag">&lt;packagingExcludes&gt;</span>pom.xml<span class="tag">&lt;/packagingExcludes&gt;</span>
<span class="line-numbers">120</span>                <span class="tag">&lt;/configuration&gt;</span>
<span class="line-numbers">121</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">122</span>            <span class="comment">&lt;!-- tag::maven-failsafe-plugin[] --&gt;</span>
<span class="line-numbers">123</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">124</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">125</span>                <span class="tag">&lt;artifactId&gt;</span>maven-failsafe-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">126</span>                <span class="tag">&lt;version&gt;</span>3.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers">127</span>                <span class="tag">&lt;configuration&gt;</span>
<span class="line-numbers">128</span>                  <span class="tag">&lt;systemPropertyVariables&gt;</span>
<span class="line-numbers">129</span>                    <span class="tag">&lt;arquillian.war.name&gt;</span>${arquillian.war.name}.war<span class="tag">&lt;/arquillian.war.name&gt;</span>
<span class="line-numbers">130</span>                  <span class="tag">&lt;/systemPropertyVariables&gt;</span>
<span class="line-numbers">131</span>                <span class="tag">&lt;/configuration&gt;</span>
<span class="line-numbers">132</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">133</span>            <span class="comment">&lt;!-- end::maven-failsafe-plugin[] --&gt;</span>
<span class="line-numbers">134</span>            <span class="comment">&lt;!-- tag::liberty-maven-plugin[] --&gt;</span>
<span class="line-numbers">135</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">136</span>                <span class="tag">&lt;groupId&gt;</span>io.openliberty.tools<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">137</span>                <span class="tag">&lt;artifactId&gt;</span>liberty-maven-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">138</span>                <span class="tag">&lt;version&gt;</span>3.8.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers">139</span>                <span class="tag">&lt;configuration&gt;</span>
<span class="line-numbers">140</span>                  <span class="comment">&lt;!-- tag::arquillianProperties[] --&gt;</span>
<span class="line-numbers">141</span>                  <span class="tag">&lt;arquillianProperties&gt;</span>
<span class="line-numbers">142</span>                    <span class="tag">&lt;javaVmArguments&gt;</span>
<span class="line-numbers">143</span>                      -Dsystem.context.root=/${arquillian.war.name}
<span class="line-numbers">144</span>                    <span class="tag">&lt;/javaVmArguments&gt;</span>
<span class="line-numbers">145</span>                  <span class="tag">&lt;/arquillianProperties&gt;</span>
<span class="line-numbers">146</span>                    <span class="comment">&lt;!-- end::arquillianProperties[] --&gt;</span>
<span class="line-numbers">147</span>                <span class="tag">&lt;/configuration&gt;</span>
<span class="line-numbers">148</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">149</span>            <span class="comment">&lt;!-- end::liberty-maven-plugin[] --&gt;</span>
<span class="line-numbers">150</span>        <span class="tag">&lt;/plugins&gt;</span>
<span class="line-numbers">151</span>    <span class="tag">&lt;/build&gt;</span>
<span class="line-numbers">152</span><span class="tag">&lt;/project&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code class="hotspot=warName hotspot=WebArchive file=0">WARNAME</code> variable is used to name the web archive and is defined in the <code class="hotspot=ArquillianWarName file=1">pom.xml</code> file. This name is necessary if you don’t want a randomly generated web archive name.</p>
</div>
<div class="paragraph">
<p>The ShrinkWrap API is used to create the web archive. All of the packages in the <code>inventory</code> service must be added to the web archive; otherwise, the code compiles successfully but fails at runtime when the injection of the <code>InventoryResource</code> class takes place. You can learn about the ShrinkWrap archive configuration in this <a href="http://arquillian.org/guides/shrinkwrap_introduction/" target="_blank" rel="noopener noreferrer">Arquillian guide</a>.</p>
</div>
<div class="paragraph">
<p>The <code class="hotspot=ArquillianResource file=0">@ArquillianResource</code> annotation is used to retrieve the <code>http://localhost:9080/arquillian-managed/</code> base URL for this web service. The annotation provides the host name, port number and web archive information for this service, so you don’t need to hardcode these values in the test case. The <code>arquillian-managed</code> path in the URL comes from the WAR name you specified when you created the web archive in the <code class="hotspot=Deployment file=0">@Deployment</code> annotated method. It’s needed when the <code>inventory</code> service communicates with the <code>system</code> service to get the system properties.</p>
</div>
<div class="paragraph">
<p>The <code class="hotspot=testInventoryEndpoints file=0">testInventoryEndpoints</code> method is an integration test to test the <code>inventory</code> service endpoints. The <code class="hotspot=RunAsClient file=0">@RunAsClient</code> annotation added in this test case indicates that this test case is to be run on the client side. By running the tests on the client side, the tests are run against the managed container. The endpoint test case first calls the <code>http://localhost:9080/{WARNAME}/inventory/systems/{hostname}</code> endpoint with the <code>localhost</code> host name to add its system properties to the inventory. The test verifies that the system property for the local and service JVM match. Then, the test method calls the <code>http://localhost:9080/{WARNAME}/inventory/systems</code> endpoint. The test checks that the inventory has one host and that the host is <code>localhost</code>. The test also verifies that the system property stored in the inventory for the local and service JVM match.</p>
</div>
<div class="paragraph">
<p>Contexts and Dependency Injection (CDI) is used to inject an instance of the <code class="hotspot=InventoryResource file=0">InventoryResource</code> class into this test class. You can learn more about CDI in the <a href="https://openliberty.io/guides/cdi-intro.html" target="_blank" rel="noopener">Injecting dependencies into microservices</a> guide.</p>
</div>
<div class="paragraph">
<p>The injected <code class="hotspot=InventoryResource file=0">InventoryResource</code> instance is then tested by the <code class="hotspot=testInventoryResourceFunctions file=0">testInventoryResourceFunctions</code> method. This test case calls the <code class="hotspot=listContents file=0">listContents()</code> method to get all systems that are stored in this inventory and verifies that <code>localhost</code> is the only system being found. Notice the functional test case doesn’t store any system in the inventory, the <code>localhost</code> system is from the endpoint test case that ran before this test case. The <code class="hotspot=InSequence1 hotspot=InSequence2 file=0">@InSequence</code> Arquillian annotation guarantees the test sequence. The sequence is important for the two tests, as the results in the first test impact the second one.</p>
</div>
<div class="paragraph">
<p>The test cases are ready to run. You will configure the Maven build and the Liberty configuration to run them.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-arquillian-with-liberty">Configuring Arquillian with Liberty</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Configure your build to use the Arquillian Liberty Managed container and set up your Open Liberty to run your test cases by configuring the <code>server.xml</code> file.</p>
</div>
<div class="sect2">
<h3 id="configuring-your-test-build">Configuring your test build</h3>
<div class="paragraph">
<p>First, configure your test build with Maven. All of the Maven configuration takes place in the <code class="hotspot">pom.xml</code> file, which is provided for you.</p>
</div>
<div class="paragraph">
<p>pom.xml</p>
</div>
<div class="listingblock code_column">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="line-numbers">  1</span><span class="preprocessor">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="line-numbers">  2</span><span class="tag">&lt;project</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0</span><span class="delimiter">"</span></span>
<span class="line-numbers">  3</span>    <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">"</span></span>
<span class="line-numbers">  4</span>    <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0 </span></span>
<span class="line-numbers">  5</span><span class="string">    <span class="content">http://maven.apache.org/xsd/maven-4.0.0.xsd</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers">  6</span>
<span class="line-numbers">  7</span>    <span class="tag">&lt;modelVersion&gt;</span>4.0.0<span class="tag">&lt;/modelVersion&gt;</span>
<span class="line-numbers">  8</span>
<span class="line-numbers">  9</span>    <span class="tag">&lt;groupId&gt;</span>io.openliberty.guides<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 10</span>    <span class="tag">&lt;artifactId&gt;</span>guide-arquillian-managed<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 11</span>    <span class="tag">&lt;version&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 12</span>    <span class="tag">&lt;packaging&gt;</span>war<span class="tag">&lt;/packaging&gt;</span>
<span class="line-numbers"> 13</span>
<span class="line-numbers"> 14</span>    <span class="tag">&lt;properties&gt;</span>
<span class="line-numbers"> 15</span>        <span class="tag">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.build.sourceEncoding&gt;</span>
<span class="line-numbers"> 16</span>        <span class="tag">&lt;project.reporting.outputEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.reporting.outputEncoding&gt;</span>
<span class="line-numbers"> 17</span>        <span class="tag">&lt;maven.compiler.source&gt;</span>11<span class="tag">&lt;/maven.compiler.source&gt;</span>
<span class="line-numbers"> 18</span>        <span class="tag">&lt;maven.compiler.target&gt;</span>11<span class="tag">&lt;/maven.compiler.target&gt;</span>
<span class="line-numbers"> 19</span>        <span class="comment">&lt;!-- Liberty configuration --&gt;</span>
<span class="line-numbers"> 20</span>        <span class="tag">&lt;liberty.var.default.http.port&gt;</span>9080<span class="tag">&lt;/liberty.var.default.http.port&gt;</span>
<span class="line-numbers"> 21</span>        <span class="tag">&lt;liberty.var.default.https.port&gt;</span>9443<span class="tag">&lt;/liberty.var.default.https.port&gt;</span>
<span class="line-numbers"> 22</span>        <span class="comment">&lt;!-- arquillian configuration --&gt;</span>
<span class="line-numbers"> 23</span>        <span class="comment">&lt;!-- tag::ArquillianWarName[] --&gt;</span>
<span class="line-numbers"> 24</span>        <span class="tag">&lt;arquillian.war.name&gt;</span>arquillian-managed<span class="tag">&lt;/arquillian.war.name&gt;</span>
<span class="line-numbers"> 25</span>        <span class="comment">&lt;!-- end::ArquillianWarName[] --&gt;</span>
<span class="line-numbers"> 26</span>    <span class="tag">&lt;/properties&gt;</span>
<span class="line-numbers"> 27</span>
<span class="line-numbers"> 28</span>    <span class="tag">&lt;dependencyManagement&gt;</span>
<span class="line-numbers"> 29</span>        <span class="tag">&lt;dependencies&gt;</span>
<span class="line-numbers"> 30</span>            <span class="comment">&lt;!-- tag::arquillian-bom[] --&gt;</span>
<span class="line-numbers"> 31</span>            <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 32</span>                <span class="tag">&lt;groupId&gt;</span>org.jboss.arquillian<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 33</span>                <span class="tag">&lt;artifactId&gt;</span>arquillian-bom<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 34</span>                <span class="tag">&lt;version&gt;</span>1.6.0.Final<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 35</span>                <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
<span class="line-numbers"> 36</span>                <span class="tag">&lt;scope&gt;</span>import<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 37</span>            <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 38</span>            <span class="comment">&lt;!-- end::arquillian-bom[] --&gt;</span>
<span class="line-numbers"> 39</span>        <span class="tag">&lt;/dependencies&gt;</span>
<span class="line-numbers"> 40</span>    <span class="tag">&lt;/dependencyManagement&gt;</span>
<span class="line-numbers"> 41</span>
<span class="line-numbers"> 42</span>    <span class="tag">&lt;dependencies&gt;</span>
<span class="line-numbers"> 43</span>        <span class="comment">&lt;!-- Provided dependencies --&gt;</span>
<span class="line-numbers"> 44</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 45</span>            <span class="tag">&lt;groupId&gt;</span>jakarta.platform<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 46</span>            <span class="tag">&lt;artifactId&gt;</span>jakarta.jakartaee-api<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 47</span>            <span class="tag">&lt;version&gt;</span>10.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 48</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 49</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 50</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 51</span>            <span class="tag">&lt;groupId&gt;</span>org.eclipse.microprofile<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 52</span>            <span class="tag">&lt;artifactId&gt;</span>microprofile<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 53</span>            <span class="tag">&lt;version&gt;</span>6.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 54</span>            <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
<span class="line-numbers"> 55</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 56</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 57</span>        <span class="comment">&lt;!-- For tests --&gt;</span>
<span class="line-numbers"> 58</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 59</span>            <span class="tag">&lt;groupId&gt;</span>junit<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 60</span>            <span class="tag">&lt;artifactId&gt;</span>junit<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 61</span>            <span class="tag">&lt;version&gt;</span>4.13.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 62</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 63</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 64</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 65</span>            <span class="tag">&lt;groupId&gt;</span>org.jboss.resteasy<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 66</span>            <span class="tag">&lt;artifactId&gt;</span>resteasy-client<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 67</span>            <span class="tag">&lt;version&gt;</span>6.2.3.Final<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 68</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 69</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 70</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 71</span>            <span class="tag">&lt;groupId&gt;</span>org.jboss.resteasy<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 72</span>            <span class="tag">&lt;artifactId&gt;</span>resteasy-json-binding-provider<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 73</span>            <span class="tag">&lt;version&gt;</span>6.2.3.Final<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 74</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 75</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 76</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 77</span>            <span class="tag">&lt;groupId&gt;</span>org.glassfish<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 78</span>            <span class="tag">&lt;artifactId&gt;</span>jakarta.json<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 79</span>            <span class="tag">&lt;version&gt;</span>2.0.1<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 80</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 81</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 82</span>        <span class="comment">&lt;!-- For JDK 9 &amp; above Support --&gt;</span>
<span class="line-numbers"> 83</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 84</span>            <span class="tag">&lt;groupId&gt;</span>javax.xml.bind<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 85</span>            <span class="tag">&lt;artifactId&gt;</span>jaxb-api<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 86</span>            <span class="tag">&lt;version&gt;</span>2.3.1<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 87</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 88</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 89</span>            <span class="tag">&lt;groupId&gt;</span>javax.activation<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 90</span>            <span class="tag">&lt;artifactId&gt;</span>activation<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 91</span>            <span class="tag">&lt;version&gt;</span>1.1.1<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 92</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 93</span>        <span class="comment">&lt;!-- tag::arquillian-liberty-managed-junit[] --&gt;</span>
<span class="line-numbers"> 94</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 95</span>            <span class="tag">&lt;groupId&gt;</span>io.openliberty.arquillian<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 96</span>            <span class="tag">&lt;artifactId&gt;</span>arquillian-liberty-managed-jakarta-junit<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 97</span>            <span class="tag">&lt;version&gt;</span>2.1.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 98</span>            <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
<span class="line-numbers"> 99</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers">100</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers">101</span>        <span class="comment">&lt;!-- end::arquillian-liberty-managed-junit[] --&gt;</span>
<span class="line-numbers">102</span>        <span class="comment">&lt;!-- tag::shrinkwrap-api[] --&gt;</span>
<span class="line-numbers">103</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers">104</span>            <span class="tag">&lt;groupId&gt;</span>org.jboss.shrinkwrap<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">105</span>            <span class="tag">&lt;artifactId&gt;</span>shrinkwrap-api<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">106</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers">107</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers">108</span>        <span class="comment">&lt;!-- end::shrinkwrap-api[] --&gt;</span>
<span class="line-numbers">109</span>    <span class="tag">&lt;/dependencies&gt;</span>
<span class="line-numbers">110</span>
<span class="line-numbers">111</span>    <span class="tag">&lt;build&gt;</span>
<span class="line-numbers">112</span>        <span class="tag">&lt;finalName&gt;</span>${project.artifactId}<span class="tag">&lt;/finalName&gt;</span>
<span class="line-numbers">113</span>        <span class="tag">&lt;plugins&gt;</span>
<span class="line-numbers">114</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">115</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">116</span>                <span class="tag">&lt;artifactId&gt;</span>maven-war-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">117</span>                <span class="tag">&lt;version&gt;</span>3.3.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers">118</span>                <span class="tag">&lt;configuration&gt;</span>
<span class="line-numbers">119</span>                    <span class="tag">&lt;packagingExcludes&gt;</span>pom.xml<span class="tag">&lt;/packagingExcludes&gt;</span>
<span class="line-numbers">120</span>                <span class="tag">&lt;/configuration&gt;</span>
<span class="line-numbers">121</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">122</span>            <span class="comment">&lt;!-- tag::maven-failsafe-plugin[] --&gt;</span>
<span class="line-numbers">123</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">124</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">125</span>                <span class="tag">&lt;artifactId&gt;</span>maven-failsafe-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">126</span>                <span class="tag">&lt;version&gt;</span>3.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers">127</span>                <span class="tag">&lt;configuration&gt;</span>
<span class="line-numbers">128</span>                  <span class="tag">&lt;systemPropertyVariables&gt;</span>
<span class="line-numbers">129</span>                    <span class="tag">&lt;arquillian.war.name&gt;</span>${arquillian.war.name}.war<span class="tag">&lt;/arquillian.war.name&gt;</span>
<span class="line-numbers">130</span>                  <span class="tag">&lt;/systemPropertyVariables&gt;</span>
<span class="line-numbers">131</span>                <span class="tag">&lt;/configuration&gt;</span>
<span class="line-numbers">132</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">133</span>            <span class="comment">&lt;!-- end::maven-failsafe-plugin[] --&gt;</span>
<span class="line-numbers">134</span>            <span class="comment">&lt;!-- tag::liberty-maven-plugin[] --&gt;</span>
<span class="line-numbers">135</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">136</span>                <span class="tag">&lt;groupId&gt;</span>io.openliberty.tools<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">137</span>                <span class="tag">&lt;artifactId&gt;</span>liberty-maven-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">138</span>                <span class="tag">&lt;version&gt;</span>3.8.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers">139</span>                <span class="tag">&lt;configuration&gt;</span>
<span class="line-numbers">140</span>                  <span class="comment">&lt;!-- tag::arquillianProperties[] --&gt;</span>
<span class="line-numbers">141</span>                  <span class="tag">&lt;arquillianProperties&gt;</span>
<span class="line-numbers">142</span>                    <span class="tag">&lt;javaVmArguments&gt;</span>
<span class="line-numbers">143</span>                      -Dsystem.context.root=/${arquillian.war.name}
<span class="line-numbers">144</span>                    <span class="tag">&lt;/javaVmArguments&gt;</span>
<span class="line-numbers">145</span>                  <span class="tag">&lt;/arquillianProperties&gt;</span>
<span class="line-numbers">146</span>                    <span class="comment">&lt;!-- end::arquillianProperties[] --&gt;</span>
<span class="line-numbers">147</span>                <span class="tag">&lt;/configuration&gt;</span>
<span class="line-numbers">148</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">149</span>            <span class="comment">&lt;!-- end::liberty-maven-plugin[] --&gt;</span>
<span class="line-numbers">150</span>        <span class="tag">&lt;/plugins&gt;</span>
<span class="line-numbers">151</span>    <span class="tag">&lt;/build&gt;</span>
<span class="line-numbers">152</span><span class="tag">&lt;/project&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Let’s look into each of the required elements for this configuration.</p>
</div>
<div class="paragraph">
<p>You need the <code class="hotspot=arquillian-bom">arquillian-bom</code> Bill of Materials. It’s a Maven artifact that defines the versions of Arquillian dependencies to make dependency management easier.</p>
</div>
<div class="paragraph">
<p>The <code class="hotspot=arquillian-liberty-managed-junit">arquillian-liberty-managed-junit</code> dependency bundle, which includes all the core dependencies, is required to run the Arquillian tests on a managed Liberty container that uses JUnit. You can learn more about the <a href="https://github.com/OpenLiberty/arquillian-liberty-dependencies" target="_blank" rel="noopener noreferrer">Arquillian Liberty dependency bundles</a>. The <code class="hotspot=shrinkwrap-api">shrinkwrap-api</code> dependency allows you to create your test archive, which is packaged into a WAR file and deployed to the Open Liberty.</p>
</div>
<div class="paragraph">
<p>The <code class="hotspot=maven-failsafe-plugin">maven-failsafe-plugin</code> artifact runs your Arquillian integration tests by using JUnit.</p>
</div>
<div class="paragraph">
<p>Lastly, specify the <code class="hotspot=liberty-maven-plugin">liberty-maven-plugin</code> configuration that defines your Open Liberty runtime configuration. When the application runs in an Arquillian Liberty managed container, the name of the war file is used as the context root of the application. You can pass context root information to the application and customize the container by using the <code class="hotspot=arquillianProperties">arquillianProperties</code> configuration. To learn more about the <code>arquillianProperties</code> configuration, see the <a href="https://github.com/OpenLiberty/liberty-arquillian/blob/main/liberty-managed/README.md#configuration" target="_blank" rel="noopener noreferrer">Arquillian Liberty Managed documentation</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="configuring-libertys-server-xml-configuration-file">Configuring Liberty’s <code>server.xml</code> configuration file</h3>
<div class="paragraph">
<p>Now that you’re done configuring your Maven build, set up your Open Liberty to run your test cases by configuring the <code class="hotspot">server.xml</code> configuration file.</p>
</div>
<div class="paragraph">
<p>Take a look at the <code class="hotspot">server.xml</code> file.</p>
</div>
<div class="paragraph">
<p>server.xml</p>
</div>
<div class="listingblock code_column">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="line-numbers"> 1</span><span class="tag">&lt;server</span> <span class="attribute-name">description</span>=<span class="string"><span class="delimiter">"</span><span class="content">new server</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers"> 2</span>
<span class="line-numbers"> 3</span>    <span class="tag">&lt;featureManager&gt;</span>
<span class="line-numbers"> 4</span>        <span class="tag">&lt;feature&gt;</span>restfulWS-3.1<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 5</span>        <span class="tag">&lt;feature&gt;</span>jsonb-3.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 6</span>        <span class="tag">&lt;feature&gt;</span>jsonp-2.1<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 7</span>        <span class="tag">&lt;feature&gt;</span>cdi-4.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 8</span>        <span class="tag">&lt;feature&gt;</span>mpConfig-3.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers"> 9</span>
<span class="line-numbers">10</span>        <span class="comment">&lt;!--Enable the following features to run tests with Arquillian managed container--&gt;</span>
<span class="line-numbers">11</span>        <span class="comment">&lt;!-- tag::localConnector[] --&gt;</span>
<span class="line-numbers">12</span>        <span class="tag">&lt;feature&gt;</span>localConnector-1.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers">13</span>        <span class="comment">&lt;!-- end::localConnector[] --&gt;</span>
<span class="line-numbers">14</span>        <span class="comment">&lt;!-- tag::Servlet[] --&gt;</span>
<span class="line-numbers">15</span>        <span class="tag">&lt;feature&gt;</span>servlet-6.0<span class="tag">&lt;/feature&gt;</span>
<span class="line-numbers">16</span>        <span class="comment">&lt;!-- end::Servlet[] --&gt;</span>
<span class="line-numbers">17</span>        
<span class="line-numbers">18</span>    <span class="tag">&lt;/featureManager&gt;</span>
<span class="line-numbers">19</span>
<span class="line-numbers">20</span>    <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">default.http.port</span><span class="delimiter">"</span></span> <span class="attribute-name">defaultValue</span>=<span class="string"><span class="delimiter">"</span><span class="content">9080</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers">21</span>    <span class="tag">&lt;variable</span> <span class="attribute-name">name</span>=<span class="string"><span class="delimiter">"</span><span class="content">default.https.port</span><span class="delimiter">"</span></span> <span class="attribute-name">defaultValue</span>=<span class="string"><span class="delimiter">"</span><span class="content">9443</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers">22</span>
<span class="line-numbers">23</span>    <span class="tag">&lt;httpEndpoint</span> <span class="attribute-name">id</span>=<span class="string"><span class="delimiter">"</span><span class="content">defaultHttpEndpoint</span><span class="delimiter">"</span></span> <span class="attribute-name">httpPort</span>=<span class="string"><span class="delimiter">"</span><span class="content">${default.http.port}</span><span class="delimiter">"</span></span>
<span class="line-numbers">24</span>        <span class="attribute-name">httpsPort</span>=<span class="string"><span class="delimiter">"</span><span class="content">${default.https.port}</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers">25</span>    <span class="tag">&lt;webApplication</span> <span class="attribute-name">location</span>=<span class="string"><span class="delimiter">"</span><span class="content">guide-arquillian-managed.war</span><span class="delimiter">"</span></span>
<span class="line-numbers">26</span>        <span class="attribute-name">context-root</span>=<span class="string"><span class="delimiter">"</span><span class="content">/</span><span class="delimiter">"</span></span> <span class="tag">/&gt;</span>
<span class="line-numbers">27</span><span class="tag">&lt;/server&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code class="hotspot=localConnector">localConnector</code> feature is required by the Arquillian Liberty Managed container to connect to and communicate with the Open Liberty runtime. The <code class="hotspot=Servlet">servlet</code> feature is required during the deployment of the Arquillian tests in which servlets are created to perform the in-container testing.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="running-the-tests">Running the tests</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It’s now time to build and run your Arquillian tests. Navigate to the <code>start</code> directory. First, run the Maven command to package the application. Then, run the <code>liberty-maven-plugin</code> goals to create the Liberty instance, install the features, and deploy the application to the instance. The <code>configure-arquillian</code> goal configures your Arquillian container. You can learn more about this goal in the <a href="https://github.com/OpenLiberty/ci.maven/blob/main/docs/configure-arquillian.md" target="_blank" rel="noopener noreferrer">configure-arquillian goal documentation</a>.</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>mvn clean package
mvn liberty:create liberty:install-feature
mvn liberty:configure-arquillian</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now, you can run your Arquillian tests with the Maven <code>integration-test</code> goal:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>mvn failsafe:integration-test</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the test output, you can see that the Liberty instance launched, and that the web archive, <code>arquillian-managed</code>, started as an application in the instance. You can also see that the tests are running and that the results are reported.</p>
</div>
<div class="paragraph">
<p>After the tests stop running, the test application is automatically undeployed and the instance shuts down. You should then get a message indicating that the build and tests are successful.</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre class="CodeRay highlight"><code>[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running it.io.openliberty.guides.system.SystemArquillianIT
...
[AUDIT   ] CWWKE0001I: The server defaultServer has been launched.
[AUDIT   ] CWWKG0093A: Processing configuration drop-ins resource: guide-arquillian-managed/finish/target/liberty/wlp/usr/servers/defaultServer/configDropins/overrides/liberty-plugin-variable-config.xml
[INFO    ] CWWKE0002I: The kernel started after 0.854 seconds
[INFO    ] CWWKF0007I: Feature update started.
[AUDIT   ] CWWKZ0058I: Monitoring dropins for applications.
[INFO    ] Aries Blueprint packages not available. So namespaces will not be registered
[INFO    ] CWWKZ0018I: Starting application guide-arquillian-managed.
...
[INFO    ] SRVE0169I: Loading Web Module: guide-arquillian-managed.
[INFO    ] SRVE0250I: Web Module guide-arquillian-managed has been bound to default_host.
[AUDIT   ] CWWKT0016I: Web application available (default_host): http://localhost:9080/
[INFO    ] SESN0176I: A new session context will be created for application key default_host/
[INFO    ] SESN0172I: The session manager is using the Java default SecureRandom implementation for session ID generation.
[AUDIT   ] CWWKZ0001I: Application guide-arquillian-managed started in 1.126 seconds.
[INFO    ] CWWKO0219I: TCP Channel defaultHttpEndpoint has been started and is now listening for requests on host localhost  (IPv4: 127.0.0.1) port 9080.
[AUDIT   ] CWWKF0012I: The server installed the following features: [cdi-2.0, jaxrs-2.1, jaxrsClient-2.1, jndi-1.0, jsonp-1.1, localConnector-1.0, mpConfig-1.3, servlet-4.0].
[INFO    ] CWWKF0008I: Feature update completed in 2.321 seconds.
[AUDIT   ] CWWKF0011I: The defaultServer server is ready to run a smarter planet. The defaultServer server started in 3.175 seconds.
[INFO    ] CWWKZ0018I: Starting application arquillian-managed.
...
[INFO    ] SRVE0169I: Loading Web Module: arquillian-managed.
[INFO    ] SRVE0250I: Web Module arquillian-managed has been bound to default_host.
[AUDIT   ] CWWKT0016I: Web application available (default_host): http://localhost:9080/arquillian-managed/
...
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.133 s - in it.io.openliberty.guides.system.SystemArquillianIT
[INFO] Running it.io.openliberty.guides.inventory.InventoryArquillianIT
[INFO    ] CWWKZ0018I: Starting application arquillian-managed.
[INFO    ] CWWKZ0136I: The arquillian-managed application is using the archive file at the guide-arquillian-managed/finish/target/liberty/wlp/usr/servers/defaultServer/dropins/arquillian-managed.war location.
[INFO    ] SRVE0169I: Loading Web Module: arquillian-managed.
[INFO    ] SRVE0250I: Web Module arquillian-managed has been bound to default_host.
...
[INFO    ] Setting the server's publish address to be /inventory/
[INFO    ] SRVE0242I: [arquillian-managed] [/arquillian-managed] [io.openliberty.guides.inventory.InventoryApplication]: Initialization successful.
[INFO    ] Setting the server's publish address to be /system/
[INFO    ] SRVE0242I: [arquillian-managed] [/arquillian-managed] [io.openliberty.guides.system.SystemApplication]: Initialization successful.
[INFO    ] SRVE0242I: [arquillian-managed] [/arquillian-managed] [ArquillianServletRunner]: Initialization successful.
[AUDIT   ] CWWKT0017I: Web application removed (default_host): http://localhost:9080/arquillian-managed/
[INFO    ] SRVE0253I: [arquillian-managed] [/arquillian-managed] [ArquillianServletRunner]: Destroy successful.
[INFO    ] SRVE0253I: [arquillian-managed] [/arquillian-managed] [io.openliberty.guides.inventory.InventoryApplication]: Destroy successful.
[AUDIT   ] CWWKZ0009I: The application arquillian-managed has stopped successfully.
[INFO    ] SRVE9103I: A configuration file for a web server plugin was automatically generated for this server at guide-arquillian-managed/finish/target/liberty/wlp/usr/servers/defaultServer/logs/state/plugin-cfg.xml.
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.297 s - in it.io.openliberty.guides.inventory.InventoryArquillianIT
...
Stopping server defaultServer.
...
Server defaultServer stopped.
[INFO]
[INFO] Results:
[INFO]
[INFO] Tests run: 4, Failures: 0, Errors: 0, Skipped: 0
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  12.018 s
[INFO] Finished at: 2020-06-23T12:40:32-04:00
[INFO] ------------------------------------------------------------------------</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="great-work-youre-done">Great work! You’re done!</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You just built some functional and integration tests with the Arquillian managed container and ran the tests for your microservices on Open Liberty.</p>
</div>
<div class="paragraph">
<p>Try one of the related guides to learn more about the technologies that you come across in this guide.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="guide-attribution">Guide Attribution</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Testing microservices with the Arquillian managed container <span class="licensedClass">by</span> Open Liberty <span class="licensedClass">is licensed under</span> CC BY-ND 4.0</p>
</div>
</div>
</div>
    </div>
  </div>

  <!-- Code section -->
  <div id="code_column" class="position_relative" tabindex="0">
    <div id="code_column_title_container">
      <div id="code_column_tabs_container" class="dimmed">
        <ul id="code_column_tabs" class="nav" role="tablist"></ul>
      </div>
      <div class="copyFileButton" tabindex="0">
        <img src="/img/guides_copy_button.svg" alt="Copy file contents" title="Copy file contents">
        <div id="code_section_copied_confirmation">Copied to clipboard </div>
      </div>
    </div>
    <div id="code_column_content"></div>

    <div id="prereqs_container">
      <p id="prereqs_title">Prerequisites:</p>
      <div class="prereqs_list"></div>
      <div class="skills_network_container">
        <div class="skills_network_description"></div>
      </div>
    </div>

    <button id="dismiss_button" aria-label="Back to text" tabindex="0">
      Back to text
    </button>
  </div>
</div>

<!-- Build a list of all the documents in the guides code base -->






<!-- Remove any documents deemed private (archived, templates, etc) -->


<!-- Count number of guides from past 30 days-->


    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    


<!-- Sort list of guides by date with most recent first -->





<div id="end_of_guide">
        <h2 tabindex="0">Nice work! Where to next?</h2>
        <div id="end_of_guide_left_section">
            <p id="guide_attribution"></p>
            
            <h3 id="feedback_rating_question">What did you think of this guide?</h3>
            <div id="feedback_ratings">
                <img class="guide_rating" id="extreme_dislike" src="/img/1_Extreme_Dislike.png" onclick="$('#dislike_popup').show(); $('.popup_content').focus();" alt="Extreme Dislike" data-guide-rating="1" tabindex="0" aria-label="Rate this guide as extreme dislike">
                <img class="guide_rating" id="dislike" src="/img/2_Dislike.png" onclick="$('#dislike_popup').show(); $('.popup_content').focus();" alt="Dislike" data-guide-rating="2" tabindex="0" aria-label="Rate this guide as dislike">
                <img class="guide_rating" id="like" src="/img/3_Like.png" onclick="$('#like_popup').show(); $('.popup_content').focus();" alt="Like" data-guide-rating="3" tabindex="0" aria-label="Rate this guide as like">
                <img class="guide_rating" id="extreme_like" src="/img/4_Extreme_Like.png" onclick="$('#like_popup').show(); $('.popup_content').focus();" alt="Extreme Like" data-guide-rating="4" tabindex="0" aria-label="Rate this guide as extreme like">
            </div>

            <div id="like_popup" class="popup">
                <div class="popup_content" tabindex="0">
                    <p class="popup_title">Thank you for your feedback!</p>
                    <button id="close_button" class="popup_button" onclick="$('#like_popup').hide();">Close</button>
                </div>
            </div>

            <div id="dislike_popup" class="popup">
                <div class="popup_content" tabindex="0">
                    <p class="popup_title">Thank you for your feedback!</p>
                    <p id="open_issue">Would you like to open an issue in GitHub?</p>
                    
                        <a href="https://github.com/OpenLiberty/guide-arquillian-managed/issues/new" target="_blank" id="yes_button" class="popup_button" onclick="$('#dislike_popup').hide();" rel="noopener noreferrer">Yes</a>
                    
                    <button id="no_button" class="popup_button" onclick="$('#dislike_popup').hide();">No, thank you</button>
                </div>
            </div>

            <h3 id="improve_guide_feedback">What could make this guide better?</h3>
            
                <p><a target="_blank" rel="noopener noreferrer" href="https://github.com/OpenLiberty/guide-arquillian-managed/issues">Raise an issue</a> to share feedback</p>
                <p><a target="_blank" rel="noopener noreferrer" href="https://github.com/OpenLiberty/guide-arquillian-managed/pulls">Create a pull request</a> to contribute to this guide</p>
            

            <h3 id="need_help">Need help?</h3>
            <p><a target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/questions/tagged/open-liberty">Ask a question on Stack Overflow</a></p>

            <h3>Like Open Liberty? Star our repo on GitHub.</h3>
            <a class="github-button" href="https://github.com/OpenLiberty/open-liberty" data-icon="octicon-star" aria-label="Star OpenLiberty/open-liberty on GitHub" target="_blank" rel="noopener noreferrer">Star</a>
        </div>
        <div id="end_of_guide_right_section">
            <h3 id="where_to_next">Where to next?</h3>

            
            

            <!-- Related guides section -->
            
            <div id="related-guides">
                <div id="related-guides-cards" class="row">
                
                    
                    
                    
                        <!-- Only create a card if we find the permalink -->
                        
                        <div class="col-sm-12 col-lg-6">
                            <a href="/zh-Hans/guides/cdi-intro.html" class="small_guide_item">
                                <div class="guide_title_container">
                                    <h3 class="guide_title">Injecting dependencies into microservices</h3>
                                </div>
                                <img class="duration_clock_icon" src="/img/guide_duration_clock_icon_small.svg" alt="Duration">
                                <span class="guide_duration">15 minutes</span>

                                <!-- Add New flag to guides from the past 30 days or 4 most recent posts. -->
                                <!-- If new posts count is less than 4, use 4 most recent posts -->
                                
                                    
                                <!-- If new posts count is >= 4, use posts from last 30 days-->
                                
                                <!-- Add Updated flag to guides if the last major update is within last 12 weeks. -->
                                <!-- Count number of guides from past last 12 weeks that is 84 days-->
                                <!-- 7257600 is 84 days in seconds (84 days * 24 hours * 60 minutes * 60 seconds) -->
                                
                                
                            </a>
                        </div>
                    
                
                    
                    
                    
                        <!-- Only create a card if we find the permalink -->
                        
                        <div class="col-sm-12 col-lg-6">
                            <a href="/zh-Hans/guides/rest-intro.html" class="small_guide_item">
                                <div class="guide_title_container">
                                    <h3 class="guide_title">Creating a RESTful web service</h3>
                                </div>
                                <img class="duration_clock_icon" src="/img/guide_duration_clock_icon_small.svg" alt="Duration">
                                <span class="guide_duration">30 minutes</span>

                                <!-- Add New flag to guides from the past 30 days or 4 most recent posts. -->
                                <!-- If new posts count is less than 4, use 4 most recent posts -->
                                
                                    
                                <!-- If new posts count is >= 4, use posts from last 30 days-->
                                
                                <!-- Add Updated flag to guides if the last major update is within last 12 weeks. -->
                                <!-- Count number of guides from past last 12 weeks that is 84 days-->
                                <!-- 7257600 is 84 days in seconds (84 days * 24 hours * 60 minutes * 60 seconds) -->
                                
                                
                            </a>
                        </div>
                    
                
                </div>
            </div>
            
        </div>
    </div>



    </main>

    



<footer>
    <div id="footer_gray_background">
        <div id="footer_top_container" class="footer_container container-fluid">
            <div id="footer_project_container">
                <span id="footer_open_liberty"></span>
                <p id="footer_project">IBM 开放式源代码项目</p>
            </div>
            <div id="footer_round_links_container">
                <a id="footer_github_link" class="footer_round_btn" href="https://github.com/OpenLiberty/" target="_blank" rel="noopener noreferrer" aria-label="Github"></a>
                <a id="footer_twitter_link" class="footer_round_btn" href="https://twitter.com/OpenLibertyIO" target="_blank" rel="noopener noreferrer" aria-label="Twitter"></a>
                <a id="footer_stackoverflow_link" class="footer_round_btn" href="https://stackoverflow.com/questions/tagged/open-liberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty questions on Stack Overflow"></a>
                <a id="footer_groupsio_link" class="footer_round_btn" href="https://groups.io/g/openliberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty Groups.io"></a>
                <a id="footer_gitter_link" class="footer_round_btn" href="https://app.gitter.im/#/room/#OpenLiberty_development:gitter.im" target="_blank" rel="noopener" aria-label="Open Liberty Gitter"></a>
            </div>
        </div>         
    </div>

    <div id="footer_bottom_container" class="footer_container container-fluid">
        <div id="footer_bottom_left_section">
            <p id="footer_copyright">© Copyright IBM Corp. 2017, 2023</p>
            <p class="vertical_bar">|</p>
            <a id="footer_privacy_policy_link" href="https://www.ibm.com/privacy/" target="_blank" rel="noopener noreferrer" class="left_footer_link">隐私策略</a>
            <p class="vertical_bar">|</p>
            <a id="footer_license_link" href="https://github.com/OpenLiberty/open-liberty/blob/release/LICENSE" target="_blank" rel="noopener noreferrer" class="left_footer_link">许可证</a>
            <p class="vertical_bar">|</p>
            <a id="footer_logos_link" href="https://github.com/OpenLiberty/logos" target="_blank" rel="noopener noreferrer" class="left_footer_link">洛戈斯</a>
        </div>
        <div id="footer_bottom_right_section">
            <a id="footer_docs_link" href="/docs" aria-label="Open Liberty Docs" class="right_footer_link blue_link_light_background">文档</a>
            <a id="footer_blog_link" href="/blog" aria-label="Open Liberty Blog" class="right_footer_link blue_link_light_background">博客</a>
            <a id="footer_support_link" href="/support" aria-label="Open Liberty Support" class="right_footer_link blue_link_light_background">支持</a>
        </div>
    </div>
</footer>

<!-- PRE-LOADED IMAGES FOR ON HOVER BEHAVIOR -->
<div class="d-none hidden">
    <img src="/img/Footer_GitCat_Hover.svg" alt="OpenLiberty Github link">
    <img src="/img/Footer_TwitterBird_Hover.svg" alt="OpenLibertyIO Twitter link">
    <img src="/img/Footer_StackO_Hover.svg" alt="Open-liberty Stack Overflow link">
    <img src="/img/Footer_GroupsIO_Hover.svg" alt="Openliberty Groups IO link">
    <img src="/img/footer_gitter_hover.svg" alt="Openliberty Gitter link">
</div>

    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js" integrity="sha512-lzilC+JFd6YV8+vQRNRtU7DOqv5Sa9Ek53lXt/k91HZTJpytHS1L6l1mMKR9K6VVoDt4LiEXaa6XBrYk1YhGTQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>


<script type="text/javascript" src="/zh-Hans/assets/devEnvironment.js"></script>




  <script type="text/javascript" src="/zh-Hans/assets/guide-common.js"></script>

  <script type="text/javascript" src="/zh-Hans/assets/toc.js"></script>

  <script type="text/javascript" src="/zh-Hans/assets/tabs.js"></script>

  <script type="text/javascript" src="/zh-Hans/assets/guide-static.js"></script>

  <script type="text/javascript" src="/zh-Hans/assets/guide-multipane-static.js"></script>


<script type="text/javascript" src="/zh-Hans/assets/openliberty.js"></script>

  </body>

</html>
