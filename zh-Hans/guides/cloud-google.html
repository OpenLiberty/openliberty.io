<!DOCTYPE html>
<html lang="zh-Hans">

  





<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>
    
      Deploying Java microservices to Google Cloud Platform with Kubernetes
    
  </title>
  <meta name="description" content="A getting started tutorial with examples on how to deploy Java microservices to Google Cloud Platform (GCP) using Google Kubernetes Engine (GKE).">

  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
  

  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  
  <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/openliberty.css">
  <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/coderay-custom.css">

  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/header.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/header-dark.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/toc-multipane-static.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/end-of-guide.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/guide-card.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/tabs.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/guide-common.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/guide-multipane.css">
  
    <link type="text/css" rel="stylesheet" href="/zh-Hans/assets/guide-multipane-static.css">
  

  

  

  <link rel="canonical" href="https://openliberty.io/zh-Hans/guides/cloud-google">
  <link rel="alternate" type="application/rss+xml" title="Open Liberty" href="/zh-Hans/feed.xml">
  <link href="https://fonts.googleapis.com/css?family=Asap:400,500" rel="stylesheet">
    
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@OpenLibertyIO" />
  <meta name="twitter:title" content="Deploying Java microservices to Google Cloud Platform with Kubernetes" />
  <meta name="twitter:description" content="A getting started tutorial with examples on how to deploy Java microservices to Google Cloud Platform (GCP) using Google Kubernetes Engine (GKE)." />

  <meta property='og:title' content="Deploying Java microservices to Google Cloud Platform with Kubernetes" />
  <meta property='og:image' content="https://openliberty.io/img/twitter_card.jpg" />
  <meta property='og:image:alt' content="Open Liberty Logo" />
  <meta property='og:description' content="A getting started tutorial with examples on how to deploy Java microservices to Google Cloud Platform (GCP) using Google Kubernetes Engine (GKE)." />
  <meta property='og:url' content="https://openliberty.io/zh-Hans/guides/cloud-google" />
  <meta property='og:type' content="website" />
  
  <meta name="google-site-verification" content="h2P030H9b66CyL1nEmWfrZB8Fr14h9LmVMG7Ur0caBs" />

  
      <meta name="robots" content="noindex" />
  

  <script async defer src="https://buttons.github.io/buttons.js"></script>
</head>


  <body>
    
    

    


<!--  -->

<header>
    <nav id="nav_bar">
        <div id="nav_header">
            <a id="home_link" href="/" aria-label="Open Liberty Home">
                <img id="ol_logo" src="/img/docs_openliberty_logo.png" alt="Open Liberty Logo">
            </a>
            <button id="hamburger_toggle_button" onclick="$('#nav_bar').toggleClass('responsive');">
                <span id="hamburger_toggle_icon"></span>
            </button>
        </div>
        <div id="hamburger_menu">
            <ul class="nav_list">
                <li class="nav_link">
                    <a href="/start/">入门</a>
                </li>
                <li class="nav_link">
                    <a href="/guides/">指南</a>
                </li>
                <li class="nav_link">
                    <a href="/docs/">文档</a>
                </li>
                <li class="nav_link">
                    <a href="/support/">支持</a>
                </li>
                <li class="nav_link">
                    <a href="/blog/">博客</a>
                </li>
            </ul>
            <div id="header_round_links_container"> 
                <a id="header_twitter_link" class="header_round_button" href="https://twitter.com/OpenLibertyIO" target="_blank" rel="noopener noreferrer" aria-label="Twitter"></a>
                <a id="header_stackoverflow_link" class="header_round_button" href="https://stackoverflow.com/questions/tagged/open-liberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty questions on Stack Overflow"></a>
                <a id="header_groupsio_link" class="header_round_button" href="https://groups.io/g/openliberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty Groups.io"></a>
                <a id="header_gitter_link" class="header_round_button" href="https://app.gitter.im/#/room/#OpenLiberty_development:gitter.im" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty Gitter"></a>
            </div>
        </div>

    </nav>
</header>


    <main aria-label="Content">

      <!-- Build a list of all the documents in the guides code base -->
  
 

<!-- Remove any documents deemed private (archived, templates, etc) -->


<!-- Count number of guides from past 30 days-->
<!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
 

<!-- Sort list of guides by date with most recent first -->


<div id="background_container">
  <div id="toc_hotspot"></div>
  <!-- Guide's table of contents section -->
  <div id="toc_column" class="collapse inline open">
    <div id="toc_inner">
       
      <div id="close_container">
        <img id="toc_close_white" src="/img/toc_close_white.svg" alt="Close the table of contents" tabindex="0">
      </div>
      <h3 id="toc_title">Contents</h3>
      <div id="toc_container"><ul class="sectlevel1">
<li><a href="#what-youll-learn">What you’ll learn</a></li>
<li><a href="#additional-prerequisites">Additional prerequisites</a></li>
<li><a href="#getting-started">Getting started</a></li>
<li>
<a href="#setting-up-your-google-cloud-project">Setting up your Google Cloud project</a>
<ul class="sectlevel2">
<li><a href="#initializing-the-google-cloud-sdk">Initializing the Google Cloud SDK</a></li>
<li><a href="#enabling-google-cloud-apis-for-your-project">Enabling Google Cloud APIs for your project</a></li>
<li><a href="#setting-the-default-region-and-zone">Setting the default region and zone</a></li>
</ul>
</li>
<li><a href="#uploading-images-to-a-container-registry">Uploading images to a container registry</a></li>
<li><a href="#provisioning-a-kubernetes-cluster-on-gke">Provisioning a Kubernetes cluster on GKE</a></li>
<li>
<a href="#deploying-microservices-to-gke">Deploying microservices to GKE</a>
<ul class="sectlevel2">
<li><a href="#deploying-your-application">Deploying your application</a></li>
<li><a href="#making-requests-to-the-microservices">Making requests to the microservices</a></li>
</ul>
</li>
<li>
<a href="#testing-the-microservices">Testing the microservices</a>
<ul class="sectlevel2">
<li><a href="#running-the-tests">Running the tests</a></li>
</ul>
</li>
<li><a href="#tearing-down-the-environment">Tearing down the environment</a></li>
<li><a href="#great-work-youre-done">Great work! You’re done!</a></li>
<li><a href="#guide-attribution">Guide Attribution</a></li>
</ul></div>
      <div id="toc_separator"></div>
      
      <h3 id="tag_title">标签</h3>
      <div id="tags_container"></div>
    </div>
  </div>
  <div id="toc_indicator" tabindex="0" aria-label="Open the table of contents" class="hidden">
    <img src="/img/arrow_white.svg" alt="arrow">
  </div>
  <div id="toc_line" class="open"></div>
  <!-- Entire guide section -->
  <div id="guide_column" class="position_relative open">
    <div id="guide_content">
      <!-- Guide header section -->
      <div id="guide_meta" class="sect1" tabindex="0">
        <h1 id="guide_title">Deploying microservices to Google Cloud Platform</h1>
        <div id="duration_container">
          <img src="/img/guide_duration_clock_icon_large.svg" alt="duration">
          <span id="guide_duration">1 hour</span>

          <!-- Add New flag to guides from the past 30 days or 4 most recent posts. -->
          <!-- If new posts count is less than 4, use 4 most recent posts -->
           
          <!-- If new posts count is >= 4, use posts from last 30 days-->
          
          <!-- Add Updated flag to guides if the last major update is within last 12 weeks. -->
          <!-- Count number of guides from past last 12 weeks that is 84 days-->
          <!-- 7257600 is 84 days in seconds (84 days * 24 hours * 60 minutes * 60 seconds) -->
          
        </div>
        <div id="mobile_prereqs_section">
          <p id="mobile_prereqs_title">Prerequisites:</p>
          <div class="prereqs_list"></div>
          <div class="skills_network_container">
            <div class="skills_network_description"></div>
          </div>
        </div>
      </div>

      <div class="scroller_anchor"></div>
      <div id="mobile_toc_accordion_container" data-toggle="collapse" data-target="#toc_column" aria-expanded="false" aria-controls="toc_column" role="button">
        <div role="menuitem" id="mobile_toc_accordion">
          <button class="breadcrumb_hamburger toc-toggle collapsed" type="button" tabindex="0">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <img src="/img/toc_close_green.svg" class="TOC_Close_SVG hidden img-responsive" alt="Table of contents close button">
          </button>
          <span>Table of contents</span>
        </div>
      </div>

      <!-- Guide content section -->
      <div id="preamble">
<div class="sectionbody">
<div class="admonitionblock note hidden">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This repository contains the guide documentation source. To view the guide in published form,
view it on the <a href="https://openliberty.io/guides/cloud-google.html">Open Liberty website</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Explore how to deploy microservices to Google Kubernetes Engine (GKE) on Google Cloud Platform (GCP).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what-youll-learn">What you’ll learn</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You will learn how to deploy two microservices in Open Liberty containers to a Kubernetes cluster on
Google Kubernetes Engine (GKE).</p>
</div>
<div class="paragraph">
<p>Kubernetes is an open source container orchestrator that automates many tasks that are involved in
deploying, managing, and scaling containerized applications. If you would like to learn
more about Kubernetes, check out the <a href="https://openliberty.io/guides/kubernetes-intro.html" target="_blank" rel="noopener">Deploying microservices to Kubernetes</a>
guide.</p>
</div>
<div class="paragraph">
<p>There are different cloud-based solutions for running your Kubernetes workloads.
With a cloud-based infrastructure, you can focus on developing your microservices
without worrying about low-level infrastructure details for deployment. Using a cloud helps
you easily scale and manage your microservices in a high-availability setup.</p>
</div>
<div class="paragraph">
<p>Google Cloud Platform offers a managed Kubernetes service called Google Kubernetes Engine (GKE). Using GKE simplifies the process of running Kubernetes on Google Cloud Platform without
needing to install or maintain your own Kubernetes control plane. It provides a hosted Kubernetes
cluster that you can deploy your microservices to. In this guide, you will use GKE with a Google
Container Registry (GCR). GCR is a private registry that is used to store
and distribute your container images. Because GKE is hosted on Google Cloud Platform, fees might be associated with running this guide. See the official
<a href="https://cloud.google.com/kubernetes-engine/pricing" target="_blank" rel="noopener noreferrer">GKE pricing</a> documentation for more details.</p>
</div>
<div class="paragraph">
<p>The two microservices you will deploy are called <code>system</code> and <code>inventory</code>.
The <code>system</code> microservice returns the JVM system properties of the running container.
It also returns the name of the pod in the HTTP header, which makes replicas easy to distinguish from each other.
The <code>inventory</code> microservice adds the properties from the <code>system</code> microservice to the inventory.
This demonstrates how communication can be established between pods inside a cluster.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="additional-prerequisites">Additional prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before you begin, the following tools need to be installed:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Google account:</strong> To run this guide and use Google Cloud Platform, you will need a Google account. If you do not
have an account already, navigate to the
<a href="https://accounts.google.com/signup" target="_blank" rel="noopener noreferrer">Google account sign-up page</a>
to create a Google account.</p>
</li>
<li>
<p><strong>Google Cloud Platform account:</strong> Visit the <a href="https://console.cloud.google.com/" target="_blank" rel="noopener noreferrer">Google Cloud Platform console</a> to link your
Google account to Google Cloud Platform.</p>
</li>
<li>
<p><strong>Google Cloud SDK - CLI:</strong> You will need to use the <code>gcloud</code> command-line tool that is included in the <a href="https://cloud.google.com/sdk" target="_blank" rel="noopener noreferrer">Google Cloud SDK</a>.
See the official
<a href="https://cloud.google.com/sdk/docs/quickstarts" target="_blank" rel="noopener noreferrer">Cloud SDK: Command Line Interface - Quickstart</a>
documentation and complete the “Before you begin” section to set up the Google Cloud Platform CLI for your platform.
To verify that the <code>gcloud</code> tool is installed correctly, run the following command:</p>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>gcloud info</code></pre>
</div>
</div>
</li>
<li>
<p><strong>kubectl:</strong> You need the Kubernetes <code>kubectl</code> command-line tool to interact with your Kubernetes cluster.
If <code>kubectl</code> is not already installed, use the Google Cloud Platform CLI to download and install <code>kubectl</code> with the following command:</p>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>gcloud components install kubectl</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1 command">
<h2 id="getting-started">Getting started</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The fastest way to work through this guide is to clone the <a href="https://github.com/openliberty/guide-cloud-google.git" target="_blank" rel="noopener noreferrer">Git repository</a> and use the projects that are provided inside:</p>
</div>
<div id="git_clone" class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>git clone https://github.com/openliberty/guide-cloud-google.git
cd guide-cloud-google</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>start</code> directory contains the starting project that you will build upon.</p>
</div>
<div class="paragraph">
<p>The <code>finish</code> directory contains the finished project that you will build.</p>
</div>
<div class="paragraph">
<p>Before you begin, make sure you have all the necessary <span class="prerequisites">prerequisites</span>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="setting-up-your-google-cloud-project">Setting up your Google Cloud project</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="initializing-the-google-cloud-sdk">Initializing the Google Cloud SDK</h3>
<div class="paragraph">
<p>To create a Google Cloud Project, first initialize the Google Cloud SDK by performing the <code>gcloud</code> initial setup.
The <code>gcloud init</code> command starts an interactive setup that creates or modifies configuration for <code>gcloud</code>,
such as setting the user account and specifying the project to use:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>gcloud init</code></pre>
</div>
</div>
<div class="paragraph">
<p>Follow the prompt to log in with your Google Cloud Platform account.
This authorizes Google Cloud SDK to access Google Cloud Platform with your account credentials.</p>
</div>
<div class="paragraph">
<p>If you have existing projects, do not use them. Instead, create a new project for this guide. If you don’t have existing projects, you will be automatically prompted to create a new one.</p>
</div>
<div class="paragraph">
<p>You will need to specify a Project ID for your project.
Enter a Project ID that is unique within Google Cloud and matches the pattern that is described in the prompt.</p>
</div>
<div class="paragraph">
<p>If the Project ID is available to use, you will see the following output:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre>Your current project has been set to: [project-id].
...
Your Google Cloud SDK is configured and ready to use!</pre>
</div>
</div>
<div class="paragraph">
<p>Make sure that billing is enabled for your project so that you can use its Google Cloud services.
Follow the <a href="https://cloud.google.com/billing/docs/how-to/modify-project#confirm_billing_is_enabled_on_a_project" target="_blank" rel="noopener noreferrer">Modify a Project’s Billing Settings</a>
documentation to enable billing for your Google Cloud project.</p>
</div>
</div>
<div class="sect2">
<h3 id="enabling-google-cloud-apis-for-your-project">Enabling Google Cloud APIs for your project</h3>
<div class="paragraph">
<p>To run this guide, you need to use certain Google Cloud services, such as the
<code>Compute Engine API</code>, <code>Cloud Build API</code>, and the <code>Kubernetes Engine API</code>.</p>
</div>
<div class="paragraph">
<p>You will use the <code>Compute Engine API</code> to set the default Compute Engine region and zone where the
resources for your cloud deployments will be hosted.</p>
</div>
<div class="paragraph">
<p>The <code>Cloud Build API</code> allows you to build container images and push them to a Google Container Registry.
Your private container registry manages and stores the container images that you build in later steps.</p>
</div>
<div class="paragraph">
<p>To deploy your application to Google Kubernetes Engine (GKE), you will need to enable the <code>Kubernetes Engine API</code>.
The container images that you build will run on a Google Kubernetes Engine cluster.</p>
</div>
<div class="paragraph">
<p>Enable the necessary Google Cloud APIs for your project by using the <code>gcloud services enable</code> command.
To see a list of Google Cloud APIs and services that are available for your project, run the following command:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>gcloud services list --available</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will see an output similar to the following example:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre>NAME                                                  TITLE
abusiveexperiencereport.googleapis.com                Abusive Experience Report API
cloudbuild.googleapis.com                             Cloud Build API
composer.googleapis.com                               Cloud Composer API
compute.googleapis.com                                Compute Engine API
computescanning.googleapis.com                        Compute Scanning API
contacts.googleapis.com                               Contacts API
container.googleapis.com                              Kubernetes Engine API
containeranalysis.googleapis.com                      Container Analysis API
containerregistry.googleapis.com                      Container Registry API</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>NAME</code> field is the value that you need to pass into the <code>gcloud services enable</code> command to enable an API.</p>
</div>
<div class="paragraph">
<p>Run the following command to enable the <code>Compute Engine API</code>, <code>Cloud Build API</code>, and <code>Kubernetes Engine API</code>:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>gcloud services enable compute.googleapis.com cloudbuild.googleapis.com container.googleapis.com</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="setting-the-default-region-and-zone">Setting the default region and zone</h3>
<div class="paragraph">
<p>A Compute Engine region is a geographical location that is used to host your Compute Engine resources.
Each region is composed of multiple zones. For example, the <code>asia-east1</code> region is divided into
multiple zones: <code>asia-east1-a</code>, <code>asia-east1-b</code>, and <code>asia-east1-c</code>.
Some resources are limited to specific regions or zones, and other resources are available across all regions.
See the
<a href="https://cloud.google.com/compute/docs/regions-zones/global-regional-zonal-resources" target="_blank" rel="noopener noreferrer">Global, Regional, and Zonal Resources</a>
documentation for more details.</p>
</div>
<div class="paragraph">
<p>If resources are created without specifying a region or zone,
these new resources run in the default location for your project.
The metadata for your resources are stored at this specified Google Cloud location.</p>
</div>
<div class="paragraph">
<p>Run the following command to see the list of available zones and its corresponding regions for your project:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>gcloud compute zones list</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will see an output similar to the following example:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre>NAME                       REGION                   STATUS
us-west1-b                 us-west1                 UP
us-west1-c                 us-west1                 UP
us-west1-a                 us-west1                 UP
europe-west1-b             europe-west1             UP
europe-west1-d             europe-west1             UP
europe-west1-c             europe-west1             UP
asia-east1-b               asia-east1               UP
asia-east1-a               asia-east1               UP
asia-east1-c               asia-east1               UP
southamerica-east1-b       southamerica-east1       UP
southamerica-east1-c       southamerica-east1       UP
southamerica-east1-a       southamerica-east1       UP
northamerica-northeast1-a  northamerica-northeast1  UP
northamerica-northeast1-b  northamerica-northeast1  UP
northamerica-northeast1-c  northamerica-northeast1  UP</pre>
</div>
</div>
<div class="paragraph">
<p>The <code>NAME</code> field and <code>REGION</code> field are the values that you will later substitute into <code>[zone]</code> and <code>[region]</code>.</p>
</div>
<div class="paragraph">
<p>To set the default Compute Engine region and zone, run the <code>gcloud config set compute</code> command.
Remember to replace <code>[region]</code> and <code>[zone]</code> with a region and a zone that are available for your project.
Make sure that your zone is within the region that you set.</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>gcloud config set compute/region [region]
gcloud config set compute/zone [zone]</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="uploading-images-to-a-container-registry">Uploading images to a container registry</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The starting Java project, which you can find in the <code>start</code> directory, is a multi-module Maven
project. It is made up of the <code>system</code> and <code>inventory</code> microservices. Each microservice exists in its own directory,
<code>start/system</code> and <code>start/inventory</code>. Both of these directories contain a Dockerfile, which is necessary
for building the container images. If you’re unfamiliar with Dockerfiles, check out the
<a href="https://openliberty.io/guides/containerize.html" target="_blank" rel="noopener">Containerizing microservices</a> guide.</p>
</div>
<div class="paragraph">
<p>Navigate to the <code>start</code> directory and run the following command:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>cd start
mvn package</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now that your microservices are packaged, build your container images by using Google Cloud Build.
Instead of installing Docker locally to containerize your application, you can use Cloud Build’s
<code>gcloud builds submit --tag</code> command to build a Docker image from a Dockerfile and push that image to a container registry.
Cloud Build is similar to running the <code>docker build</code> and <code>docker push</code> commands.</p>
</div>
<div class="paragraph">
<p>Run the <code>gcloud builds submit --tag</code> command from the directories that contain the Dockerfiles.
You will build images for <code>system</code> and <code>inventory</code> by running the <code>gcloud builds submit --tag</code> command
from both the <code>start/system</code> and <code>start/inventory</code> directories.</p>
</div>
<div class="paragraph">
<p>Navigate to the <code>start/system</code> directory.</p>
</div>
<div class="paragraph">
<p>Build the <code>system</code> image and push it to your container registry by using Cloud Build.
Your container registry is located at <code>gcr.io/[project-id]</code>.
Replace <code>[project-id]</code> with the Project ID that you previously defined for your Google Cloud project.
To get the Project ID for your project, run the <code>gcloud config get-value project</code> command.</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>gcloud builds submit --tag gcr.io/[project-id]/system:1.0-SNAPSHOT</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the <code>system</code> image builds and pushes successfully, you will see the following output:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre>DONE
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

ID                                    CREATE_TIME                DURATION  SOURCE                                                                                  IMAGES                                     STATUS
30a71b4c-3481-48da-9faa-63f689316c3b  2020-02-12T16:22:33+00:00  1M37S     gs://[project-id]_cloudbuild/source/1581524552.36-65181b73aa63423998ae8ecdfbaeddff.tgz  gcr.io/[project-id]/system:1.0-SNAPSHOT    SUCCESS</pre>
</div>
</div>
<div class="paragraph">
<p>Navigate to the <code>start/inventory</code> directory.</p>
</div>
<div class="paragraph">
<p>Build the <code>inventory</code> image and push it to your container registry by using Cloud Build:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>gcloud builds submit --tag gcr.io/[project-id]/inventory:1.0-SNAPSHOT</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will see the following output:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre>DONE
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

ID                                    CREATE_TIME                DURATION  SOURCE                                                                                  IMAGES                                       STATUS
edbf9f6f-f01b-46cf-a998-594ad2df9bb3  2020-02-12T16:25:49+00:00  1M11S     gs://[project-id]_cloudbuild/source/1581524748.42-445ddab4cd3b4ba18e28a965e3942cea.tgz  gcr.io/[project-id]/inventory:1.0-SNAPSHOT   SUCCESS</pre>
</div>
</div>
<div class="paragraph">
<p>To verify that the images are built, run the following command to list all existing container images for your project:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>gcloud container images list</code></pre>
</div>
</div>
<div class="paragraph">
<p>Your <code>system</code> and <code>inventory</code> images should appear in the list of all container images:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre>NAME
gcr.io/[project-id]/inventory
gcr.io/[project-id]/system</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="provisioning-a-kubernetes-cluster-on-gke">Provisioning a Kubernetes cluster on GKE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To create your GKE cluster, use the <code>gcloud container clusters create</code> command.
When the cluster is created, the command outputs information about the cluster.
You might need to wait while your cluster is being created.</p>
</div>
<div class="paragraph">
<p>Replace <code>[cluster-name]</code> with a name that you want for your cluster.
The name for your cluster must contain only lowercase alphanumeric characters and <code>-</code>,
and must start with a letter and end with an alphanumeric character.</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>gcloud container clusters create [cluster-name] --num-nodes 1</code></pre>
</div>
</div>
<div class="paragraph">
<p>When your cluster is successfully created, you will see the following output:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre>NAME            LOCATION   MASTER_VERSION  MASTER_IP     MACHINE_TYPE   NODE_VERSION    NUM_NODES  STATUS
[cluster-name]  [zone]     1.13.11-gke.23  35.203.77.52  n1-standard-1  1.13.11-gke.23  1          RUNNING</pre>
</div>
</div>
<div class="paragraph">
<p>Since a zone was not specified in the <code>gcloud container clusters create</code> command,
your cluster was created in the default zone that you previously set in the <code>gcloud config set compute/zone</code> command.</p>
</div>
<div class="paragraph">
<p>The <code>--num-nodes</code> option creates a cluster with a certain number of nodes in the Kubernetes node pool.
By default, if this option is excluded, three nodes are assigned to the node pool.
You created a single-node cluster since this application does not require a large amount of resources.</p>
</div>
<div class="paragraph">
<p>Run the following command to check the status of the available node in your GKE cluster:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>kubectl get nodes</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>kubectl get nodes</code> command outputs information about the node.
The <code>STATUS</code> of the node is in the <code>Ready</code> state:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre>NAME                                           STATUS   ROLES    AGE   VERSION
gke-[cluster-name]-default-pool-be4471fe-qnl6  Ready    &lt;none&gt;   46s   v1.14.10-gke.17</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deploying-microservices-to-gke">Deploying microservices to GKE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now that your container images are built and you created a Kubernetes cluster, you can deploy the images using a Kubernetes resource definition.</p>
</div>
<div class="paragraph">
<p>A Kubernetes resource definition is a <code>yaml</code> file that contains a description of all your
deployments, services, or any other resources that you want to deploy. All resources can
also be deleted from the cluster by using the same <code>yaml</code> file that you used to deploy them.
The <code class="hotspot file=0">kubernetes.yaml</code> resource definition file is provided for you in the <code>start</code> directory. If you are interested
in learning more about the Kubernetes resource definition, check out the
<a href="https://openliberty.io/guides/kubernetes-intro.html" target="_blank" rel="noopener">Deploying microservices to Kubernetes</a>
guide.</p>
</div>
<div class="paragraph">
<p>Navigate to the <code>start</code> directory.</p>
</div>
<div class="listingblock code_command hotspot file=0">
<div class="content">
<pre><mark>Update the <code>kubernetes.yaml</code> file in the <code>start</code> directory.</mark>
<code>kubernetes.yaml</code></pre>
</div>
</div>
<div class="paragraph edit_command_text">
<p>Replace <code class="hotspot=sysImage hotspot=invImage file=0">[project-id]</code> with your Project ID.
You can get the Project ID for your project by running the <code>gcloud config get-value project</code> command.</p>
</div>
<div class="paragraph">
<p>kubernetes.yaml</p>
</div>
<div class="listingblock code_column">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="Text"><span class="line-numbers"> 1</span>apiVersion: apps/v1
<span class="line-numbers"> 2</span>kind: Deployment
<span class="line-numbers"> 3</span>metadata:
<span class="line-numbers"> 4</span>  name: system-deployment
<span class="line-numbers"> 5</span>  labels:
<span class="line-numbers"> 6</span>    app: system
<span class="line-numbers"> 7</span>spec:
<span class="line-numbers"> 8</span>  selector:
<span class="line-numbers"> 9</span>    matchLabels:
<span class="line-numbers">10</span>      app: system
<span class="line-numbers">11</span>  template:
<span class="line-numbers">12</span>    metadata:
<span class="line-numbers">13</span>      labels:
<span class="line-numbers">14</span>        app: system
<span class="line-numbers">15</span>    spec:
<span class="line-numbers">16</span>      containers:
<span class="line-numbers">17</span>      - name: system-container
<span class="line-numbers">18</span>        # tag::sysImage[]
<span class="line-numbers">19</span>        image: gcr.io/[project-id]/system:1.0-SNAPSHOT
<span class="line-numbers">20</span>        # end::sysImage[]
<span class="line-numbers">21</span>        ports:
<span class="line-numbers">22</span>        - containerPort: 9080
<span class="line-numbers">23</span>---
<span class="line-numbers">24</span>apiVersion: apps/v1
<span class="line-numbers">25</span>kind: Deployment
<span class="line-numbers">26</span>metadata:
<span class="line-numbers">27</span>  name: inventory-deployment
<span class="line-numbers">28</span>  labels:
<span class="line-numbers">29</span>    app: inventory
<span class="line-numbers">30</span>spec:
<span class="line-numbers">31</span>  selector:
<span class="line-numbers">32</span>    matchLabels:
<span class="line-numbers">33</span>      app: inventory
<span class="line-numbers">34</span>  template:
<span class="line-numbers">35</span>    metadata:
<span class="line-numbers">36</span>      labels:
<span class="line-numbers">37</span>        app: inventory
<span class="line-numbers">38</span>    spec:
<span class="line-numbers">39</span>      containers:
<span class="line-numbers">40</span>      - name: inventory-container
<span class="line-numbers">41</span>        # tag::invImage[]
<span class="line-numbers">42</span>        image: gcr.io/[project-id]/inventory:1.0-SNAPSHOT
<span class="line-numbers">43</span>        # end::invImage[]
<span class="line-numbers">44</span>        ports:
<span class="line-numbers">45</span>        - containerPort: 9080
<span class="line-numbers">46</span>---
<span class="line-numbers">47</span>apiVersion: v1
<span class="line-numbers">48</span>kind: Service
<span class="line-numbers">49</span>metadata:
<span class="line-numbers">50</span>  name: system-service
<span class="line-numbers">51</span>spec:
<span class="line-numbers">52</span>  # tag::sysNodePort[]
<span class="line-numbers">53</span>  type: NodePort
<span class="line-numbers">54</span>  # end::sysNodePort[]
<span class="line-numbers">55</span>  selector:
<span class="line-numbers">56</span>    app: system
<span class="line-numbers">57</span>  ports:
<span class="line-numbers">58</span>  - protocol: TCP
<span class="line-numbers">59</span>    port: 9080
<span class="line-numbers">60</span>    targetPort: 9080
<span class="line-numbers">61</span>    nodePort: 31000
<span class="line-numbers">62</span>---
<span class="line-numbers">63</span>apiVersion: v1
<span class="line-numbers">64</span>kind: Service
<span class="line-numbers">65</span>metadata:
<span class="line-numbers">66</span>  name: inventory-service
<span class="line-numbers">67</span>spec:
<span class="line-numbers">68</span>  # tag::invNodePort[]
<span class="line-numbers">69</span>  type: NodePort
<span class="line-numbers">70</span>  # end::invNodePort[]
<span class="line-numbers">71</span>  selector:
<span class="line-numbers">72</span>    app: inventory
<span class="line-numbers">73</span>  ports:
<span class="line-numbers">74</span>  - protocol: TCP
<span class="line-numbers">75</span>    port: 9080
<span class="line-numbers">76</span>    targetPort: 9080
<span class="line-numbers">77</span>    nodePort: 32000</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code class="hotspot=sysImage hotspot=invImage file=0">image</code> is the name and tag of the container image that you want
to use for the container. The <code class="hotspot">kubernetes.yaml</code> file references the images that you pushed to your registry
for the <code class="hotspot=sysImage file=0">system</code> and <code class="hotspot=invImage file=0">inventory</code> repositories.</p>
</div>
<div class="paragraph">
<p>The service that is used to expose your deployments has a type of <code class="hotspot=sysNodePort hotspot=invNodePort file=0">NodePort</code>.
This type means you can access these services from outside of your cluster via a specific port.
You can expose your services in other ways, such as using a <code>LoadBalancer</code> service type or by using an <code>Ingress</code>.
In production, you would most likely use an <code>Ingress</code>.</p>
</div>
<div class="sect2">
<h3 id="deploying-your-application">Deploying your application</h3>
<div class="paragraph">
<p>To deploy your microservices to Google Kubernetes Engine, you need Kubernetes to create
the contents of the <code class="hotspot">kubernetes.yaml</code> file.</p>
</div>
<div class="paragraph">
<p>Navigate to the <code>start</code> directory and run the following command to deploy the resources defined in the <code class="hotspot file=0">kubernetes.yaml</code> file:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>kubectl apply -f kubernetes.yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will see the following output:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre>deployment.apps/system-deployment created
deployment.apps/inventory-deployment created
service/system-service created
service/inventory-service created</pre>
</div>
</div>
<div class="paragraph">
<p>Run the following command to check the status of your pods:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>kubectl get pods</code></pre>
</div>
</div>
<div class="paragraph">
<p>If all the pods are healthy and running, you will see an output similar to the following example:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre>NAME                                    READY     STATUS    RESTARTS   AGE
system-deployment-6bd97d9bf6-4ccds      1/1       Running   0          15s
inventory-deployment-645767664f-nbtd9   1/1       Running   0          15s</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="making-requests-to-the-microservices">Making requests to the microservices</h3>
<div class="paragraph">
<p>To try out your microservices, you need to allow TCP traffic on your node ports, <code>31000</code> and <code>32000</code>,
for the <code>system</code> and <code>inventory</code> microservices.</p>
</div>
<div class="paragraph">
<p>Create a firewall rule to allow TCP traffic on your node ports:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>gcloud compute firewall-rules create sys-node-port --allow tcp:31000
gcloud compute firewall-rules create inv-node-port --allow tcp:32000</code></pre>
</div>
</div>
<div class="paragraph">
<p>Take note of the <code>EXTERNAL-IP</code> in the output of the following command. It is the hostname that you will later substitute into <code>[hostname]</code>:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>kubectl get nodes -o wide</code></pre>
</div>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre>NAME                                  STATUS   ROLES    AGE   VERSION           INTERNAL-IP   EXTERNAL-IP
gke-[cluster-name]-default-pool-be4   Ready    &lt;none&gt;   14m   v1.13.11-gke.23   10.162.0.2    35.203.106.216</pre>
</div>
</div>
<div class="paragraph">
<p>To access your microservices, point your browser to the following URLs, substituting the appropriate <code>[hostname]</code> value:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>http://[hostname]:31000/system/properties</code></p>
</li>
<li>
<p><code>http://[hostname]:32000/inventory/systems</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the first URL, you see a result in JSON format with the system properties of the container JVM.
The second URL returns an empty list, which is expected because no system properties are stored in the inventory yet.</p>
</div>
<div class="paragraph">
<p>Point your browser to the <code>http://[hostname]:32000/inventory/systems/system-service</code> URL. When you visit this URL, these system
properties are automatically stored in the inventory. Go back to <code>http://[hostname]:32000/inventory/systems</code> and
you see a new entry for <code>system-service</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing-the-microservices">Testing the microservices</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A few tests are included for you to test the basic functionality of the microservices.
If a test failure occurs, then you might have introduced a bug into the code.
To run the tests, wait for all pods to be in the ready state before you proceed further.</p>
</div>
<div class="paragraph">
<p>pom.xml</p>
</div>
<div class="listingblock code_column">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="line-numbers">  1</span><span class="preprocessor">&lt;?xml version='1.0' encoding='utf-8'?&gt;</span>
<span class="line-numbers">  2</span><span class="tag">&lt;project</span> <span class="attribute-name">xmlns</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0</span><span class="delimiter">"</span></span> 
<span class="line-numbers">  3</span>    <span class="attribute-name">xmlns:xsi</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://www.w3.org/2001/XMLSchema-instance</span><span class="delimiter">"</span></span> 
<span class="line-numbers">  4</span>    <span class="attribute-name">xsi:schemaLocation</span>=<span class="string"><span class="delimiter">"</span><span class="content">http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd</span><span class="delimiter">"</span></span><span class="tag">&gt;</span>
<span class="line-numbers">  5</span>    
<span class="line-numbers">  6</span>    <span class="tag">&lt;modelVersion&gt;</span>4.0.0<span class="tag">&lt;/modelVersion&gt;</span>
<span class="line-numbers">  7</span>
<span class="line-numbers">  8</span>    <span class="tag">&lt;groupId&gt;</span>io.openliberty.guides<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">  9</span>
<span class="line-numbers"> 10</span>    <span class="tag">&lt;artifactId&gt;</span>inventory<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 11</span>    <span class="tag">&lt;version&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 12</span>    <span class="tag">&lt;packaging&gt;</span>war<span class="tag">&lt;/packaging&gt;</span>
<span class="line-numbers"> 13</span>
<span class="line-numbers"> 14</span>    <span class="tag">&lt;properties&gt;</span>
<span class="line-numbers"> 15</span>        <span class="tag">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.build.sourceEncoding&gt;</span>
<span class="line-numbers"> 16</span>        <span class="tag">&lt;project.reporting.outputEncoding&gt;</span>UTF-8<span class="tag">&lt;/project.reporting.outputEncoding&gt;</span>
<span class="line-numbers"> 17</span>        <span class="tag">&lt;maven.compiler.source&gt;</span>1.8<span class="tag">&lt;/maven.compiler.source&gt;</span>
<span class="line-numbers"> 18</span>        <span class="tag">&lt;maven.compiler.target&gt;</span>1.8<span class="tag">&lt;/maven.compiler.target&gt;</span>
<span class="line-numbers"> 19</span>        <span class="comment">&lt;!-- Default test properties --&gt;</span>
<span class="line-numbers"> 20</span>        <span class="comment">&lt;!-- tag::cluster[] --&gt;</span>
<span class="line-numbers"> 21</span>        <span class="tag">&lt;cluster.ip&gt;</span>localhost<span class="tag">&lt;/cluster.ip&gt;</span>
<span class="line-numbers"> 22</span>        <span class="comment">&lt;!-- end::cluster[] --&gt;</span>
<span class="line-numbers"> 23</span>        <span class="comment">&lt;!-- tag::system-service[] --&gt;</span>
<span class="line-numbers"> 24</span>        <span class="tag">&lt;system.kube.service&gt;</span>system-service<span class="tag">&lt;/system.kube.service&gt;</span>
<span class="line-numbers"> 25</span>        <span class="comment">&lt;!-- end::system-service[] --&gt;</span>
<span class="line-numbers"> 26</span>        <span class="comment">&lt;!-- tag::system-node-port[] --&gt;</span>
<span class="line-numbers"> 27</span>        <span class="tag">&lt;system.node.port&gt;</span>31000<span class="tag">&lt;/system.node.port&gt;</span>
<span class="line-numbers"> 28</span>        <span class="comment">&lt;!-- end::system-node-port[] --&gt;</span>
<span class="line-numbers"> 29</span>        <span class="comment">&lt;!-- tag::inventory-node-port[] --&gt;</span>
<span class="line-numbers"> 30</span>        <span class="tag">&lt;inventory.node.port&gt;</span>32000<span class="tag">&lt;/inventory.node.port&gt;</span>
<span class="line-numbers"> 31</span>        <span class="comment">&lt;!-- end::inventory-node-port[] --&gt;</span>
<span class="line-numbers"> 32</span>        <span class="comment">&lt;!-- Liberty configuration --&gt;</span>
<span class="line-numbers"> 33</span>        <span class="tag">&lt;liberty.var.default.http.port&gt;</span>9080<span class="tag">&lt;/liberty.var.default.http.port&gt;</span>
<span class="line-numbers"> 34</span>        <span class="tag">&lt;liberty.var.default.https.port&gt;</span>9443<span class="tag">&lt;/liberty.var.default.https.port&gt;</span>
<span class="line-numbers"> 35</span>    <span class="tag">&lt;/properties&gt;</span>
<span class="line-numbers"> 36</span>
<span class="line-numbers"> 37</span>    <span class="tag">&lt;dependencies&gt;</span>
<span class="line-numbers"> 38</span>        <span class="comment">&lt;!-- Provided dependencies --&gt;</span>
<span class="line-numbers"> 39</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 40</span>            <span class="tag">&lt;groupId&gt;</span>jakarta.platform<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 41</span>            <span class="tag">&lt;artifactId&gt;</span>jakarta.jakartaee-api<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 42</span>            <span class="tag">&lt;version&gt;</span>8.0.0<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 43</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 44</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 45</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 46</span>            <span class="tag">&lt;groupId&gt;</span>org.eclipse.microprofile<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 47</span>            <span class="tag">&lt;artifactId&gt;</span>microprofile<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 48</span>            <span class="tag">&lt;version&gt;</span>3.3<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 49</span>            <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
<span class="line-numbers"> 50</span>            <span class="tag">&lt;scope&gt;</span>provided<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 51</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 52</span>        <span class="comment">&lt;!-- For tests --&gt;</span>
<span class="line-numbers"> 53</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 54</span>            <span class="tag">&lt;groupId&gt;</span>org.junit.jupiter<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 55</span>            <span class="tag">&lt;artifactId&gt;</span>junit-jupiter<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 56</span>            <span class="tag">&lt;version&gt;</span>5.6.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 57</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 58</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 59</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 60</span>            <span class="tag">&lt;groupId&gt;</span>org.apache.cxf<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 61</span>            <span class="tag">&lt;artifactId&gt;</span>cxf-rt-rs-client<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 62</span>            <span class="tag">&lt;version&gt;</span>3.3.6<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 63</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 64</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 65</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 66</span>            <span class="tag">&lt;groupId&gt;</span>org.apache.cxf<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 67</span>            <span class="tag">&lt;artifactId&gt;</span>cxf-rt-rs-extension-providers<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 68</span>            <span class="tag">&lt;version&gt;</span>3.3.6<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 69</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 70</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 71</span>        <span class="tag">&lt;dependency&gt;</span>
<span class="line-numbers"> 72</span>            <span class="tag">&lt;groupId&gt;</span>org.glassfish<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 73</span>            <span class="tag">&lt;artifactId&gt;</span>javax.json<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 74</span>            <span class="tag">&lt;version&gt;</span>1.1.4<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 75</span>            <span class="tag">&lt;scope&gt;</span>test<span class="tag">&lt;/scope&gt;</span>
<span class="line-numbers"> 76</span>        <span class="tag">&lt;/dependency&gt;</span>
<span class="line-numbers"> 77</span>    <span class="tag">&lt;/dependencies&gt;</span>
<span class="line-numbers"> 78</span>
<span class="line-numbers"> 79</span>    <span class="tag">&lt;build&gt;</span>
<span class="line-numbers"> 80</span>        <span class="tag">&lt;finalName&gt;</span>${project.artifactId}<span class="tag">&lt;/finalName&gt;</span>
<span class="line-numbers"> 81</span>        <span class="tag">&lt;plugins&gt;</span>
<span class="line-numbers"> 82</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 83</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 84</span>                <span class="tag">&lt;artifactId&gt;</span>maven-war-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 85</span>                <span class="tag">&lt;version&gt;</span>3.2.3<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 86</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 87</span>            <span class="comment">&lt;!-- Enable Liberty Maven plugin --&gt;</span>
<span class="line-numbers"> 88</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 89</span>                <span class="tag">&lt;groupId&gt;</span>io.openliberty.tools<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 90</span>                <span class="tag">&lt;artifactId&gt;</span>liberty-maven-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 91</span>                <span class="tag">&lt;version&gt;</span>3.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 92</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 93</span>            <span class="comment">&lt;!-- Plugin to run unit tests --&gt;</span>
<span class="line-numbers"> 94</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers"> 95</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers"> 96</span>                <span class="tag">&lt;artifactId&gt;</span>maven-surefire-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers"> 97</span>                <span class="tag">&lt;version&gt;</span>2.22.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers"> 98</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers"> 99</span>            <span class="comment">&lt;!-- Plugin to run functional tests --&gt;</span>
<span class="line-numbers">100</span>            <span class="tag">&lt;plugin&gt;</span>
<span class="line-numbers">101</span>                <span class="tag">&lt;groupId&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/groupId&gt;</span>
<span class="line-numbers">102</span>                <span class="tag">&lt;artifactId&gt;</span>maven-failsafe-plugin<span class="tag">&lt;/artifactId&gt;</span>
<span class="line-numbers">103</span>                <span class="tag">&lt;version&gt;</span>2.22.2<span class="tag">&lt;/version&gt;</span>
<span class="line-numbers">104</span>                <span class="tag">&lt;configuration&gt;</span>
<span class="line-numbers">105</span>                    <span class="tag">&lt;systemPropertyVariables&gt;</span>
<span class="line-numbers">106</span>                        <span class="tag">&lt;cluster.ip&gt;</span>${cluster.ip}<span class="tag">&lt;/cluster.ip&gt;</span>
<span class="line-numbers">107</span>                        <span class="tag">&lt;system.node.port&gt;</span>${system.node.port}<span class="tag">&lt;/system.node.port&gt;</span>
<span class="line-numbers">108</span>                        <span class="tag">&lt;inventory.node.port&gt;</span>${inventory.node.port}<span class="tag">&lt;/inventory.node.port&gt;</span>
<span class="line-numbers">109</span>                        <span class="tag">&lt;system.kube.service&gt;</span>${system.kube.service}<span class="tag">&lt;/system.kube.service&gt;</span>
<span class="line-numbers">110</span>                    <span class="tag">&lt;/systemPropertyVariables&gt;</span>
<span class="line-numbers">111</span>                <span class="tag">&lt;/configuration&gt;</span>
<span class="line-numbers">112</span>            <span class="tag">&lt;/plugin&gt;</span>
<span class="line-numbers">113</span>        <span class="tag">&lt;/plugins&gt;</span>
<span class="line-numbers">114</span>    <span class="tag">&lt;/build&gt;</span>
<span class="line-numbers">115</span><span class="tag">&lt;/project&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The default properties that are defined in the <code class="hotspot file=0">pom.xml</code> file are:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 13.0434%;">
<col style="width: 86.9566%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Property</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code class="hotspot=cluster file=0">cluster.ip</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The IP or hostname for your cluster.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code class="hotspot=system-service file=0">system.kube.service</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the Kubernetes Service wrapping the <code>system</code> pods, <code>system-service</code> by default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code class="hotspot=system-node-port file=0">system.node.port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The NodePort of the <code>system-service</code> Kubernetes Service, 31000 by default.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code class="hotspot=inventory-node-port file=0">inventory.node.port</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The NodePort of the <code>inventory-service</code> Kubernetes Service, 32000 by default.</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="running-the-tests">Running the tests</h3>
<div class="paragraph">
<p>Run the Maven <code>failsafe:integration-test</code> goal to test your microservices by replacing the <code>[hostname]</code>
with the value determined in the previous section.</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>mvn failsafe:integration-test -Dcluster.ip=[hostname]</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the tests pass, you will see the following output for each service:</p>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre>-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running it.io.openliberty.guides.system.SystemEndpointIT
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.673 sec - in it.io.openliberty.guides.system.SystemEndpointIT

Results:

Tests run: 1, Failures: 0, Errors: 0, Skipped: 0</pre>
</div>
</div>
<div class="listingblock no_copy">
<div class="content">
<pre>-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running it.io.openliberty.guides.inventory.InventoryEndpointIT
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.222 sec - in it.io.openliberty.guides.inventory.InventoryEndpointIT

Results:

Tests run: 4, Failures: 0, Errors: 0, Skipped: 0</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tearing-down-the-environment">Tearing down the environment</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is important to clean up your resources when you are finished with the guide so that you do not incur extra charges for ongoing usage.</p>
</div>
<div class="paragraph">
<p>When you no longer need your deployed microservices, you can delete all Kubernetes resources
by running the <code>kubectl delete</code> command:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>kubectl delete -f kubernetes.yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>Delete the firewall rules for your node ports:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>gcloud compute firewall-rules delete sys-node-port inv-node-port</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since you are done testing your cluster, clean up all of its related sources by using the <code>gcloud container clusters delete</code> command:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>gcloud container clusters delete [cluster-name]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Remove the container images from the container registry:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>gcloud container images delete gcr.io/[project-id]/system:1.0-SNAPSHOT gcr.io/[project-id]/inventory:1.0-SNAPSHOT</code></pre>
</div>
</div>
<div class="paragraph">
<p>Delete your Google Cloud project:</p>
</div>
<div class="listingblock command">
<div class="content">
<pre class="CodeRay highlight"><code>gcloud projects delete [project-id]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="great-work-youre-done">Great work! You’re done!</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You have just deployed two microservices running in Open Liberty to Google Kubernetes Engine (GKE). You also
learned how to use <code>kubectl</code> to deploy your microservices on a Kubernetes cluster.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="guide-attribution">Guide Attribution</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Deploying microservices to Google Cloud Platform <span class="licensedClass">by</span> Open Liberty <span class="licensedClass">is licensed under</span> CC BY-ND 4.0</p>
</div>
</div>
</div>
    </div>
  </div>

  <!-- Code section -->
  <div id="code_column" class="position_relative" tabindex="0">
    <div id="code_column_title_container">
      <div id="code_column_tabs_container" class="dimmed">
        <ul id="code_column_tabs" class="nav" role="tablist"></ul>
      </div>
      <div class="copyFileButton" tabindex="0">
        <img src="/img/guides_copy_button.svg" alt="Copy file contents" title="Copy file contents">
        <div id="code_section_copied_confirmation">Copied to clipboard </div>
      </div>
    </div>
    <div id="code_column_content"></div>

    <div id="prereqs_container">
      <p id="prereqs_title">Prerequisites:</p>
      <div class="prereqs_list"></div>
      <div class="skills_network_container">
        <div class="skills_network_description"></div>
      </div>
    </div>

    <button id="dismiss_button" aria-label="Back to text" tabindex="0">
      Back to text
    </button>
  </div>
</div>

<!-- Build a list of all the documents in the guides code base -->






<!-- Remove any documents deemed private (archived, templates, etc) -->


<!-- Count number of guides from past 30 days-->


    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    

    
    
    

    <!-- 2592000 is 30 days in seconds (30 days * 24 hours * 60 minutes * 60 seconds) -->
    


<!-- Sort list of guides by date with most recent first -->





<div id="end_of_guide">
        <h2 tabindex="0">Nice work! Where to next?</h2>
        <div id="end_of_guide_left_section">
            <p id="guide_attribution"></p>
            
            <h3 id="feedback_rating_question">What did you think of this guide?</h3>
            <div id="feedback_ratings">
                <img class="guide_rating" id="extreme_dislike" src="/img/1_Extreme_Dislike.png" onclick="$('#dislike_popup').show(); $('.popup_content').focus();" alt="Extreme Dislike" data-guide-rating="1" tabindex="0" aria-label="Rate this guide as extreme dislike">
                <img class="guide_rating" id="dislike" src="/img/2_Dislike.png" onclick="$('#dislike_popup').show(); $('.popup_content').focus();" alt="Dislike" data-guide-rating="2" tabindex="0" aria-label="Rate this guide as dislike">
                <img class="guide_rating" id="like" src="/img/3_Like.png" onclick="$('#like_popup').show(); $('.popup_content').focus();" alt="Like" data-guide-rating="3" tabindex="0" aria-label="Rate this guide as like">
                <img class="guide_rating" id="extreme_like" src="/img/4_Extreme_Like.png" onclick="$('#like_popup').show(); $('.popup_content').focus();" alt="Extreme Like" data-guide-rating="4" tabindex="0" aria-label="Rate this guide as extreme like">
            </div>

            <div id="like_popup" class="popup">
                <div class="popup_content" tabindex="0">
                    <p class="popup_title">Thank you for your feedback!</p>
                    <button id="close_button" class="popup_button" onclick="$('#like_popup').hide();">Close</button>
                </div>
            </div>

            <div id="dislike_popup" class="popup">
                <div class="popup_content" tabindex="0">
                    <p class="popup_title">Thank you for your feedback!</p>
                    <p id="open_issue">Would you like to open an issue in GitHub?</p>
                    
                        <a href="https://github.com/OpenLiberty/guide-cloud-google/issues/new" target="_blank" id="yes_button" class="popup_button" onclick="$('#dislike_popup').hide();" rel="noopener noreferrer">Yes</a>
                    
                    <button id="no_button" class="popup_button" onclick="$('#dislike_popup').hide();">No, thank you</button>
                </div>
            </div>

            <h3 id="improve_guide_feedback">What could make this guide better?</h3>
            
                <p><a target="_blank" rel="noopener noreferrer" href="https://github.com/OpenLiberty/guide-cloud-google/issues">Raise an issue</a> to share feedback</p>
                <p><a target="_blank" rel="noopener noreferrer" href="https://github.com/OpenLiberty/guide-cloud-google/pulls">Create a pull request</a> to contribute to this guide</p>
            

            <h3 id="need_help">Need help?</h3>
            <p><a target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/questions/tagged/open-liberty">Ask a question on Stack Overflow</a></p>

            <h3>Like Open Liberty? Star our repo on GitHub.</h3>
            <a class="github-button" href="https://github.com/OpenLiberty/open-liberty" data-icon="octicon-star" aria-label="Star OpenLiberty/open-liberty on GitHub" target="_blank" rel="noopener noreferrer">Star</a>
        </div>
        <div id="end_of_guide_right_section">
            <h3 id="where_to_next">Where to next?</h3>

            
            

            <!-- Related guides section -->
            
            <div id="related-guides">
                <div id="related-guides-cards" class="row">
                
                    
                    
                    
                        <!-- Only create a card if we find the permalink -->
                        
                        <div class="col-sm-12 col-lg-6">
                            <a href="/zh-Hans/guides/kubernetes-intro.html" class="small_guide_item">
                                <div class="guide_title_container">
                                    <h3 class="guide_title">Deploying microservices to Kubernetes</h3>
                                </div>
                                <img class="duration_clock_icon" src="/img/guide_duration_clock_icon_small.svg" alt="Duration">
                                <span class="guide_duration">25 minutes</span>

                                <!-- Add New flag to guides from the past 30 days or 4 most recent posts. -->
                                <!-- If new posts count is less than 4, use 4 most recent posts -->
                                
                                    
                                <!-- If new posts count is >= 4, use posts from last 30 days-->
                                
                                <!-- Add Updated flag to guides if the last major update is within last 12 weeks. -->
                                <!-- Count number of guides from past last 12 weeks that is 84 days-->
                                <!-- 7257600 is 84 days in seconds (84 days * 24 hours * 60 minutes * 60 seconds) -->
                                
                                
                            </a>
                        </div>
                    
                
                    
                    
                    
                        <!-- Only create a card if we find the permalink -->
                        
                        <div class="col-sm-12 col-lg-6">
                            <a href="/zh-Hans/guides/kubernetes-microprofile-config.html" class="small_guide_item">
                                <div class="guide_title_container">
                                    <h3 class="guide_title">Configuring microservices running in Kubernetes</h3>
                                </div>
                                <img class="duration_clock_icon" src="/img/guide_duration_clock_icon_small.svg" alt="Duration">
                                <span class="guide_duration">15 minutes</span>

                                <!-- Add New flag to guides from the past 30 days or 4 most recent posts. -->
                                <!-- If new posts count is less than 4, use 4 most recent posts -->
                                
                                    
                                <!-- If new posts count is >= 4, use posts from last 30 days-->
                                
                                <!-- Add Updated flag to guides if the last major update is within last 12 weeks. -->
                                <!-- Count number of guides from past last 12 weeks that is 84 days-->
                                <!-- 7257600 is 84 days in seconds (84 days * 24 hours * 60 minutes * 60 seconds) -->
                                
                                
                            </a>
                        </div>
                    
                
                    
                    
                    
                        <!-- Only create a card if we find the permalink -->
                        
                        <div class="col-sm-12 col-lg-6">
                            <a href="/zh-Hans/guides/kubernetes-microprofile-health.html" class="small_guide_item">
                                <div class="guide_title_container">
                                    <h3 class="guide_title">Checking the health of microservices on Kubernetes</h3>
                                </div>
                                <img class="duration_clock_icon" src="/img/guide_duration_clock_icon_small.svg" alt="Duration">
                                <span class="guide_duration">20 minutes</span>

                                <!-- Add New flag to guides from the past 30 days or 4 most recent posts. -->
                                <!-- If new posts count is less than 4, use 4 most recent posts -->
                                
                                    
                                <!-- If new posts count is >= 4, use posts from last 30 days-->
                                
                                <!-- Add Updated flag to guides if the last major update is within last 12 weeks. -->
                                <!-- Count number of guides from past last 12 weeks that is 84 days-->
                                <!-- 7257600 is 84 days in seconds (84 days * 24 hours * 60 minutes * 60 seconds) -->
                                
                                
                            </a>
                        </div>
                    
                
                </div>
            </div>
            
        </div>
    </div>



    </main>

    



<footer>
    <div id="footer_gray_background">
        <div id="footer_top_container" class="footer_container container-fluid">
            <div id="footer_project_container">
                <span id="footer_open_liberty"></span>
                <p id="footer_project">IBM 开放式源代码项目</p>
            </div>
            <div id="footer_round_links_container">
                <a id="footer_github_link" class="footer_round_btn" href="https://github.com/OpenLiberty/" target="_blank" rel="noopener noreferrer" aria-label="Github"></a>
                <a id="footer_twitter_link" class="footer_round_btn" href="https://twitter.com/OpenLibertyIO" target="_blank" rel="noopener noreferrer" aria-label="Twitter"></a>
                <a id="footer_stackoverflow_link" class="footer_round_btn" href="https://stackoverflow.com/questions/tagged/open-liberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty questions on Stack Overflow"></a>
                <a id="footer_groupsio_link" class="footer_round_btn" href="https://groups.io/g/openliberty" target="_blank" rel="noopener noreferrer" aria-label="Open Liberty Groups.io"></a>
                <a id="footer_gitter_link" class="footer_round_btn" href="https://app.gitter.im/#/room/#OpenLiberty_development:gitter.im" target="_blank" rel="noopener" aria-label="Open Liberty Gitter"></a>
            </div>
        </div>         
    </div>

    <div id="footer_bottom_container" class="footer_container container-fluid">
        <div id="footer_bottom_left_section">
            <p id="footer_copyright">© Copyright IBM Corp. 2017, 2023</p>
            <p class="vertical_bar">|</p>
            <a id="footer_privacy_policy_link" href="https://www.ibm.com/privacy/" target="_blank" rel="noopener noreferrer" class="left_footer_link">隐私策略</a>
            <p class="vertical_bar">|</p>
            <a id="footer_license_link" href="https://github.com/OpenLiberty/open-liberty/blob/release/LICENSE" target="_blank" rel="noopener noreferrer" class="left_footer_link">许可证</a>
            <p class="vertical_bar">|</p>
            <a id="footer_logos_link" href="https://github.com/OpenLiberty/logos" target="_blank" rel="noopener noreferrer" class="left_footer_link">洛戈斯</a>
        </div>
        <div id="footer_bottom_right_section">
            <a id="footer_docs_link" href="/docs" aria-label="Open Liberty Docs" class="right_footer_link blue_link_light_background">文档</a>
            <a id="footer_blog_link" href="/blog" aria-label="Open Liberty Blog" class="right_footer_link blue_link_light_background">博客</a>
            <a id="footer_support_link" href="/support" aria-label="Open Liberty Support" class="right_footer_link blue_link_light_background">支持</a>
        </div>
    </div>
</footer>

<!-- PRE-LOADED IMAGES FOR ON HOVER BEHAVIOR -->
<div class="d-none hidden">
    <img src="/img/Footer_GitCat_Hover.svg" alt="OpenLiberty Github link">
    <img src="/img/Footer_TwitterBird_Hover.svg" alt="OpenLibertyIO Twitter link">
    <img src="/img/Footer_StackO_Hover.svg" alt="Open-liberty Stack Overflow link">
    <img src="/img/Footer_GroupsIO_Hover.svg" alt="Openliberty Groups IO link">
    <img src="/img/footer_gitter_hover.svg" alt="Openliberty Gitter link">
</div>

    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0/jquery.min.js" integrity="sha512-lzilC+JFd6YV8+vQRNRtU7DOqv5Sa9Ek53lXt/k91HZTJpytHS1L6l1mMKR9K6VVoDt4LiEXaa6XBrYk1YhGTQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>


<script type="text/javascript" src="/zh-Hans/assets/devEnvironment.js"></script>




  <script type="text/javascript" src="/zh-Hans/assets/guide-common.js"></script>

  <script type="text/javascript" src="/zh-Hans/assets/toc.js"></script>

  <script type="text/javascript" src="/zh-Hans/assets/tabs.js"></script>

  <script type="text/javascript" src="/zh-Hans/assets/guide-static.js"></script>

  <script type="text/javascript" src="/zh-Hans/assets/guide-multipane-static.js"></script>


<script type="text/javascript" src="/zh-Hans/assets/openliberty.js"></script>

  </body>

</html>
